"use strict";(self.webpackChunkassignment=self.webpackChunkassignment||[]).push([[179],{887:()=>{function Ue(n){return"function"==typeof n}function sc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Of=sc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ja(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class rr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Ue(r))try{r()}catch(s){e=s instanceof Of?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{rR(s)}catch(o){e=e??[],o instanceof Of?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Of(e)}}add(e){var t;if(e&&e!==this)if(this.closed)rR(e);else{if(e instanceof rr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ja(t,e)}remove(e){const{_finalizers:t}=this;t&&Ja(t,e),e instanceof rr&&e._removeParent(this)}}rr.EMPTY=(()=>{const n=new rr;return n.closed=!0,n})();const tR=rr.EMPTY;function nR(n){return n instanceof rr||n&&"closed"in n&&Ue(n.remove)&&Ue(n.add)&&Ue(n.unsubscribe)}function rR(n){Ue(n)?n():n.unsubscribe()}const Ao={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ff={setTimeout(n,e,...t){const{delegate:r}=Ff;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ff;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function iR(n){Ff.setTimeout(()=>{const{onUnhandledError:e}=Ao;if(!e)throw n;e(n)})}function sR(){}const S6=av("C",void 0,void 0);function av(n,e,t){return{kind:n,value:e,error:t}}let Mo=null;function Lf(n){if(Ao.useDeprecatedSynchronousErrorHandling){const e=!Mo;if(e&&(Mo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=Mo;if(Mo=null,t)throw r}}else n()}class uv extends rr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nR(e)&&e.add(this)):this.destination=P6}static create(e,t,r){return new oc(e,t,r)}next(e){this.isStopped?cv(function M6(n){return av("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?cv(function A6(n){return av("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cv(S6,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const x6=Function.prototype.bind;function lv(n,e){return x6.call(n,e)}class R6{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Vf(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Vf(r)}else Vf(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Vf(t)}}}class oc extends uv{constructor(e,t,r){let i;if(super(),Ue(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ao.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&lv(e.next,s),error:e.error&&lv(e.error,s),complete:e.complete&&lv(e.complete,s)}):i=e}this.destination=new R6(i)}}function Vf(n){Ao.useDeprecatedSynchronousErrorHandling?function N6(n){Ao.useDeprecatedSynchronousErrorHandling&&Mo&&(Mo.errorThrown=!0,Mo.error=n)}(n):iR(n)}function cv(n,e){const{onStoppedNotification:t}=Ao;t&&Ff.setTimeout(()=>t(n,e))}const P6={closed:!0,next:sR,error:function k6(n){throw n},complete:sR},dv="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ds(n){return n}function oR(n){return 0===n.length?Ds:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ct=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function L6(n){return n&&n instanceof uv||function F6(n){return n&&Ue(n.next)&&Ue(n.error)&&Ue(n.complete)}(n)&&nR(n)}(t)?t:new oc(t,r,i);return Lf(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=aR(r))((i,s)=>{const o=new oc({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[dv](){return this}pipe(...t){return oR(t)(this)}toPromise(t){return new(t=aR(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function aR(n){var e;return null!==(e=n??Ao.Promise)&&void 0!==e?e:Promise}const V6=sc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Bi=(()=>{class n extends ct{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new uR(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new V6}next(t){Lf(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Lf(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lf(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?tR:(this.currentObservers=null,s.push(t),new rr(()=>{this.currentObservers=null,Ja(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new ct;return t.source=this,t}}return n.create=(e,t)=>new uR(e,t),n})();class uR extends Bi{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:tR}}class Ir extends Bi{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function lR(n){return Ue(n?.lift)}function $t(n){return e=>{if(lR(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function kt(n,e,t,r,i){return new U6(n,e,t,r,i)}class U6 extends uv{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Be(n,e){return $t((t,r)=>{let i=0;t.subscribe(kt(r,s=>{r.next(n.call(e,s,i++))}))})}function pv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Ss(n){return this instanceof Ss?(this.v=n,this):new Ss(n)}function fR(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function mv(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const pR=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function gR(n){return Ue(n?.then)}function mR(n){return Ue(n[dv])}function yR(n){return Symbol.asyncIterator&&Ue(n?.[Symbol.asyncIterator])}function _R(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const vR=function o9(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function wR(n){return Ue(n?.[vR])}function ER(n){return function hR(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,g){s.push([h,f,p,g])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ss?Promise.resolve(h.value.v).then(l,c):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){a("next",h)}function c(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Ss(t.read());if(i)return yield Ss(void 0);yield yield Ss(r)}}finally{t.releaseLock()}})}function IR(n){return Ue(n?.getReader)}function Cr(n){if(n instanceof ct)return n;if(null!=n){if(mR(n))return function a9(n){return new ct(e=>{const t=n[dv]();if(Ue(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(pR(n))return function u9(n){return new ct(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(gR(n))return function l9(n){return new ct(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,iR)})}(n);if(yR(n))return CR(n);if(wR(n))return function c9(n){return new ct(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(IR(n))return function d9(n){return CR(ER(n))}(n)}throw _R(n)}function CR(n){return new ct(e=>{(function h9(n,e){var t,r,i,s;return function cR(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(c){try{l(r.next(c))}catch(d){o(d)}}function u(c){try{l(r.throw(c))}catch(d){o(d)}}function l(c){c.done?s(c.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=fR(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function $i(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function nn(n,e,t=1/0){return Ue(e)?nn((r,i)=>Be((s,o)=>e(r,s,i,o))(Cr(n(r,i))),t):("number"==typeof e&&(t=e),$t((r,i)=>function f9(n,e,t,r,i,s,o,a){const u=[];let l=0,c=0,d=!1;const h=()=>{d&&!u.length&&!l&&e.complete()},f=g=>l<r?p(g):u.push(g),p=g=>{s&&e.next(g),l++;let m=!1;Cr(t(g,c++)).subscribe(kt(e,_=>{i?.(_),s?f(_):e.next(_)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;u.length&&l<r;){const _=u.shift();o?$i(e,o,()=>p(_)):p(_)}h()}catch(_){e.error(_)}}))};return n.subscribe(kt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,n,t)))}function Za(n=1/0){return nn(Ds,n)}const ni=new ct(n=>n.complete());function yv(n){return n[n.length-1]}function TR(n){return Ue(yv(n))?n.pop():void 0}function ac(n){return function g9(n){return n&&Ue(n.schedule)}(yv(n))?n.pop():void 0}function Uf(n,e=0){return $t((t,r)=>{t.subscribe(kt(r,i=>$i(r,n,()=>r.next(i),e),()=>$i(r,n,()=>r.complete(),e),i=>$i(r,n,()=>r.error(i),e)))})}function Bf(n,e=0){return $t((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bR(n,e){if(!n)throw new Error("Iterable cannot be null");return new ct(t=>{$i(t,e,()=>{const r=n[Symbol.asyncIterator]();$i(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function jt(n,e){return e?function I9(n,e){if(null!=n){if(mR(n))return function y9(n,e){return Cr(n).pipe(Bf(e),Uf(e))}(n,e);if(pR(n))return function v9(n,e){return new ct(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(gR(n))return function _9(n,e){return Cr(n).pipe(Bf(e),Uf(e))}(n,e);if(yR(n))return bR(n,e);if(wR(n))return function w9(n,e){return new ct(t=>{let r;return $i(t,e,()=>{r=n[vR](),$i(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>Ue(r?.return)&&r.return()})}(n,e);if(IR(n))return function E9(n,e){return bR(ER(n),e)}(n,e)}throw _R(n)}(n,e):Cr(n)}function Z(...n){return jt(n,ac(n))}function DR(n={}){const{connector:e=(()=>new Bi),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,u,l=0,c=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,c=d=!1},p=()=>{const g=o;f(),g?.unsubscribe()};return $t((g,m)=>{l++,!d&&!c&&h();const _=u=u??e();m.add(()=>{l--,0===l&&!d&&!c&&(a=_v(p,i))}),_.subscribe(m),!o&&l>0&&(o=new oc({next:y=>_.next(y),error:y=>{d=!0,h(),a=_v(f,t,y),_.error(y)},complete:()=>{c=!0,h(),a=_v(f,r),_.complete()}}),Cr(g).subscribe(o))})(s)}}function _v(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new oc({next:()=>{r.unsubscribe(),n()}});return Cr(e(...t)).subscribe(r)}function ri(n,e){return $t((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(kt(r,u=>{i?.unsubscribe();let l=0;const c=s++;Cr(n(u,c)).subscribe(i=kt(r,d=>r.next(e?e(u,d,c,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function b9(n,e){return n===e}function Re(n){for(let e in n)if(n[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function $f(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Pt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function vv(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const D9=Re({__forward_ref__:Re});function je(n){return n.__forward_ref__=je,n.toString=function(){return Pt(this())},n}function ee(n){return wv(n)?n():n}function wv(n){return"function"==typeof n&&n.hasOwnProperty(D9)&&n.__forward_ref__===je}function Ev(n){return n&&!!n.\u0275providers}const SR="https://g.co/ng/security#xss";class I extends Error{constructor(e,t){super(function jf(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function re(n){return"string"==typeof n?n:null==n?"":String(n)}function Gf(n,e){throw new I(-201,!1)}function Tr(n,e){null==n&&function Ne(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hf(n){return AR(n,zf)||AR(n,NR)}function AR(n,e){return n.hasOwnProperty(e)?n[e]:null}function MR(n){return n&&(n.hasOwnProperty(Iv)||n.hasOwnProperty(P9))?n[Iv]:null}const zf=Re({\u0275prov:Re}),Iv=Re({\u0275inj:Re}),NR=Re({ngInjectableDef:Re}),P9=Re({ngInjectorDef:Re});var q=(()=>((q=q||{})[q.Default=0]="Default",q[q.Host=1]="Host",q[q.Self=2]="Self",q[q.SkipSelf=4]="SkipSelf",q[q.Optional=8]="Optional",q))();let Cv;function $n(n){const e=Cv;return Cv=n,e}function RR(n,e,t){const r=Hf(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&q.Optional?null:void 0!==e?e:void Gf(Pt(n))}const Ge=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),uc={},Tv="__NG_DI_FLAG__",Wf="ngTempTokenPath",F9=/\n/gm,kR="__source";let eu;function Ms(n){const e=eu;return eu=n,e}function U9(n,e=q.Default){if(void 0===eu)throw new I(-203,!1);return null===eu?RR(n,void 0,e):eu.get(n,e&q.Optional?null:void 0,e)}function $(n,e=q.Default){return(function xR(){return Cv}()||U9)(ee(n),e)}function U(n,e=q.Default){return $(n,qf(e))}function qf(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function bv(n){const e=[];for(let t=0;t<n.length;t++){const r=ee(n[t]);if(Array.isArray(r)){if(0===r.length)throw new I(900,!1);let i,s=q.Default;for(let o=0;o<r.length;o++){const a=r[o],u=B9(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function lc(n,e){return n[Tv]=e,n.prototype[Tv]=e,n}function B9(n){return n[Tv]}function ji(n){return{toString:n}.toString()}var ii=(()=>((ii=ii||{})[ii.OnPush=0]="OnPush",ii[ii.Default=1]="Default",ii))(),jn=(()=>{return(n=jn||(jn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",jn;var n})();const si={},De=[],Kf=Re({\u0275cmp:Re}),Dv=Re({\u0275dir:Re}),Sv=Re({\u0275pipe:Re}),OR=Re({\u0275mod:Re}),Gi=Re({\u0275fac:Re}),cc=Re({__NG_ELEMENT_ID__:Re}),FR=Re({__NG_ENV_ID__:Re});function LR(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Av(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];UR(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function VR(n){return 3===n||4===n||6===n}function UR(n){return 64===n.charCodeAt(0)}function dc(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||BR(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function BR(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const $R="ng-template";function G9(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==LR(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function jR(n){return 4===n.type&&n.value!==$R}function H9(n,e,t){return e===(4!==n.type||t?n.value:$R)}function z9(n,e,t){let r=4;const i=n.attrs||[],s=function K9(n){for(let e=0;e<n.length;e++)if(VR(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!H9(n,u,t)||""===u&&1===e.length){if(Lr(r))return!1;o=!0}}else{const l=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!G9(n.attrs,l,t)){if(Lr(r))return!1;o=!0}continue}const d=W9(8&r?"class":u,i,jR(n),t);if(-1===d){if(Lr(r))return!1;o=!0;continue}if(""!==l){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==LR(f,l,0)||2&r&&l!==h){if(Lr(r))return!1;o=!0}}}}else{if(!o&&!Lr(r)&&!Lr(u))return!1;if(o&&Lr(u))continue;o=!1,r=u|1&r}}return Lr(r)||o}function Lr(n){return 0==(1&n)}function W9(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Q9(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function GR(n,e,t=!1){for(let r=0;r<e.length;r++)if(z9(n,e[r],t))return!0;return!1}function HR(n,e){return n?":not("+e.trim()+")":e}function X9(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Lr(o)&&(e+=HR(s,i),i=""),r=o,s=s||!Lr(r);t++}return""!==i&&(e+=HR(s,i)),e}function No(n){return ji(()=>{const e=WR(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===ii.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||jn.Emulated,styles:n.styles||De,_:null,schemas:n.schemas||null,tView:null,id:""};qR(t);const r=n.dependencies;return t.directiveDefs=Qf(r,!1),t.pipeDefs=Qf(r,!0),t.id=function s5(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function t5(n){return Ae(n)||gn(n)}function n5(n){return null!==n}function Gn(n){return ji(()=>({type:n.type,bootstrap:n.bootstrap||De,declarations:n.declarations||De,imports:n.imports||De,exports:n.exports||De,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function zR(n,e){if(null==n)return si;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function J(n){return ji(()=>{const e=WR(n);return qR(e),e})}function Ae(n){return n[Kf]||null}function gn(n){return n[Dv]||null}function zn(n){return n[Sv]||null}function sr(n,e){const t=n[OR]||null;if(!t&&!0===e)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function WR(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||si,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||De,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:zR(n.inputs,e),outputs:zR(n.outputs)}}function qR(n){n.features?.forEach(e=>e(n))}function Qf(n,e){if(!n)return null;const t=e?zn:t5;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(n5)}const Ot=0,F=1,se=2,rt=3,Vr=4,hc=5,mn=6,nu=7,Tt=8,ru=9,xo=10,oe=11,fc=12,KR=13,iu=14,bt=15,pc=16,su=17,oi=18,gc=19,QR=20,Ns=21,Hi=22,Yf=23,Xf=24,ve=25,Mv=1,YR=2,ai=7,ou=9,yn=11;function or(n){return Array.isArray(n)&&"object"==typeof n[Mv]}function Wn(n){return Array.isArray(n)&&!0===n[Mv]}function Nv(n){return 0!=(4&n.flags)}function Ro(n){return n.componentOffset>-1}function Zf(n){return 1==(1&n.flags)}function Ur(n){return!!n.template}function xv(n){return 0!=(512&n[se])}function ko(n,e){return n.hasOwnProperty(Gi)?n[Gi]:null}let d5=Ge.WeakRef??class c5{constructor(e){this.ref=e}deref(){return this.ref}},f5=0,ui=null,ep=!1;function Gt(n){const e=ui;return ui=n,e}class tk{constructor(){this.id=f5++,this.ref=function h5(n){return new d5(n)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[e,t]of this.producers){const r=t.producerNode.deref();if(void 0!==r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(e),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const e=ep;ep=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();void 0!==i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{ep=e}}producerAccessed(){if(ep)throw new Error("");if(null===ui)return;let e=ui.producers.get(this.id);void 0===e?(e={consumerNode:ui.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ui.trackingVersion},ui.producers.set(this.id,e),this.consumers.set(ui.id,e)):(e.seenValueVersion=this.valueVersion,e.atTrackingVersion=ui.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ui?.consumerAllowSignalWrites}producerPollStatus(e){return this.valueVersion!==e||(this.onProducerUpdateValueVersion(),this.valueVersion!==e)}}let nk=null;const ik=()=>{};class y5 extends tk{constructor(e,t,r){super(),this.watch=e,this.schedule=t,this.dirty=!1,this.cleanupFn=ik,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const e=Gt(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=ik,this.watch(this.registerOnCleanup)}finally{Gt(e)}}cleanup(){this.cleanupFn()}}class _5{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function br(){return sk}function sk(n){return n.type.prototype.ngOnChanges&&(n.setInput=w5),v5}function v5(){const n=ak(this),e=n?.current;if(e){const t=n.previous;if(t===si)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function w5(n,e,t,r){const i=this.declaredInputs[t],s=ak(n)||function E5(n,e){return n[ok]=e}(n,{previous:si,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new _5(u&&u.currentValue,e,a===si),n[r]=e}br.ngInherit=!0;const ok="__ngSimpleChanges__";function ak(n){return n[ok]||null}const li=function(n,e,t){};function Ke(n){for(;Array.isArray(n);)n=n[Ot];return n}function qn(n,e){return Ke(e[n.index])}function ck(n,e){return n.data[e]}function ar(n,e){const t=e[n];return or(t)?t:t[Ot]}function xs(n,e){return null==e?null:n[e]}function dk(n){n[su]=0}function A5(n){1024&n[se]||(n[se]|=1024,fk(n,1))}function hk(n){1024&n[se]&&(n[se]&=-1025,fk(n,-1))}function fk(n,e){let t=n[rt];if(null===t)return;t[hc]+=e;let r=t;for(t=t[rt];null!==t&&(1===e&&1===r[hc]||-1===e&&0===r[hc]);)t[hc]+=e,r=t,t=t[rt]}const X={lFrame:Tk(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function mk(){return X.bindingsEnabled}function T(){return X.lFrame.lView}function Ie(){return X.lFrame.tView}function rn(){let n=yk();for(;null!==n&&64===n.type;)n=n.parent;return n}function yk(){return X.lFrame.currentTNode}function ci(n,e){const t=X.lFrame;t.currentTNode=n,t.isParent=e}function Lv(){return X.lFrame.isParent}function lu(){return X.lFrame.bindingIndex++}function j5(n,e){const t=X.lFrame;t.bindingIndex=t.bindingRootIndex=n,Uv(e)}function Uv(n){X.lFrame.currentDirectiveIndex=n}function $v(n){X.lFrame.currentQueryIndex=n}function H5(n){const e=n[F];return 2===e.type?e.declTNode:1===e.type?n[mn]:null}function Ik(n,e,t){if(t&q.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&q.Host||(i=H5(s),null===i||(s=s[iu],10&i.type))););if(null===i)return!1;e=i,n=s}const r=X.lFrame=Ck();return r.currentTNode=e,r.lView=n,!0}function jv(n){const e=Ck(),t=n[F];X.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Ck(){const n=X.lFrame,e=null===n?null:n.child;return null===e?Tk(n):e}function Tk(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function bk(){const n=X.lFrame;return X.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const Dk=bk;function Gv(){const n=bk();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function kn(){return X.lFrame.selectedIndex}function Po(n){X.lFrame.selectedIndex=n}function it(){const n=X.lFrame;return ck(n.tView,n.selectedIndex)}let Ak=!0;function ip(){return Ak}function Rs(n){Ak=n}function sp(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=c&&(n.destroyHooks??=[]).push(t,c)}}function op(n,e,t){Mk(n,e,3,t)}function ap(n,e,t,r){(3&n[se])===t&&Mk(n,e,t,r)}function Hv(n,e){let t=n[se];(3&t)===e&&(t&=8191,t+=1,n[se]=t)}function Mk(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&n[su]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[su]+=65536),(a<s||-1==s)&&(J5(n,t,e,u),n[su]=(4294901760&n[su])+u+2),u++}function Nk(n,e){li(4,n,e);const t=Gt(null);try{e.call(n)}finally{Gt(t),li(5,n,e)}}function J5(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[se]>>13<n[su]>>16&&(3&n[se])===e&&(n[se]+=8192,Nk(a,s)):Nk(a,s)}const cu=-1;class _c{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function xk(n){return n!==cu}function up(n){return 32767&n}function lp(n,e){let t=function n7(n){return n>>16}(n),r=e;for(;t>0;)r=r[iu],t--;return r}let Wv=!0;function cp(n){const e=Wv;return Wv=n,e}const Rk=255,kk=5;let r7=0;const di={};function dp(n,e){const t=Pk(n,e);if(-1!==t)return t;const r=e[F];r.firstCreatePass&&(n.injectorIndex=e.length,qv(r.data,n),qv(e,null),qv(r.blueprint,null));const i=Kv(n,e),s=n.injectorIndex;if(xk(i)){const o=up(i),a=lp(i,e),u=a[F].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function qv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Pk(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Kv(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=$k(i),null===r)return cu;if(t++,i=i[iu],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return cu}function Qv(n,e,t){!function i7(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(cc)&&(r=t[cc]),null==r&&(r=t[cc]=r7++);const i=r&Rk;e.data[n+(i>>kk)]|=1<<i}(n,e,t)}function Ok(n,e,t){if(t&q.Optional||void 0!==n)return n;Gf()}function Fk(n,e,t,r){if(t&q.Optional&&void 0===r&&(r=null),!(t&(q.Self|q.Host))){const i=n[ru],s=$n(void 0);try{return i?i.get(e,r,t&q.Optional):RR(e,r,t&q.Optional)}finally{$n(s)}}return Ok(r,0,t)}function Lk(n,e,t,r=q.Default,i){if(null!==n){if(2048&e[se]&&!(r&q.Self)){const o=function l7(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[se]&&!(512&o[se]);){const a=Vk(s,o,t,r|q.Self,di);if(a!==di)return a;let u=s.parent;if(!u){const l=o[QR];if(l){const c=l.get(t,di,r);if(c!==di)return c}u=$k(o),o=o[iu]}s=u}return i}(n,e,t,r,di);if(o!==di)return o}const s=Vk(n,e,t,r,di);if(s!==di)return s}return Fk(e,t,r,i)}function Vk(n,e,t,r,i){const s=function a7(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(cc)?n[cc]:void 0;return"number"==typeof e?e>=0?e&Rk:u7:e}(t);if("function"==typeof s){if(!Ik(e,n,r))return r&q.Host?Ok(i,0,r):Fk(e,t,r,i);try{const o=s(r);if(null!=o||r&q.Optional)return o;Gf()}finally{Dk()}}else if("number"==typeof s){let o=null,a=Pk(n,e),u=cu,l=r&q.Host?e[bt][mn]:null;for((-1===a||r&q.SkipSelf)&&(u=-1===a?Kv(n,e):e[a+8],u!==cu&&Bk(r,!1)?(o=e[F],a=up(u),e=lp(u,e)):a=-1);-1!==a;){const c=e[F];if(Uk(s,a,c.data)){const d=o7(a,e,t,o,r,l);if(d!==di)return d}u=e[a+8],u!==cu&&Bk(r,e[F].data[a+8]===l)&&Uk(s,a,e)?(o=c,a=up(u),e=lp(u,e)):a=-1}}return i}function o7(n,e,t,r,i,s){const o=e[F],a=o.data[n+8],c=function hp(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=i?a+c:n.directiveEnd;for(let f=r?a:a+c;f<h;f++){const p=o[f];if(f<u&&t===p||f>=u&&p.type===t)return f}if(i){const f=o[u];if(f&&Ur(f)&&f.type===t)return u}return null}(a,o,t,null==r?Ro(a)&&Wv:r!=o&&0!=(3&a.type),i&q.Host&&s===a);return null!==c?Oo(e,o,c,a):di}function Oo(n,e,t,r){let i=n[t];const s=e.data;if(function Z5(n){return n instanceof _c}(i)){const o=i;o.resolving&&function S9(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new I(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Me(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():re(n)}(s[t]));const a=cp(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?$n(o.injectImpl):null;Ik(n,r,q.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function X5(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=sk(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==u&&$n(u),cp(a),o.resolving=!1,Dk()}}return i}function Uk(n,e,t){return!!(t[e+(n>>kk)]&1<<n)}function Bk(n,e){return!(n&q.Self||n&q.Host&&e)}class du{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Lk(this._tNode,this._lView,e,qf(r),t)}}function u7(){return new du(rn(),T())}function sn(n){return ji(()=>{const e=n.prototype.constructor,t=e[Gi]||Yv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Gi]||Yv(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Yv(n){return wv(n)?()=>{const e=Yv(ee(n));return e&&e()}:ko(n)}function $k(n){const e=n[F],t=e.type;return 2===t?e.declTNode:1===t?n[mn]:null}const fu="__parameters__";function gu(n,e,t){return ji(()=>{const r=function Xv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,l,c){const d=u.hasOwnProperty(fu)?u[fu]:Object.defineProperty(u,fu,{value:[]})[fu];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ec(n,e){n.forEach(t=>Array.isArray(t)?Ec(t,e):e(t))}function Gk(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function pp(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ur(n,e,t){let r=mu(n,e);return r>=0?n[1|r]=t:(r=~r,function p7(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Jv(n,e){const t=mu(n,e);if(t>=0)return n[1|t]}function mu(n,e){return function Hk(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Ht=lc(gu("Optional"),8),mp=lc(gu("SkipSelf"),4);function wp(n){return 128==(128&n.flags)}var Kn=(()=>((Kn=Kn||{})[Kn.Important=1]="Important",Kn[Kn.DashCase=2]="DashCase",Kn))();const iw=new Map;let V7=0;const ow="__ngContext__";function _n(n,e){or(e)?(n[ow]=e[gc],function B7(n){iw.set(n[gc],n)}(e)):n[ow]=e}let aw;function uw(n,e){return aw(n,e)}function bc(n){const e=n[rt];return Wn(e)?e[rt]:e}function cP(n){return hP(n[fc])}function dP(n){return hP(n[Vr])}function hP(n){for(;null!==n&&!Wn(n);)n=n[Vr];return n}function vu(n,e,t,r,i){if(null!=r){let s,o=!1;Wn(r)?s=r:or(r)&&(o=!0,r=r[Ot]);const a=Ke(r);0===n&&null!==t?null==i?yP(e,t,a):Fo(e,t,a,i||null,!0):1===n&&null!==t?Fo(e,t,a,i||null,!0):2===n?function Dp(n,e,t){const r=Tp(n,e);r&&function sK(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function uK(n,e,t,r,i){const s=t[ai];s!==Ke(t)&&vu(e,n,r,s,i);for(let a=yn;a<t.length;a++){const u=t[a];Sc(u[F],u,n,e,r,s)}}(e,n,s,t,i)}}function Cp(n,e,t){return n.createElement(e,t)}function pP(n,e){const t=n[ou],r=t.indexOf(e);hk(e),t.splice(r,1)}function cw(n,e){if(n.length<=yn)return;const t=yn+e,r=n[t];if(r){const i=r[pc];null!==i&&i!==n&&pP(i,r),e>0&&(n[t-1][Vr]=r[Vr]);const s=pp(n,yn+e);!function X7(n,e){Sc(n,e,e[oe],2,null,null),e[Ot]=null,e[mn]=null}(r[F],r);const o=s[oi];null!==o&&o.detachView(s[F]),r[rt]=null,r[Vr]=null,r[se]&=-129}return r}function gP(n,e){if(!(256&e[se])){const t=e[oe];e[Yf]?.destroy(),e[Xf]?.destroy(),t.destroyNode&&Sc(n,e,t,3,null,null),function eK(n){let e=n[fc];if(!e)return dw(n[F],n);for(;e;){let t=null;if(or(e))t=e[fc];else{const r=e[yn];r&&(t=r)}if(!t){for(;e&&!e[Vr]&&e!==n;)or(e)&&dw(e[F],e),e=e[rt];null===e&&(e=n),or(e)&&dw(e[F],e),t=e&&e[Vr]}e=t}}(e)}}function dw(n,e){if(!(256&e[se])){e[se]&=-129,e[se]|=256,function iK(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof _c)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];li(4,a,u);try{u.call(a)}finally{li(5,a,u)}}else{li(4,i,s);try{s.call(i)}finally{li(5,i,s)}}}}}(n,e),function rK(n,e){const t=n.cleanup,r=e[nu];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[nu]=null);const i=e[Ns];if(null!==i){e[Ns]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[F].type&&e[oe].destroy();const t=e[pc];if(null!==t&&Wn(e[rt])){t!==e[rt]&&pP(t,e);const r=e[oi];null!==r&&r.detachView(n)}!function $7(n){iw.delete(n[gc])}(e)}}function hw(n,e,t){return function mP(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Ot];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===jn.None||s===jn.Emulated)return null}return qn(r,t)}}(n,e.parent,t)}function Fo(n,e,t,r,i){n.insertBefore(e,t,r,i)}function yP(n,e,t){n.appendChild(e,t)}function _P(n,e,t,r,i){null!==r?Fo(n,e,t,r,i):yP(n,e,t)}function Tp(n,e){return n.parentNode(e)}let fw,yw,Ap,EP=function wP(n,e,t){return 40&n.type?qn(n,t):null};function bp(n,e,t,r){const i=hw(n,r,e),s=e[oe],a=function vP(n,e,t){return EP(n,e,t)}(r.parent||e[mn],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)_P(s,i,t[u],a,!1);else _P(s,i,t,a,!1);void 0!==fw&&fw(s,r,e,t,i)}function Dc(n,e){if(null!==e){const t=e.type;if(3&t)return qn(e,n);if(4&t)return pw(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Dc(n,r);{const i=n[e.index];return Wn(i)?pw(-1,i):Ke(i)}}if(32&t)return uw(e,n)()||Ke(n[e.index]);{const r=CP(n,e);return null!==r?Array.isArray(r)?r[0]:Dc(bc(n[bt]),r):Dc(n,e.next)}}return null}function CP(n,e){return null!==e?n[bt][mn].projection[e.projection]:null}function pw(n,e){const t=yn+n+1;if(t<e.length){const r=e[t],i=r[F].firstChild;if(null!==i)return Dc(r,i)}return e[ai]}function gw(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],u=t.type;if(o&&0===e&&(a&&_n(Ke(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)gw(n,e,t.child,r,i,s,!1),vu(e,n,i,a,s);else if(32&u){const l=uw(t,r);let c;for(;c=l();)vu(e,n,i,c,s);vu(e,n,i,a,s)}else 16&u?bP(n,e,r,t,i,s):vu(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Sc(n,e,t,r,i,s){gw(t,r,n.firstChild,e,i,s,!1)}function bP(n,e,t,r,i,s){const o=t[bt],u=o[mn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)vu(e,n,i,u[l],s);else{let l=u;const c=o[rt];wp(r)&&(l.flags|=128),gw(n,e,l,c,i,s,!0)}}function DP(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function SP(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Av(n,e,r),null!==i&&DP(n,e,i),null!==s&&function cK(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function NP(n){return function _w(){if(void 0===Ap&&(Ap=null,Ge.trustedTypes))try{Ap=Ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Ap}()?.createScriptURL(n)||n}class xP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SR})`}}function ks(n){return n instanceof xP?n.changingThisBreaksApplicationSecurity:n}function Mc(n,e){const t=function wK(n){return n instanceof xP&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${SR})`)}return t===e}const TK=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Dt=(()=>((Dt=Dt||{})[Dt.NONE=0]="NONE",Dt[Dt.HTML=1]="HTML",Dt[Dt.STYLE=2]="STYLE",Dt[Dt.SCRIPT=3]="SCRIPT",Dt[Dt.URL=4]="URL",Dt[Dt.RESOURCE_URL=5]="RESOURCE_URL",Dt))();function VP(n){const e=xc();return e?e.sanitize(Dt.URL,n)||"":Mc(n,"URL")?ks(n):function vw(n){return(n=String(n)).match(TK)?n:"unsafe:"+n}(re(n))}function UP(n){const e=xc();if(e)return NP(e.sanitize(Dt.RESOURCE_URL,n)||"");if(Mc(n,"ResourceURL"))return NP(ks(n));throw new I(904,!1)}function xc(){const n=T();return n&&n[xo].sanitizer}class V{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Rc=new V("ENVIRONMENT_INITIALIZER"),$P=new V("INJECTOR",-1),jP=new V("INJECTOR_DEF_TYPES");class GP{get(e,t=uc){if(t===uc){const r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}}function LK(...n){return{\u0275providers:zP(0,n),\u0275fromNgModule:!0}}function zP(n,...e){const t=[],r=new Set;let i;return Ec(e,s=>{const o=s;Cw(o,t,[],r)&&(i||=[],i.push(o))}),void 0!==i&&WP(i,t),t}function WP(n,e){for(let t=0;t<n.length;t++){const{providers:i}=n[t];Tw(i,s=>{e.push(s)})}}function Cw(n,e,t,r){if(!(n=ee(n)))return!1;let i=null,s=MR(n);const o=!s&&Ae(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const u=n.ngModule;if(s=MR(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Cw(l,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{Ec(s.imports,c=>{Cw(c,e,t,r)&&(l||=[],l.push(c))})}finally{}void 0!==l&&WP(l,e)}if(!a){const l=ko(i)||(()=>new i);e.push({provide:i,useFactory:l,deps:De},{provide:jP,useValue:i,multi:!0},{provide:Rc,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||Tw(u,c=>{e.push(c)})}}return i!==n&&void 0!==n.providers}function Tw(n,e){for(let t of n)Ev(t)&&(t=t.\u0275providers),Array.isArray(t)?Tw(t,e):e(t)}const VK=Re({provide:String,useValue:Re});function bw(n){return null!==n&&"object"==typeof n&&VK in n}function Lo(n){return"function"==typeof n}const Dw=new V("Set Injector scope."),Np={},BK={};let Sw;function xp(){return void 0===Sw&&(Sw=new GP),Sw}class Ki{}class Aw extends Ki{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Nw(e,o=>this.processProvider(o)),this.records.set($P,Eu(void 0,this)),i.has("environment")&&this.records.set(Ki,Eu(void 0,this));const s=this.records.get(Dw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(jP.multi,De,q.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Ms(this),r=$n(void 0);try{return e()}finally{Ms(t),$n(r)}}get(e,t=uc,r=q.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(FR))return e[FR](this);r=qf(r);const i=Ms(this),s=$n(void 0);try{if(!(r&q.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function zK(n){return"function"==typeof n||"object"==typeof n&&n instanceof V}(e)&&Hf(e);a=u&&this.injectableDefInScope(u)?Eu(Mw(e),Np):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&q.Self?xp():this.parent).get(e,t=r&q.Optional&&t===uc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Wf]=o[Wf]||[]).unshift(Pt(e)),i)throw o;return function $9(n,e,t,r){const i=n[Wf];throw e[kR]&&i.unshift(e[kR]),n.message=function j9(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Pt(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(F9,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Wf]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{$n(s),Ms(i)}}resolveInjectorInitializers(){const e=Ms(this),t=$n(void 0);try{const r=this.get(Rc.multi,De,q.Self);for(const i of r)i()}finally{Ms(e),$n(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new I(205,!1)}processProvider(e){let t=Lo(e=ee(e))?e:ee(e&&e.provide);const r=function jK(n){return bw(n)?Eu(void 0,n.useValue):Eu(QP(n),Np)}(e);if(Lo(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Eu(void 0,Np,!0),i.factory=()=>bv(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===Np&&(t.value=BK,t.value=t.factory()),"object"==typeof t.value&&t.value&&function HK(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ee(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Mw(n){const e=Hf(n),t=null!==e?e.factory:ko(n);if(null!==t)return t;if(n instanceof V)throw new I(204,!1);if(n instanceof Function)return function $K(n){const e=n.length;if(e>0)throw function Ic(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new I(204,!1);const t=function k9(n){return n&&(n[zf]||n[NR])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new I(204,!1)}function QP(n,e,t){let r;if(Lo(n)){const i=ee(n);return ko(i)||Mw(i)}if(bw(n))r=()=>ee(n.useValue);else if(function KP(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...bv(n.deps||[]));else if(function qP(n){return!(!n||!n.useExisting)}(n))r=()=>$(ee(n.useExisting));else{const i=ee(n&&(n.useClass||n.provide));if(!function GK(n){return!!n.deps}(n))return ko(i)||Mw(i);r=()=>new i(...bv(n.deps))}return r}function Eu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Nw(n,e){for(const t of n)Array.isArray(t)?Nw(t,e):t&&Ev(t)?Nw(t.\u0275providers,e):e(t)}const Rp=new V("AppId",{providedIn:"root",factory:()=>WK}),WK="ng",YP=new V("Platform Initializer"),Ps=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XP=new V("AnimationModuleType"),JP=new V("CSP nonce",{providedIn:"root",factory:()=>function Ac(){if(void 0!==yw)return yw;if(typeof document<"u")return document;throw new I(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let e1=(n,e)=>null;function t1(n,e){return e1(n,e)}class t8{}class i1{}class r8{resolveComponentFactory(e){throw function n8(n){const e=Error(`No component factory found for ${Pt(n)}.`);return e.ngComponent=n,e}(e)}}let Lp=(()=>{class n{}return n.NULL=new r8,n})();function i8(){return Iu(rn(),T())}function Iu(n,e){return new lr(qn(n,e))}let lr=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=i8,n})();class Fc{}let Qi=(()=>{class n{constructor(){this.destroyNode=null}}return n.__NG_ELEMENT_ID__=()=>function o8(){const n=T(),t=ar(rn().index,n);return(or(t)?t:n)[oe]}(),n})(),a8=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>null}),n})();class Cu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const o1=new Cu("16.1.3"),$w={};function Lc(n){for(;n;){n[se]|=64;const e=bc(n);if(xv(n)&&!e)return n;n=e}return null}function jw(n){return n.ngOriginalError}class Vo{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jw(e);for(;t&&jw(t);)t=jw(t);return t||null}}const l1=new V("",{providedIn:"root",factory:()=>!1});function Yi(n){return n instanceof Function?n():n}class p1 extends tk{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(e){this._lView=e}onConsumerDependencyMayHaveChanged(){Lc(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(e,t,r){const i=Gt(this);this.trackingVersion++;try{e(t,r)}finally{Gt(i)}}destroy(){this.trackingVersion++}}let Up=null;function g1(){return Up??=new p1,Up}function m1(n,e){return n[e]??g1()}function y1(n,e){const t=g1();t.hasReadASignal&&(n[e]=Up,t.lView=n,Up=new p1)}const ae={};function Bp(n){_1(Ie(),T(),kn()+n,!1)}function _1(n,e,t,r){if(!r)if(3==(3&e[se])){const s=n.preOrderCheckHooks;null!==s&&op(e,s,t)}else{const s=n.preOrderHooks;null!==s&&ap(e,s,0,t)}Po(t)}function I1(n,e=null,t=null,r){const i=C1(n,e,t,r);return i.resolveInjectorInitializers(),i}function C1(n,e=null,t=null,r,i=new Set){const s=[t||De,LK(n)];return r=r||("object"==typeof n?void 0:Pt(n)),new Aw(s,e||xp(),r||null,i)}let cr=(()=>{class n{static create(t,r){if(Array.isArray(t))return I1({name:""},r,t,"");{const i=t.name??"";return I1({name:i},t.parent,t.providers,i)}}}return n.THROW_IF_NOT_FOUND=uc,n.NULL=new GP,n.\u0275prov=z({token:n,providedIn:"any",factory:()=>$($P)}),n.__NG_ELEMENT_ID__=-1,n})();function D(n,e=q.Default){const t=T();return null===t?$(n,e):Lk(rn(),t,ee(n),e)}function $p(n,e,t,r,i,s,o,a,u,l,c){const d=e.blueprint.slice();return d[Ot]=i,d[se]=140|r,(null!==l||n&&2048&n[se])&&(d[se]|=2048),dk(d),d[rt]=d[iu]=n,d[Tt]=t,d[xo]=o||n&&n[xo],d[oe]=a||n&&n[oe],d[ru]=u||n&&n[ru]||null,d[mn]=s,d[gc]=function U7(){return V7++}(),d[Hi]=c,d[QR]=l,d[bt]=2==e.type?n[bt]:d,d}function bu(n,e,t,r,i){let s=n.data[e];if(null===s)s=function Gw(n,e,t,r,i){const s=yk(),o=Lv(),u=n.data[e]=function A8(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return function uu(){return null!==X.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,r,i),function $5(){return X.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function yc(){const n=X.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return ci(s,!0),s}function Vc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function b1(n,e,t,r,i){const s=m1(e,Yf),o=kn(),a=2&r;try{if(Po(-1),a&&e.length>ve&&_1(n,e,ve,!1),li(a?2:0,i),a)s.runInContext(t,r,i);else{const l=Gt(null);try{t(r,i)}finally{Gt(l)}}}finally{a&&null===e[Yf]&&y1(e,Yf),Po(o),li(a?3:1,i)}}function Hw(n,e,t){if(Nv(e)){const r=Gt(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Gt(r)}}}function D1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=qw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function qw(n,e,t,r,i,s,o,a,u,l,c){const d=ve+r,h=d+i,f=function I8(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:ae);return t}(d,h),p="function"==typeof l?l():l;return f[F]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:p,incompleteFirstPass:!1,ssrId:c}}let S1=n=>null;function A1(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?M1(t,e,i,s):r.hasOwnProperty(i)&&M1(t,e,r[i],s)}return t}function M1(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function N1(n,e,t,r,i,s){for(let l=0;l<r.length;l++)Qv(dp(t,e),n,r[l].type);!function B8(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let l=0;l<r.length;l++){const c=r[l];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,u=Vc(n,e,r.length,null);for(let l=0;l<r.length;l++){const c=r[l];t.mergedAttrs=dc(t.mergedAttrs,c.hostAttrs),$8(n,t,e,u,c),U8(u,c,i),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const d=c.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function M8(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<i;c++){const d=s[c],h=t?t.get(d):null,p=h?h.outputs:null;u=A1(d.inputs,c,u,h?h.inputs:null),l=A1(d.outputs,c,l,p);const g=null===u||null===o||jR(e)?null:H8(u,c,o);a.push(g)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(n,t,s)}function x1(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function G5(){return X.lFrame.currentDirectiveIndex}();try{Po(s);for(let a=r;a<i;a++){const u=n.data[a],l=e[a];Uv(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&F8(u,l)}}finally{Po(-1),Uv(o)}}function F8(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function Qw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function U8(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ur(e)&&(t[""]=n)}}function $8(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ko(i.type)),o=new _c(s,Ur(i),D);n.blueprint[r]=o,t[r]=o,function k8(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function P8(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Vc(n,t,i.hostVars,ae),i)}function hi(n,e,t,r,i,s){const o=qn(n,e);!function Yw(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?re(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[oe],o,s,n.value,t,r,i)}function G8(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)R1(r,t,o[a++],o[a++],o[a++])}function R1(n,e,t,r,i){const s=Gt(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Gt(s)}}function H8(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function P1(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];$v(t[r]),o.contentQueries(2,e[s],s)}}}function jp(n,e){return n[fc]?n[KR][Vr]=e:n[fc]=e,n[KR]=e,e}function Xw(n,e,t){$v(0);const r=Gt(null);try{e(n,t)}finally{Gt(r)}}function V1(n,e){const t=n[ru],r=t?t.get(Vo,null):null;r&&r.handleError(e)}function Jw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];R1(n.data[o],e[o],r,a,i)}}function z8(n,e){const t=ar(e,n),r=t[F];!function W8(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Ot];null!==i&&null===t[Hi]&&(t[Hi]=t1(i,t[ru])),Zw(r,t,t[Tt])}function Zw(n,e,t){jv(e);try{const r=n.viewQuery;null!==r&&Xw(1,r,t);const i=n.template;null!==i&&b1(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&P1(n,e),n.staticViewQueries&&Xw(2,n.viewQuery,t);const s=n.components;null!==s&&function q8(n,e){for(let t=0;t<e.length;t++)z8(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[se]&=-5,Gv()}}let U1=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=new y5(t,l=>{this.all.has(l)&&this.queue.set(l,s)},i);let a;this.all.add(o),o.notify();const u=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n}),n})();function Gp(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=vv(i,a):2==s&&(r=vv(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Uc(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&r.push(Ke(s)),Wn(s)){for(let a=yn;a<s.length;a++){const u=s[a],l=u[F].firstChild;null!==l&&Uc(u[F],u,l,r)}s[ai]!==s[Ot]&&r.push(s[ai])}const o=t.type;if(8&o)Uc(n,e,t.child,r);else if(32&o){const a=uw(t,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=CP(e,t);if(Array.isArray(a))r.push(...a);else{const u=bc(e[bt]);Uc(u[F],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Hp(n,e,t,r=!0){const i=e[xo].rendererFactory;i.begin&&i.begin();try{B1(n,e,n.template,t)}catch(o){throw r&&V1(e,o),o}finally{i.end&&i.end(),e[xo].effectManager?.flush()}}function B1(n,e,t,r){const i=e[se];if(256!=(256&i)){e[xo].effectManager?.flush(),jv(e);try{dk(e),function vk(n){return X.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&b1(n,e,t,2,r);const o=3==(3&i);if(o){const l=n.preOrderCheckHooks;null!==l&&op(e,l,null)}else{const l=n.preOrderHooks;null!==l&&ap(e,l,0,null),Hv(e,0)}if(function J8(n){for(let e=cP(n);null!==e;e=dP(e)){if(!e[YR])continue;const t=e[ou];for(let r=0;r<t.length;r++){A5(t[r])}}}(e),$1(e,2),null!==n.contentQueries&&P1(n,e),o){const l=n.contentCheckHooks;null!==l&&op(e,l)}else{const l=n.contentHooks;null!==l&&ap(e,l,1),Hv(e,1)}!function E8(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=m1(e,Xf);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Po(~s);else{const o=s,a=t[++i],u=t[++i];j5(a,o),r.runInContext(u,2,e[o])}}}finally{null===e[Xf]&&y1(e,Xf),Po(-1)}}(n,e);const a=n.components;null!==a&&G1(e,a,0);const u=n.viewQuery;if(null!==u&&Xw(2,u,r),o){const l=n.viewCheckHooks;null!==l&&op(e,l)}else{const l=n.viewHooks;null!==l&&ap(e,l,2),Hv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[se]&=-73,hk(e)}finally{Gv()}}}function $1(n,e){for(let t=cP(n);null!==t;t=dP(t))for(let r=yn;r<t.length;r++)j1(t[r],e)}function Z8(n,e,t){j1(ar(e,n),t)}function j1(n,e){if(!function D5(n){return 128==(128&n[se])}(n))return;const t=n[F];if(80&n[se]&&0===e||1024&n[se]||2===e)B1(t,n,t.template,n[Tt]);else if(n[hc]>0){$1(n,1);const i=n[F].components;null!==i&&G1(n,i,1)}}function G1(n,e,t){for(let r=0;r<e.length;r++)Z8(n,e[r],t)}class Bc{get rootNodes(){const e=this._lView,t=e[F];return Uc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Tt]}set context(e){this._lView[Tt]=e}get destroyed(){return 256==(256&this._lView[se])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[rt];if(Wn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(cw(e,r),pp(t,r))}this._attachedToViewContainer=!1}gP(this._lView[F],this._lView)}onDestroy(e){!function pk(n,e){if(256==(256&n[se]))throw new I(911,!1);null===n[Ns]&&(n[Ns]=[]),n[Ns].push(e)}(this._lView,e)}markForCheck(){Lc(this._cdRefInjectingView||this._lView)}detach(){this._lView[se]&=-129}reattach(){this._lView[se]|=128}detectChanges(){Hp(this._lView[F],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Z7(n,e){Sc(n,e,e[oe],2,null,null)}(this._lView[F],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=e}}class eQ extends Bc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Hp(e[F],e,e[Tt],!1)}checkNoChanges(){}get context(){return null}}class H1 extends Lp{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ae(e);return new $c(t,this.ngModule)}}function z1(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class nQ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=qf(r);const i=this.injector.get(e,$w,r);return i!==$w||t===$w?i:this.parentInjector.get(e,t,r)}}class $c extends i1{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=z1(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return z1(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function J9(n){return n.map(X9).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Ki?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new nQ(e,s):e,a=o.get(Fc,null);if(null===a)throw new I(407,!1);const c={rendererFactory:a,sanitizer:o.get(a8,null),effectManager:o.get(U1,null)},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",f=r?function C8(n,e,t,r){const s=r.get(l1,!1)||t===jn.ShadowDom,o=n.selectRootElement(e,s);return function T8(n){S1(n)}(o),o}(d,r,this.componentDef.encapsulation,o):Cp(d,h,function tQ(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(h)),m=this.componentDef.signals?4608:this.componentDef.onPush?576:528,_=qw(0,null,null,1,0,null,null,null,null,null,null),y=$p(null,_,null,m,null,null,c,d,o,null,null);let C,A;jv(y);try{const P=this.componentDef;let H,ye=null;P.findHostDirectiveDefs?(H=[],ye=new Map,P.findHostDirectiveDefs(P,H,ye),H.push(P)):H=[P];const Ct=function iQ(n,e){const t=n[F],r=ve;return n[r]=e,bu(t,r,2,"#host",null)}(y,f),en=function sQ(n,e,t,r,i,s,o){const a=i[F];!function oQ(n,e,t,r){for(const i of n)e.mergedAttrs=dc(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Gp(e,e.mergedAttrs,!0),null!==t&&SP(r,t,e))}(r,n,e,o);let u=null;null!==e&&(u=t1(e,i[ru]));const l=s.rendererFactory.createRenderer(e,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const d=$p(i,D1(t),null,c,i[n.index],n,s,l,null,null,u);return a.firstCreatePass&&Qw(a,n,r.length-1),jp(i,d),i[n.index]=d}(Ct,f,P,H,y,c,d);A=ck(_,ve),f&&function uQ(n,e,t,r){if(r)Av(n,t,["ng-version",o1.full]);else{const{attrs:i,classes:s}=function Z9(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Lr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Av(n,t,i),s&&s.length>0&&DP(n,t,s.join(" "))}}(d,P,f,r),void 0!==t&&function lQ(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(A,this.ngContentSelectors,t),C=function aQ(n,e,t,r,i,s){const o=rn(),a=i[F],u=qn(o,i);N1(a,i,o,t,null,r);for(let c=0;c<t.length;c++)_n(Oo(i,a,o.directiveStart+c,o),i);x1(a,i,o),u&&_n(u,i);const l=Oo(i,a,o.directiveStart+o.componentOffset,o);if(n[Tt]=i[Tt]=l,null!==s)for(const c of s)c(l,e);return Hw(a,o,n),l}(en,P,H,ye,y,[cQ]),Zw(_,y,null)}finally{Gv()}return new rQ(this.componentType,C,Iu(A,y),y,A)}}class rQ extends t8{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new eQ(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Jw(s[F],s,i,e,t),this.previousInputValues.set(e,t),Lc(ar(this._tNode.index,s))}}get injector(){return new du(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function cQ(){const n=rn();sp(T()[F],n)}function ke(n){let e=function W1(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(Ur(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new I(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=zp(n.inputs),o.inputTransforms=zp(n.inputTransforms),o.declaredInputs=zp(n.declaredInputs),o.outputs=zp(n.outputs);const a=i.hostBindings;a&&pQ(n,a);const u=i.viewQuery,l=i.contentQueries;if(u&&hQ(n,u),l&&fQ(n,l),$f(n.inputs,i.inputs),$f(n.declaredInputs,i.declaredInputs),$f(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),$f(o.inputTransforms,i.inputTransforms)),Ur(i)&&i.data.animation){const c=n.data;c.animation=(c.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===ke&&(t=!1)}}e=Object.getPrototypeOf(e)}!function dQ(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=dc(i.hostAttrs,t=dc(t,i.hostAttrs))}}(r)}function zp(n){return n===si?{}:n===De?[]:n}function hQ(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function fQ(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function pQ(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function Y1(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function vn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function pi(n,e,t,r){const i=T();return vn(i,lu(),e)&&(Ie(),hi(it(),i,n,e,t,r)),pi}function Wc(n,e,t){const r=T();return vn(r,lu(),e)&&function dr(n,e,t,r,i,s,o,a){const u=qn(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Jw(n,t,c,r,i),Ro(e)&&function x8(n,e){const t=ar(e,n);16&t[se]||(t[se]|=64)}(t,e.index)):3&e.type&&(r=function N8(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}(Ie(),it(),r,n,e,r[oe],t,!1),Wc}function oE(n,e,t,r,i){const o=i?"class":"style";Jw(n,t,e.inputs[o],o,r)}function le(n,e,t,r){const i=T(),s=Ie(),o=ve+n,a=i[oe],u=s.firstCreatePass?function zQ(n,e,t,r,i,s){const o=e.consts,u=bu(e,n,2,r,xs(o,i));return function Kw(n,e,t,r){if(mk()){const i=null===r?null:{"":-1},s=function L8(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(GR(e,o.selectors,!1))if(r||(r=[]),Ur(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Qw(n,e,a.length)}else r.unshift(o),Qw(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&N1(n,e,t,o,i,a),i&&function V8(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new I(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=dc(t.mergedAttrs,t.attrs)}(e,t,u,xs(o,s)),null!==u.attrs&&Gp(u,u.attrs,!1),null!==u.mergedAttrs&&Gp(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,e,t,r):s.data[o],l=dO(s,i,u,a,e,n);i[o]=l;const c=Zf(u);return ci(u,!0),SP(a,l,u),32!=(32&u.flags)&&ip()&&bp(s,i,l,u),0===function N5(){return X.lFrame.elementDepthCount}()&&_n(l,i),function x5(){X.lFrame.elementDepthCount++}(),c&&(function zw(n,e,t){mk()&&(function O8(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Ro(t)&&function j8(n,e,t){const r=qn(e,n),i=D1(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=jp(n,$p(n,i,null,o,r,e,null,n[xo].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||dp(t,e),_n(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const u=n.data[a],l=Oo(e,n,a,t);_n(l,e),null!==o&&G8(0,a-i,l,u,0,o),Ur(u)&&(ar(t.index,e)[Tt]=Oo(e,n,a,t))}}(n,e,t,qn(t,e)),64==(64&t.flags)&&x1(n,e,t))}(s,i,u),Hw(s,u,i)),null!==r&&function Ww(n,e,t=qn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}(i,u),le}function ce(){let n=rn();Lv()?function Vv(){X.lFrame.isParent=!1}():(n=n.parent,ci(n,!1));const e=n;(function k5(n){return X.skipHydrationRootTNode===n})(e)&&function L5(){X.skipHydrationRootTNode=null}(),function R5(){X.lFrame.elementDepthCount--}();const t=Ie();return t.firstCreatePass&&(sp(t,n),Nv(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function e7(n){return 0!=(8&n.flags)}(e)&&oE(t,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function t7(n){return 0!=(16&n.flags)}(e)&&oE(t,e,T(),e.stylesWithoutHost,!1),ce}function Xp(n,e,t,r){return le(n,e,t,r),ce(),Xp}let dO=(n,e,t,r,i,s)=>(Rs(!0),Cp(r,i,function Sk(){return X.lFrame.currentNamespace}()));function qc(n){return!!n&&"function"==typeof n.then}function pO(n){return!!n&&"function"==typeof n.subscribe}function on(n,e,t,r){const i=T(),s=Ie(),o=rn();return function mO(n,e,t,r,i,s,o){const a=Zf(r),l=n.firstCreatePass&&function F1(n){return n.cleanup||(n.cleanup=[])}(n),c=e[Tt],d=function O1(n){return n[nu]||(n[nu]=[])}(e);let h=!0;if(3&r.type||o){const g=qn(r,e),m=o?o(g):g,_=d.length,y=o?A=>o(Ke(A[r.index])):r.index;let C=null;if(!o&&a&&(C=function JQ(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[nu],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==C)(C.__ngLastListenerFn__||C).__ngNextListenerFn__=s,C.__ngLastListenerFn__=s,h=!1;else{s=_O(r,e,c,s,!1);const A=t.listen(m,i,s);d.push(s,A),l&&l.push(i,y,_,_+1)}}else s=_O(r,e,c,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const g=p.length;if(g)for(let m=0;m<g;m+=2){const P=e[p[m]][p[m+1]].subscribe(s),H=d.length;d.push(s,P),l&&l.push(i,r.index,H,-(H+1))}}}(s,i,i[oe],o,n,e,r),on}function yO(n,e,t,r){try{return li(6,e,t),!1!==t(r)}catch(i){return V1(n,i),!1}finally{li(7,e,t)}}function _O(n,e,t,r,i){return function s(o){if(o===Function)return r;Lc(n.componentOffset>-1?ar(n.index,e):e);let u=yO(e,t,r,o),l=s.__ngNextListenerFn__;for(;l;)u=yO(e,t,l,o)&&u,l=l.__ngNextListenerFn__;return i&&!1===u&&o.preventDefault(),u}}function Jp(n,e){return n<<17|e<<2}function Os(n){return n>>17&32767}function cE(n){return 2|n}function Bo(n){return(131068&n)>>2}function dE(n,e){return-131069&n|e<<2}function hE(n){return 1|n}function AO(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Os(s):Bo(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];uY(n[a],e)&&(u=!0,n[a+1]=r?hE(c):cE(c)),a=r?Os(c):Bo(c)}u&&(n[t+1]=r?cE(s):hE(s))}function uY(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&mu(n,e)>=0}function Zp(n,e){return function Br(n,e,t,r){const i=T(),s=Ie(),o=function Wi(n){const e=X.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function LO(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[kn()],o=function FO(n,e){return e>=n.expandoStartIndex}(n,t);(function $O(n,e){return 0!=(n.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function yY(n,e,t,r){const i=function Bv(n){const e=X.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Kc(t=fE(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=fE(i,n,e,t,r),null===s){let u=function _Y(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Bo(r))return n[Os(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=fE(null,n,e,u[1],r),u=Kc(u,e.attrs,r),function vY(n,e,t,r){n[Os(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else s=function wY(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Kc(r,n[s].hostAttrs,t);return Kc(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function oY(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Os(o),u=Bo(o);n[r]=t;let c,l=!1;if(Array.isArray(t)?(c=t[1],(null===c||mu(t,c)>0)&&(l=!0)):c=t,i)if(0!==u){const h=Os(n[a+1]);n[r+1]=Jp(h,a),0!==h&&(n[h+1]=dE(n[h+1],r)),n[a+1]=function iY(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Jp(a,0),0!==a&&(n[a+1]=dE(n[a+1],r)),a=r;else n[r+1]=Jp(u,0),0===a?a=r:n[u+1]=dE(n[u+1],r),u=r;l&&(n[r+1]=cE(n[r+1])),AO(n,c,r,!0),AO(n,c,r,!1),function aY(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&mu(s,e)>=0&&(t[r+1]=hE(t[r+1]))}(e,c,n,r,s),o=Jp(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}(s,n,o,r),e!==ae&&vn(i,o,e)&&function UO(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1],c=function sY(n){return 1==(1&n)}(l)?BO(u,e,t,i,Bo(l),o):void 0;eg(c)||(eg(s)||function rY(n){return 2==(2&n)}(l)&&(s=BO(u,null,t,i,a,o)),function lK(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:Kn.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Kn.Important),n.setStyle(t,r,i,s))}}(r,o,function rp(n,e){return Ke(e[n])}(kn(),t),i,s))}(s,s.data[kn()],i,i[oe],n,i[o+1]=function TY(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Pt(ks(n)))),n}(e,t),r,o)}(n,e,null,!0),Zp}function fE(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Kc(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Kc(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),ur(n,o,!!t||e[++s]))}return void 0===n?null:n}function BO(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const u=n[i],l=Array.isArray(u),c=l?u[1]:u,d=null===c;let h=t[i+1];h===ae&&(h=d?De:void 0);let f=d?Jv(h,r):c===r?h:void 0;if(l&&!eg(f)&&(f=Jv(u,r)),eg(f)&&(a=f,o))return a;const p=n[i+1];i=o?Os(p):Bo(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Jv(u,r))}return a}function eg(n){return void 0!==n}function we(n,e=""){const t=T(),r=Ie(),i=n+ve,s=r.firstCreatePass?bu(r,i,1,e,null):r.data[i],o=jO(r,t,s,e,n);t[i]=o,ip()&&bp(r,t,o,s),ci(s,!1)}let jO=(n,e,t,r,i)=>(Rs(!0),function Ip(n,e){return n.createText(e)}(e[oe],r));const Lu="en-US";let dF=Lu;function yE(n,e,t,r,i){if(n=ee(n),Array.isArray(n))for(let s=0;s<n.length;s++)yE(n[s],e,t,r,i);else{const s=Ie(),o=T();let a=Lo(n)?n:ee(n.provide),u=QP(n);const l=rn(),c=1048575&l.providerIndexes,d=l.directiveStart,h=l.providerIndexes>>20;if(Lo(n)||!n.multi){const f=new _c(u,i,D),p=vE(a,e,i?c:c+h,d);-1===p?(Qv(dp(l,o),s,a),_E(s,n,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(f),o.push(f)):(t[p]=f,o[p]=f)}else{const f=vE(a,e,c+h,d),p=vE(a,e,c,c+h),m=p>=0&&t[p];if(i&&!m||!i&&!(f>=0&&t[f])){Qv(dp(l,o),s,a);const _=function HX(n,e,t,r,i){const s=new _c(n,t,D);return s.multi=[],s.index=e,s.componentProviders=0,FF(s,i,r&&!t),s}(i?GX:jX,t.length,i,r,u);!i&&m&&(t[p].providerFactory=_),_E(s,n,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),t.push(_),o.push(_)}else _E(s,n,f>-1?f:p,FF(t[i?p:f],u,!i&&r));!i&&r&&m&&t[p].componentProviders++}}}function _E(n,e,t,r){const i=Lo(e),s=function UK(n){return!!n.useClass}(e);if(i||s){const u=(s?ee(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[r,u]):l[c+1].push(r,u)}else l.push(t,u)}}}function FF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function vE(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function jX(n,e,t,r){return wE(this.multi,[])}function GX(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Oo(t,t[F],this.providerFactory.index,r);s=a.slice(0,o),wE(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],wE(i,s);return s}function wE(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ze(n,e=[]){return t=>{t.providersResolver=(r,i)=>function $X(n,e,t){const r=Ie();if(r.firstCreatePass){const i=Ur(n);yE(t,r.data,r.blueprint,i,!0),yE(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Vu{}class LF{}class EE extends Vu{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new H1(this);const i=sr(e);this._bootstrapComponents=Yi(i.bootstrap),this._r3Injector=C1(e,t,[{provide:Vu,useValue:this},{provide:Lp,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class IE extends LF{constructor(e){super(),this.moduleType=e}create(e){return new EE(this.moduleType,e,[])}}class VF extends Vu{constructor(e){super(),this.componentFactoryResolver=new H1(this),this.instance=null;const t=new Aw([...e.providers,{provide:Vu,useValue:this},{provide:Lp,useValue:this.componentFactoryResolver}],e.parent||xp(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function CE(n,e,t=null){return new VF({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let qX=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t.id)){const r=zP(0,t.type),i=r.length>0?CE([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t.id,i)}return this.cachedInjectors.get(t.id)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n($(Ki))}),n})();function UF(n){n.getStandaloneInjector=e=>e.get(qX).getOrCreateStandaloneInjector(n)}function bE(n){return e=>{setTimeout(n,void 0,e)}}const ht=class vJ extends Bi{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=bE(s),i&&(i=bE(i)),o&&(o=bE(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof rr&&e.add(a),a}};let jr=(()=>{class n{}return n.__NG_ELEMENT_ID__=NJ,n})();function NJ(){return function nL(n,e){let t;const r=e[n.index];return Wn(r)?t=r:(t=function k1(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}(r,e,null,n),e[n.index]=t,jp(e,t)),rL(t,e,n,r),new eL(t,n,e)}(rn(),T())}const xJ=jr,eL=class extends xJ{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Iu(this._hostTNode,this._hostLView)}get injector(){return new du(this._hostTNode,this._hostLView)}get parentInjector(){const e=Kv(this._hostTNode,this._hostLView);if(xk(e)){const t=lp(e,this._hostLView),r=up(e);return new du(t[F].data[r+8],t)}return new du(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=tL(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-yn}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function wc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,r=g.injector,i=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new $c(Ae(e)),l=r||this.parentInjector;if(!s&&null==u.ngModule){const m=(o?l:this.parentInjector).get(Ki,null);m&&(s=m)}Ae(u.componentType??{});const f=u.create(l,i,null,s);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView,s=i[F];if(function S5(n){return Wn(n[rt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const l=i[rt],c=new eL(l,l[mn],l[rt]);c.detach(c.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;if(function tK(n,e,t,r){const i=yn+r,s=t.length;r>0&&(t[i-1][Vr]=e),r<s-yn?(e[Vr]=t[i],Gk(t,yn+r,e)):(t.push(e),e[Vr]=null),e[rt]=t;const o=e[pc];null!==o&&t!==o&&function nK(n,e){const t=n[ou];e[bt]!==e[rt][rt][bt]&&(n[YR]=!0),null===t?n[ou]=[e]:t.push(e)}(o,e);const a=e[oi];null!==a&&a.insertView(n),e[se]|=128}(s,i,a,o),!r){const u=pw(o,a),l=i[oe],c=Tp(l,a[ai]);null!==c&&function J7(n,e,t,r,i,s){r[Ot]=i,r[mn]=e,Sc(n,r,t,1,i,s)}(s,a[mn],l,i,c,u)}return e.attachToViewContainerRef(),Gk(AE(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=tL(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=cw(this._lContainer,t);r&&(pp(AE(this._lContainer),t),gP(r[F],r))}detach(e){const t=this._adjustIndex(e,-1),r=cw(this._lContainer,t);return r&&null!=pp(AE(this._lContainer),t)?new Bc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function tL(n){return n[8]}function AE(n){return n[8]||(n[8]=[])}let rL=function iL(n,e,t,r){if(n[ai])return;let i;i=8&t.type?Ke(r):function RJ(n,e){const t=n[oe],r=t.createComment(""),i=qn(e,n);return Fo(t,Tp(t,i),r,function oK(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ai]=i};const UE=new V("Application Initializer");let BE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=U(UE,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(qc(s))t.push(s);else if(pO(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ML=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const Zi=new V("LocaleId",{providedIn:"root",factory:()=>U(Zi,q.Optional|q.SkipSelf)||function lZ(){return typeof $localize<"u"&&$localize.locale||Lu}()});let NL=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ir(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class dZ{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let xL=(()=>{class n{compileModuleSync(t){return new IE(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=Yi(sr(t).declarations).reduce((o,a)=>{const u=Ae(a);return u&&o.push(new $c(u)),o},[]);return new dZ(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function PL(...n){}class Pe{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ht(!1),this.onMicrotaskEmpty=new ht(!1),this.onStable=new ht(!1),this.onError=new ht(!1),typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function pZ(){let n=Ge.requestAnimationFrame,e=Ge.cancelAnimationFrame;if(typeof Zone<"u"&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function yZ(n){const e=()=>{!function mZ(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ge,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jE(n),n.isCheckStableRunning=!0,$E(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{try{return OL(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),FL(n)}},onInvoke:(t,r,i,s,o,a,u)=>{try{return OL(n),t.invoke(i,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),FL(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,jE(n),$E(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pe.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(Pe.isInAngularZone())throw new I(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,gZ,PL,PL);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const gZ={};function $E(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function OL(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function FL(n){n._nesting--,$E(n)}class _Z{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ht,this.onMicrotaskEmpty=new ht,this.onStable=new ht,this.onError=new ht}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const LL=new V("",{providedIn:"root",factory:VL});function VL(){const n=U(Pe);let e=!0;return function C9(...n){const e=ac(n),t=function m9(n,e){return"number"==typeof yv(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Cr(r[0]):Za(t)(jt(r,e)):ni}(new ct(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ct(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{Pe.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(DR()))}const UL=new V(""),ag=new V("");let zE,GE=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zE||(function vZ(n){zE=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return n.\u0275fac=function(t){return new(t||n)($(Pe),$(HE),$(ag))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),HE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return zE?.findTestabilityInTree(this,t,r)??null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Fs=null;const BL=new V("AllowMultipleToken"),WE=new V("PlatformDestroyListeners"),qE=new V("appBootstrapListener");class jL{constructor(e,t){this.name=e,this.token=t}}function HL(n,e,t=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=KE();if(!o||o.injector.get(BL,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function IZ(n){if(Fs&&!Fs.get(BL,!1))throw new I(400,!1);(function $L(){!function g5(n){nk=n}(()=>{throw new I(600,!1)})})(),Fs=n;const e=n.get(WL);(function GL(n){n.get(YP,null)?.forEach(t=>t())})(n)}(function zL(n=[],e){return cr.create({name:e,providers:[{provide:Dw,useValue:"platform"},{provide:WE,useValue:new Set([()=>Fs=null])},...n]})}(a,r))}return function TZ(n){const e=KE();if(!e)throw new I(401,!1);return e}()}}function KE(){return Fs?.get(WL)??null}let WL=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function bZ(n="zone.js",e){return"noop"===n?new _Z:"zone.js"===n?new Pe(e):n}(r?.ngZone,function qL(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function WX(n,e,t){return new EE(n,e,t)}(t.moduleType,this.injector,function JL(n){return[{provide:Pe,useFactory:n},{provide:Rc,multi:!0,useFactory:()=>{const e=U(SZ,{optional:!0});return()=>e.initialize()}},{provide:XL,useFactory:DZ},{provide:LL,useFactory:VL}]}(()=>i)),o=s.injector.get(Vo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{ug(this._modules,s),a.unsubscribe()})}),function KL(n,e,t){try{const r=t();return qc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(BE);return a.runInitializers(),a.donePromise.then(()=>(function hF(n){Tr(n,"Expected localeId to be defined"),"string"==typeof n&&(dF=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Zi,Lu)||Lu),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=QL({},r);return function wZ(n,e,t){const r=new IE(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(jo);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new I(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new I(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(WE,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)($(cr))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function QL(n,e){return Array.isArray(e)?e.reduce(QL,n):{...n,...e}}let jo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=U(XL),this.zoneIsStable=U(LL),this.componentTypes=[],this.components=[],this.isStable=U(NL).hasPendingTasks.pipe(ri(t=>t?Z(!1):this.zoneIsStable),function T9(n,e=Ds){return n=n??b9,$t((t,r)=>{let i,s=!0;t.subscribe(kt(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}(),DR()),this._injector=U(Ki)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof i1;if(!this._injector.get(BE).done)throw!i&&function tu(n){const e=Ae(n)||gn(n)||zn(n);return null!==e&&e.standalone}(t),new I(405,!1);let o;o=i?t:this._injector.get(Lp).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function EZ(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Vu),l=o.create(cr.NULL,[],r||o.selector,a),c=l.location.nativeElement,d=l.injector.get(UL,null);return d?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),ug(this.components,l),d?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new I(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;ug(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(qE,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ug(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ug(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const XL=new V("",{providedIn:"root",factory:()=>U(Vo).handleError.bind(void 0)});function DZ(){const n=U(Pe),e=U(Vo);return t=>n.runOutsideAngular(()=>e.handleError(t))}let SZ=(()=>{class n{constructor(){this.zone=U(Pe),this.applicationRef=U(jo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();let lg=(()=>{class n{}return n.__NG_ELEMENT_ID__=MZ,n})();function MZ(n){return function NZ(n,e,t){if(Ro(n)&&!t){const r=ar(n.index,e);return new Bc(r,r)}return 47&n.type?new Bc(e[bt],e):null}(rn(),T(),16==(16&n))}const GZ=HL(null,"core",[]);let HZ=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)($(jo))},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({}),n})();function $u(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let tI=null;function Ls(){return tI}class nee{}const Yn=new V("DocumentToken");let nI=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return U(iee)},providedIn:"platform"}),n})();const ree=new V("Location Initialized");let iee=(()=>{class n extends nI{constructor(){super(),this._doc=U(Yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ls().getBaseHref(this._doc)}onPopState(t){const r=Ls().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Ls().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function rI(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function pV(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function es(n){return n&&"?"!==n[0]?"?"+n:n}let Ho=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return U(mV)},providedIn:"root"}),n})();const gV=new V("appBaseHref");let mV=(()=>{class n extends Ho{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??U(Yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return rI(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+es(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+es(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+es(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)($(nI),$(gV,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),see=(()=>{class n extends Ho{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=rI(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+es(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+es(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)($(nI),$(gV,8))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),iI=(()=>{class n{constructor(t){this._subject=new ht,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function uee(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(pV(yV(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+es(r))}normalize(t){return n.stripTrailingSlash(function aee(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,yV(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+es(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+es(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=es,n.joinWithSlash=rI,n.stripTrailingSlash=pV,n.\u0275fac=function(t){return new(t||n)($(Ho))},n.\u0275prov=z({token:n,factory:function(){return function oee(){return new iI($(Ho))}()},providedIn:"root"}),n})();function yV(n){return n.replace(/\/index.html$/,"")}let Ite=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({}),n})();function kV(n){return"server"===n}let Dte=(()=>{class n{}return n.\u0275prov=z({token:n,providedIn:"root",factory:()=>new Ste($(Yn),window)}),n})();class Ste{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ate(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=PV(this.window.history)||PV(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function PV(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Jte extends nee{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class EI extends Jte{static makeCurrent(){!function tee(n){tI||(tI=n)}(new EI)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Zte(){return ad=ad||document.querySelector("base"),ad?ad.getAttribute("href"):null}();return null==t?null:function ene(n){bg=bg||document.createElement("a"),bg.setAttribute("href",n);const e=bg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ad=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function zee(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let bg,ad=null,nne=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const II=new V("EventManagerPlugins");let UV=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)($(II),$(Pe))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class BV{constructor(e){this._doc=e}}const CI="ng-app-id";let $V=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kV(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${CI}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(CI),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(CI,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)($(Yn),$(Rp),$(JP,8),$(Ps))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const TI={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},bI=/%COMP%/g,one=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function GV(n,e){return e.map(t=>t.replace(bI,n))}let DI=(()=>{class n{constructor(t,r,i,s,o,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=kV(a),this.defaultRenderer=new SI(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===jn.ShadowDom&&(r={...r,encapsulation:jn.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof zV?i.applyToHost(t):i instanceof AI&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(r.encapsulation){case jn.Emulated:s=new zV(u,l,r,this.appId,c,o,a,d);break;case jn.ShadowDom:return new cne(u,l,t,r,o,a,this.nonce,d);default:s=new AI(u,l,r,c,o,a,d)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)($(UV),$($V),$(Rp),$(one),$(Yn),$(Ps),$(Pe),$(JP))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class SI{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(TI[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(HV(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(HV(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new I(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=TI[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=TI[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(t,r,i&Kn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Kn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Ls().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function HV(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class cne extends SI{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=GV(i.id,i.styles);for(const c of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=c,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class AI extends SI{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=u?GV(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class zV extends AI{constructor(e,t,r,i,s,o,a,u){const l=i+"-"+r.id;super(e,t,r,s,o,a,u,l),this.contentAttr=function ane(n){return"_ngcontent-%COMP%".replace(bI,n)}(l),this.hostAttr=function une(n){return"_nghost-%COMP%".replace(bI,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let dne=(()=>{class n extends BV{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)($(Yn))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const WV=["alt","control","meta","shift"],hne={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fne={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pne=(()=>{class n extends BV{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ls().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),WV.forEach(l=>{const c=r.indexOf(l);c>-1&&(r.splice(c,1),o+=l+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=hne[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),WV.forEach(o=>{o!==i&&(0,fne[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)($(Yn))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const KV=[{provide:Ps,useValue:"browser"},{provide:YP,useValue:function gne(){EI.makeCurrent()},multi:!0},{provide:Yn,useFactory:function yne(){return function pK(n){yw=n}(document),document},deps:[]}],_ne=HL(GZ,"browser",KV),vne=new V(""),QV=[{provide:ag,useClass:class tne{addToWindow(e){Ge.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new I(5103,!1);return s},Ge.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ge.getAllAngularRootElements=()=>e.getAllRootElements(),Ge.frameworkStabilizers||(Ge.frameworkStabilizers=[]),Ge.frameworkStabilizers.push(r=>{const i=Ge.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Ls().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:UL,useClass:GE,deps:[Pe,HE,ag]},{provide:GE,useClass:GE,deps:[Pe,HE,ag]}],YV=[{provide:Dw,useValue:"root"},{provide:Vo,useFactory:function mne(){return new Vo},deps:[]},{provide:II,useClass:dne,multi:!0,deps:[Yn,Pe,Ps]},{provide:II,useClass:pne,multi:!0,deps:[Yn]},DI,$V,UV,{provide:Fc,useExisting:DI},{provide:class Mte{},useClass:nne,deps:[]},[]];let XV=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Rp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)($(vne,12))},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({providers:[...YV,...QV],imports:[Ite,HZ]}),n})(),JV=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)($(Yn))},n.\u0275prov=z({token:n,factory:function(t){let r=null;return r=t?new t:function Ene(){return new JV($(Yn))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;const{isArray:Sne}=Array,{getPrototypeOf:Ane,prototype:Mne,keys:Nne}=Object;function n2(n){if(1===n.length){const e=n[0];if(Sne(e))return{args:e,keys:null};if(function xne(n){return n&&"object"==typeof n&&Ane(n)===Mne}(e)){const t=Nne(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Rne}=Array;function r2(n){return Be(e=>function kne(n,e){return Rne(e)?n(...e):n(e)}(n,e))}function i2(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function NI(...n){const e=ac(n),t=TR(n),{args:r,keys:i}=n2(n);if(0===r.length)return jt([],e);const s=new ct(function Pne(n,e,t=Ds){return r=>{s2(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)s2(e,()=>{const l=jt(n[u],e);let c=!1;l.subscribe(kt(r,d=>{s[u]=d,c||(c=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>i2(i,o):Ds));return t?s.pipe(r2(t)):s}function s2(n,e,t){n?$i(t,n,e):e()}const Dg=sc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function xI(...n){return function One(){return Za(1)}()(jt(n,ac(n)))}function o2(n){return new ct(e=>{Cr(n()).subscribe(e)})}function ud(n,e){const t=Ue(n)?n:()=>n,r=i=>i.error(t());return new ct(e?i=>e.schedule(r,0,i):r)}function RI(){return $t((n,e)=>{let t=null;n._refCount++;const r=kt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class a2 extends ct{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,lR(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rr;const t=this.getSubject();e.add(this.source.subscribe(kt(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rr.EMPTY)}return e}refCount(){return RI()(this)}}function ju(n){return n<=0?()=>ni:$t((e,t)=>{let r=0;e.subscribe(kt(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Us(n,e){return $t((t,r)=>{let i=0;t.subscribe(kt(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Sg(n){return $t((e,t)=>{let r=!1;e.subscribe(kt(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function u2(n=Lne){return $t((e,t)=>{let r=!1;e.subscribe(kt(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Lne(){return new Dg}function zo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Us((i,s)=>n(i,s,r)):Ds,ju(1),t?Sg(e):u2(()=>new Dg))}function ld(n,e){return Ue(e)?nn(n,e,1):nn(n,1)}function wn(n,e,t){const r=Ue(n)||e||t?{next:n,error:e,complete:t}:n;return r?$t((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(kt(s,u=>{var l;null===(l=r.next)||void 0===l||l.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,u),s.error(u)},()=>{var u,l;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):Ds}function Wo(n){return $t((e,t)=>{let s,r=null,i=!1;r=e.subscribe(kt(t,void 0,void 0,o=>{s=Cr(n(o,Wo(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function kI(n){return n<=0?()=>ni:$t((e,t)=>{let r=[];e.subscribe(kt(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function PI(n){return $t((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const de="primary",cd=Symbol("RouteTitle");class jne{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Gu(n){return new jne(n)}function Gne(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!l2(n[i],e[i]))return!1;return!0}function l2(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function c2(n){return n.length>0?n[n.length-1]:null}function Bs(n){return function Dne(n){return!!n&&(n instanceof ct||Ue(n.lift)&&Ue(n.subscribe))}(n)?n:qc(n)?jt(Promise.resolve(n)):Z(n)}const zne={exact:function f2(n,e,t){if(!qo(n.segments,e.segments)||!Ag(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!f2(n.children[r],e.children[r],t))return!1;return!0},subset:p2},d2={exact:function Wne(n,e){return yi(n,e)},subset:function qne(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>l2(n[t],e[t]))},ignored:()=>!0};function h2(n,e,t){return zne[t.paths](n.root,e.root,t.matrixParams)&&d2[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function p2(n,e,t){return g2(n,e,e.segments,t)}function g2(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qo(i,t)||e.hasChildren()||!Ag(i,t,r))}if(n.segments.length===t.length){if(!qo(n.segments,t)||!Ag(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!p2(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(qo(n.segments,i)&&Ag(n.segments,i,r)&&n.children[de])&&g2(n.children[de],e,s,r)}}function Ag(n,e,t){return e.every((r,i)=>d2[t](n[i].parameters,r.parameters))}class Hu{constructor(e=new Oe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return Yne.serialize(this)}}class Oe{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mg(this)}}class dd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Gu(this.parameters)),this._parameterMap}toString(){return _2(this)}}function qo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let hd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return new OI},providedIn:"root"}),n})();class OI{parse(e){const t=new are(e);return new Hu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${fd(e.root,!0)}`,r=function Zne(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ng(t)}=${Ng(i)}`).join("&"):`${Ng(t)}=${Ng(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Xne(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Yne=new OI;function Mg(n){return n.segments.map(e=>_2(e)).join("/")}function fd(n,e){if(!n.hasChildren())return Mg(n);if(e){const t=n.children[de]?fd(n.children[de],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==de&&r.push(`${i}:${fd(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Qne(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===de&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==de&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===de?[fd(n.children[de],!1)]:[`${i}:${fd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[de]?`${Mg(n)}/${t[0]}`:`${Mg(n)}/(${t.join("//")})`}}function m2(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ng(n){return m2(n).replace(/%3B/gi,";")}function FI(n){return m2(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function xg(n){return decodeURIComponent(n)}function y2(n){return xg(n.replace(/\+/g,"%20"))}function _2(n){return`${FI(n.path)}${function Jne(n){return Object.keys(n).map(e=>`;${FI(e)}=${FI(n[e])}`).join("")}(n.parameters)}`}const ere=/^[^\/()?;#]+/;function LI(n){const e=n.match(ere);return e?e[0]:""}const tre=/^[^\/()?;=#]+/,rre=/^[^=?&#]+/,sre=/^[^&#]+/;class are{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Oe([],{}):new Oe([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[de]=new Oe(e,t)),r}parseSegment(){const e=LI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(e),new dd(xg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function nre(n){const e=n.match(tre);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=LI(this.remaining);i&&(r=i,this.capture(r))}e[xg(t)]=xg(r)}parseQueryParam(e){const t=function ire(n){const e=n.match(rre);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function ore(n){const e=n.match(sre);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=y2(t),s=y2(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=LI(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new I(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=de);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[de]:new Oe([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new I(4011,!1)}}function v2(n){return n.segments.length>0?new Oe([],{[de]:n}):n}function w2(n){const e={};for(const r of Object.keys(n.children)){const s=w2(n.children[r]);if(r===de&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function ure(n){if(1===n.numberOfChildren&&n.children[de]){const e=n.children[de];return new Oe(n.segments.concat(e.segments),e.children)}return n}(new Oe(n.segments,e))}function Ko(n){return n instanceof Hu}function E2(n){let e;const i=v2(function t(s){const o={};for(const u of s.children){const l=t(u);o[u.outlet]=l}const a=new Oe(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function I2(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return VI(i,i,i,t,r);const s=function cre(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new T2(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new T2(t,e,r)}(e);if(s.toRoot())return VI(i,i,new Oe([],{}),t,r);const o=function dre(n,e,t){if(n.isAbsolute)return new kg(e,!0,0);if(!t)return new kg(e,!1,NaN);if(null===t.parent)return new kg(t,!0,0);const r=Rg(n.commands[0])?0:1;return function hre(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new I(4005,!1);i=r.segments.length}return new kg(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?gd(o.segmentGroup,o.index,s.commands):b2(o.segmentGroup,o.index,s.commands);return VI(i,o.segmentGroup,a,t,r)}function Rg(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function pd(n){return"object"==typeof n&&null!=n&&n.outlets}function VI(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=n===e?t:C2(n,e,t);const a=v2(w2(o));return new Hu(a,s,i)}function C2(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:C2(s,e,t)}),new Oe(n.segments,r)}class T2{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Rg(r[0]))throw new I(4003,!1);const i=r.find(pd);if(i&&i!==c2(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class kg{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function b2(n,e,t){if(n||(n=new Oe([],{})),0===n.segments.length&&n.hasChildren())return gd(n,e,t);const r=function pre(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(pd(a))break;const u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!S2(u,l,o))return s;r+=2}else{if(!S2(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Oe(n.segments.slice(0,r.pathIndex),{});return s.children[de]=new Oe(n.segments.slice(r.pathIndex),n.children),gd(s,0,i)}return r.match&&0===i.length?new Oe(n.segments,{}):r.match&&!n.hasChildren()?UI(n,e,t):r.match?gd(n,0,i):UI(n,e,t)}function gd(n,e,t){if(0===t.length)return new Oe(n.segments,{});{const r=function fre(n){return pd(n[0])?n[0].outlets:{[de]:n}}(t),i={};if(!r[de]&&n.children[de]&&1===n.numberOfChildren&&0===n.children[de].segments.length){const s=gd(n.children[de],e,t);return new Oe(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=b2(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Oe(n.segments,i)}}function UI(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(pd(s)){const u=gre(s.outlets);return new Oe(r,u)}if(0===i&&Rg(t[0])){r.push(new dd(n.segments[e].path,D2(t[0]))),i++;continue}const o=pd(s)?s.outlets[de]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Rg(a)?(r.push(new dd(o,D2(a))),i+=2):(r.push(new dd(o,{})),i++)}return new Oe(r,{})}function gre(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=UI(new Oe([],{}),0,r))}),e}function D2(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function S2(n,e,t){return n==t.path&&yi(e,t.parameters)}const md="imperative";class _i{constructor(e,t){this.id=e,this.url=t}}class BI extends _i{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qo extends _i{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Pg extends _i{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yd extends _i{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class $I extends _i{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class mre extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yre extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _re extends _i{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vre extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wre extends _i{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ere{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ire{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Cre{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Tre{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bre{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dre{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class A2{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Sre{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new _d,this.attachRef=null}}let _d=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sre,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class M2{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=jI(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=jI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=GI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return GI(e,this._root).map(t=>t.value)}}function jI(n,e){if(n===e.value)return e;for(const t of e.children){const r=jI(n,t);if(r)return r}return null}function GI(n,e){if(n===e.value)return[e];for(const t of e.children){const r=GI(n,t);if(r.length)return r.unshift(e),r}return[]}class ns{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class N2 extends M2{constructor(e,t){super(e),this.snapshot=t,HI(this,e)}toString(){return this.snapshot.toString()}}function x2(n,e){const t=function Are(n,e){const o=new Og([],{},{},"",{},de,e,null,{});return new k2("",new ns(o,[]))}(0,e),r=new Ir([new dd("",{})]),i=new Ir({}),s=new Ir({}),o=new Ir({}),a=new Ir(""),u=new Wu(r,i,o,a,s,de,e,t.root);return u.snapshot=t.root,new N2(new ns(u,[]),t)}class Wu{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Be(l=>l[cd]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Be(e=>Gu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Be(e=>Gu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function R2(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Mre(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Og{get title(){return this.data?.[cd]}constructor(e,t,r,i,s,o,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class k2 extends M2{constructor(e,t){super(t),this.url=e,HI(this,t)}toString(){return P2(this._root)}}function HI(n,e){e.value._routerState=n,e.children.forEach(t=>HI(n,t))}function P2(n){const e=n.children.length>0?` { ${n.children.map(P2).join(", ")} } `:"";return`${n.value}${e}`}function zI(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,yi(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),yi(e.params,t.params)||n.paramsSubject.next(t.params),function Hne(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!yi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),yi(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function WI(n,e){const t=yi(n.params,e.params)&&function Kne(n,e){return qo(n,e)&&n.every((t,r)=>yi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||WI(n.parent,e.parent))}let qI=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=de,this.activateEvents=new ht,this.deactivateEvents=new ht,this.attachEvents=new ht,this.detachEvents=new ht,this.parentContexts=U(_d),this.location=U(jr),this.changeDetector=U(lg),this.environmentInjector=U(Ki),this.inputBinder=U(Fg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Nre(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[br]}),n})();class Nre{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Wu?this.route:e===_d?this.childContexts:this.parent.get(e,t)}}const Fg=new V("");let O2=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=NI([r.queryParams,r.params,r.data]).pipe(ri(([s,o,a],u)=>(a={...s,...o,...a},0===u?Z(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function eee(n){const e=Ae(n);if(!e)return null;const t=new $c(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function vd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Rre(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return vd(n,r,i);return vd(n,r)})}(n,e,t);return new ns(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>vd(n,a)),o}}const r=function kre(n){return new Wu(new Ir(n.url),new Ir(n.params),new Ir(n.queryParams),new Ir(n.fragment),new Ir(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>vd(n,s));return new ns(r,i)}}const KI="ngNavigationCancelingError";function F2(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ko(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=L2(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function L2(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[KI]=!0,r.cancellationCode=e,t&&(r.url=t),r}function V2(n){return U2(n)&&Ko(n.url)}function U2(n){return n&&n[KI]}let B2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=No({type:n,selectors:[["ng-component"]],standalone:!0,features:[UF],decls:1,vars:0,template:function(t,r){1&t&&Xp(0,"router-outlet")},dependencies:[qI],encapsulation:2}),n})();function QI(n){const e=n.children&&n.children.map(QI),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=B2),t}function Wr(n){return n.outlet||de}function wd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Bre{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),zI(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=zu(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=zu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=zu(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Dre(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Tre(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(zI(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),zI(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=wd(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class $2{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Lg{constructor(e,t){this.component=e,this.route=t}}function $re(n,e,t){const r=n._root;return Ed(r,e?e._root:null,t,[r.value])}function qu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function R9(n){return null!==Hf(n)}(n)?e.get(n):n:r}function Ed(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=zu(e);return n.children.forEach(o=>{(function Gre(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function Hre(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qo(n.url,e.url)||!yi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!WI(n,e)||!yi(n.queryParams,e.queryParams);default:return!WI(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $2(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Ed(n,e,s.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Lg(a.outlet.component,o))}else o&&Id(e,a,i),i.canActivateChecks.push(new $2(r)),Ed(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Id(a,t.getContext(o),i)),i}function Id(n,e,t){const r=zu(n),i=n.value;Object.entries(r).forEach(([s,o])=>{Id(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Lg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Cd(n){return"function"==typeof n}function j2(n){return n instanceof Dg||"EmptyError"===n?.name}const Vg=Symbol("INITIAL_VALUE");function Ku(){return ri(n=>NI(n.map(e=>e.pipe(ju(1),function Fne(...n){const e=ac(n);return $t((t,r)=>{(e?xI(n,t,e):xI(n,t)).subscribe(r)})}(Vg)))).pipe(Be(e=>{for(const t of e)if(!0!==t){if(t===Vg)return Vg;if(!1===t||t instanceof Hu)return t}return!0}),Us(e=>e!==Vg),ju(1)))}function G2(n){return function O6(...n){return oR(n)}(wn(e=>{if(Ko(e))throw F2(0,e)}),Be(e=>!0===e))}class Ug{constructor(e){this.segmentGroup=e||null}}class H2{constructor(e){this.urlTree=e}}function Qu(n){return ud(new Ug(n))}function z2(n){return ud(new H2(n))}class cie{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new I(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Z(r);if(i.numberOfChildren>1||!i.children[de])return ud(new I(4e3,!1));i=i.children[de]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new Hu(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Oe(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new I(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const YI={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function die(n,e,t,r,i){const s=XI(n,e,t);return s.matched?(r=function Pre(n,e){return n.providers&&!n._injector&&(n._injector=CE(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function aie(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Z(i.map(o=>{const a=qu(o,n);return Bs(function Yre(n){return n&&Cd(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ku(),G2()):Z(!0)}(r,e,t).pipe(Be(o=>!0===o?s:{...YI}))):Z(s)}function XI(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...YI}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Gne)(t,n,e);if(!i)return{...YI};const s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function W2(n,e,t,r){return t.length>0&&function pie(n,e,t){return t.some(r=>Bg(n,e,r)&&Wr(r)!==de)}(n,t,r)?{segmentGroup:new Oe(e,fie(r,new Oe(t,n.children))),slicedSegments:[]}:0===t.length&&function gie(n,e,t){return t.some(r=>Bg(n,e,r))}(n,t,r)?{segmentGroup:new Oe(n.segments,hie(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Oe(n.segments,n.children),slicedSegments:t}}function hie(n,e,t,r,i){const s={};for(const o of r)if(Bg(n,t,o)&&!i[Wr(o)]){const a=new Oe([],{});s[Wr(o)]=a}return{...i,...s}}function fie(n,e){const t={};t[de]=e;for(const r of n)if(""===r.path&&Wr(r)!==de){const i=new Oe([],{});t[Wr(r)]=i}return t}function Bg(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class vie{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new cie(this.urlSerializer,this.urlTree)}noMatchError(e){return new I(4002,!1)}recognize(){const e=W2(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,de).pipe(Wo(t=>{if(t instanceof H2)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ug?this.noMatchError(t):t}),Be(t=>{const r=new Og([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},de,this.rootComponentType,null,{}),i=new ns(r,t),s=new k2("",i),o=function lre(n,e,t=null,r=null){return I2(E2(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,de).pipe(Wo(r=>{throw r instanceof Ug?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=R2(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return jt(i).pipe(ld(s=>{const o=r.children[s],a=function Vre(n,e){const t=n.filter(r=>Wr(r)===e);return t.push(...n.filter(r=>Wr(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function Une(n,e){return $t(function Vne(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(kt(o,c=>{const d=l++;u=a?n(u,c,d):(a=!0,c),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Sg(null),function Bne(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Us((i,s)=>n(i,s,r)):Ds,kI(1),t?Sg(e):u2(()=>new Dg))}(),nn(s=>{if(null===s)return Qu(r);const o=q2(s);return function wie(n){n.sort((e,t)=>e.value.outlet===de?-1:t.value.outlet===de?1:e.value.outlet.localeCompare(t.value.outlet))}(o),Z(o)}))}processSegment(e,t,r,i,s,o){return jt(t).pipe(ld(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Wo(u=>{if(u instanceof Ug)return Z(null);throw u}))),zo(a=>!!a),Wo(a=>{if(j2(a))return function yie(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?Z([]):Qu(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function mie(n,e,t,r){return!!(Wr(n)===r||r!==de&&Bg(e,t,n))&&("**"===n.path||XI(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Qu(i):Qu(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?z2(s):this.applyRedirects.lineralizeSegments(r,s).pipe(nn(o=>{const a=new Oe(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:l,positionalParamSegments:c}=XI(t,i,s);if(!a)return Qu(t);const d=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,c);return i.redirectTo.startsWith("/")?z2(d):this.applyRedirects.lineralizeSegments(i,d).pipe(nn(h=>this.processSegment(e,r,t,h.concat(l),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const u=i.length>0?c2(i).parameters:{};a=Z({snapshot:new Og(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K2(r),Wr(r),r.component??r._loadedComponent??null,r,Q2(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=die(t,r,i,e).pipe(Be(({matched:u,consumedSegments:l,remainingSegments:c,parameters:d})=>u?{snapshot:new Og(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,K2(r),Wr(r),r.component??r._loadedComponent??null,r,Q2(r)),consumedSegments:l,remainingSegments:c}:null));return a.pipe(ri(u=>null===u?Qu(t):this.getChildConfig(e=r._injector??e,r,i).pipe(ri(({routes:l})=>{const c=r._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=u,{segmentGroup:p,slicedSegments:g}=W2(t,h,f,l);if(0===g.length&&p.hasChildren())return this.processChildren(c,l,p).pipe(Be(_=>null===_?null:[new ns(d,_)]));if(0===l.length&&0===g.length)return Z([new ns(d,[])]);const m=Wr(r)===s;return this.processSegment(c,l,p,g,m?de:s,!0).pipe(Be(_=>[new ns(d,_)]))}))))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):function oie(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Z(!0):Z(i.map(o=>{const a=qu(o,n);return Bs(function Wre(n){return n&&Cd(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Ku(),G2())}(e,t,r).pipe(nn(i=>i?this.configLoader.loadChildren(e,t).pipe(wn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function lie(n){return ud(L2(!1,3))}())):Z({routes:[],injector:e})}}function Eie(n){const e=n.value.routeConfig;return e&&""===e.path}function q2(n){const e=[],t=new Set;for(const r of n){if(!Eie(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=q2(r.children);e.push(new ns(r.value,i))}return e.filter(r=>!t.has(r))}function K2(n){return n.data||{}}function Q2(n){return n.resolve||{}}function Y2(n){return"string"==typeof n.title||null===n.title}function JI(n){return ri(e=>{const t=n(e);return t?jt(t).pipe(Be(()=>e)):Z(e)})}const Yu=new V("ROUTES");let ZI=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=U(xL)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Bs(t.loadComponent()).pipe(Be(X2),wn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),PI(()=>{this.componentLoaders.delete(t)})),i=new a2(r,()=>new Bi).pipe(RI());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(Be(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,l;return Array.isArray(a)?l=a:(u=a.create(t).injector,l=u.get(Yu,[],q.Self|q.Optional).flat()),{routes:l.map(QI),injector:u}}),PI(()=>{this.childrenLoaders.delete(r)})),o=new a2(s,()=>new Bi).pipe(RI());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(t){return Bs(t()).pipe(Be(X2),nn(r=>r instanceof LF||Array.isArray(r)?Z(r):jt(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X2(n){return function Aie(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let $g=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Bi,this.configLoader=U(ZI),this.environmentInjector=U(Ki),this.urlSerializer=U(hd),this.rootContexts=U(_d),this.inputBindingEnabled=null!==U(Fg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Ire(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Ere(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ir({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:md,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Us(r=>0!==r.id),Be(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ri(r=>{let i=!1,s=!1;return Z(r).pipe(wn(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ri(o=>{const a=t.browserUrlTree.toString(),u=!t.navigated||o.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!u&&"reload"!==(o.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const c="";return this.events.next(new yd(o.id,t.serializeUrl(r.rawUrl),c,0)),t.rawUrlTree=o.rawUrl,o.resolve(null),ni}if(t.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return J2(o.source)&&(t.browserUrlTree=o.extractedUrl),Z(o).pipe(ri(c=>{const d=this.transitions?.getValue();return this.events.next(new BI(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),d!==this.transitions?.getValue()?ni:Promise.resolve(c)}),function Iie(n,e,t,r,i,s){return nn(o=>function _ie(n,e,t,r,i,s,o="emptyOnly"){return new vie(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(Be(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),wn(c=>{if(r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:c.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!c.extras.skipLocationChange){const h=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl);t.setBrowserUrl(h,c)}t.browserUrlTree=c.urlAfterRedirects}const d=new mre(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:c,extractedUrl:d,source:h,restoredState:f,extras:p}=o,g=new BI(c,this.urlSerializer.serialize(d),h,f);this.events.next(g);const m=x2(0,this.rootComponentType).snapshot;return Z(r={...o,targetSnapshot:m,urlAfterRedirects:d,extras:{...p,skipLocationChange:!1,replaceUrl:!1}})}{const c="";return this.events.next(new yd(o.id,t.serializeUrl(r.extractedUrl),c,1)),t.rawUrlTree=o.rawUrl,o.resolve(null),ni}}),wn(o=>{const a=new yre(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),Be(o=>r={...o,guards:$re(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function Jre(n,e){return nn(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?Z({...t,guardsResult:!0}):function Zre(n,e,t,r){return jt(n).pipe(nn(i=>function sie(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Z(s.map(a=>{const u=wd(e)??i,l=qu(a,u);return Bs(function Qre(n){return n&&Cd(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,r):u.runInContext(()=>l(n,e,t,r))).pipe(zo())})).pipe(Ku()):Z(!0)}(i.component,i.route,t,e,r)),zo(i=>!0!==i,!0))}(o,r,i,n).pipe(nn(a=>a&&function zre(n){return"boolean"==typeof n}(a)?function eie(n,e,t,r){return jt(e).pipe(ld(i=>xI(function nie(n,e){return null!==n&&e&&e(new Cre(n)),Z(!0)}(i.route.parent,r),function tie(n,e){return null!==n&&e&&e(new bre(n)),Z(!0)}(i.route,r),function iie(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function jre(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>o2(()=>Z(o.guards.map(u=>{const l=wd(o.node)??t,c=qu(u,l);return Bs(function Kre(n){return n&&Cd(n.canActivateChild)}(c)?c.canActivateChild(r,n):l.runInContext(()=>c(r,n))).pipe(zo())})).pipe(Ku())));return Z(s).pipe(Ku())}(n,i.path,t),function rie(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Z(!0);const i=r.map(s=>o2(()=>{const o=wd(e)??t,a=qu(s,o);return Bs(function qre(n){return n&&Cd(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(zo())}));return Z(i).pipe(Ku())}(n,i.route,t))),zo(i=>!0!==i,!0))}(r,s,n,e):Z(a)),Be(a=>({...t,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),wn(o=>{if(r.guardsResult=o.guardsResult,Ko(o.guardsResult))throw F2(0,o.guardsResult);const a=new _re(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Us(o=>!!o.guardsResult||(t.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),JI(o=>{if(o.guards.canActivateChecks.length)return Z(o).pipe(wn(a=>{const u=new vre(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),ri(a=>{let u=!1;return Z(a).pipe(function Cie(n,e){return nn(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Z(t);let s=0;return jt(i).pipe(ld(o=>function Tie(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!Y2(i)&&(s[cd]=i.title),function bie(n,e,t,r){const i=function Die(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Z({});const s={};return jt(i).pipe(nn(o=>function Sie(n,e,t,r){const i=wd(e)??r,s=qu(n,i);return Bs(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(zo(),wn(a=>{s[o]=a}))),kI(1),function $ne(n){return Be(()=>n)}(s),Wo(o=>j2(o)?ni:ud(o)))}(s,n,e,r).pipe(Be(o=>(n._resolvedData=o,n.data=R2(n,t).resolve,i&&Y2(i)&&(n.data[cd]=i.title),null)))}(o.route,r,n,e)),wn(()=>s++),kI(1),nn(o=>s===i.length?Z(t):ni))})}(t.paramsInheritanceStrategy,this.environmentInjector),wn({next:()=>u=!0,complete:()=>{u||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),wn(a=>{const u=new wre(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),JI(o=>{const a=u=>{const l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(wn(c=>{u.component=c}),Be(()=>{})));for(const c of u.children)l.push(...a(c));return l};return NI(a(o.targetSnapshot.root)).pipe(Sg(),ju(1))}),JI(()=>this.afterPreactivation()),Be(o=>{const a=function xre(n,e,t){const r=vd(n,e._root,t?t._root:void 0);return new N2(r,e)}(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),wn(o=>{t.currentUrlTree=o.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),t.routerState=o.targetRouterState,"deferred"===t.urlUpdateStrategy&&(o.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,o),t.browserUrlTree=o.urlAfterRedirects)}),((n,e,t,r)=>Be(i=>(new Bre(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ju(1),wn({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Qo(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),PI(()=>{i||s||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Wo(o=>{if(s=!0,U2(o)){V2(o)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new Pg(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),V2(o)){const u=t.urlHandlingStrategy.merge(o.url,t.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||J2(r.source)};t.scheduleNavigation(u,md,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new $I(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(o))}catch(u){r.reject(u)}}return ni}))}))}cancelNavigationTransition(t,r,i){const s=new Pg(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J2(n){return n!==md}let Z2=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===de);return r}getResolvedTitleForRoute(t){return t.data[cd]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return U(Mie)},providedIn:"root"}),n})(),Mie=(()=>{class n extends Z2{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)($(JV))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Nie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return U(Rie)},providedIn:"root"}),n})();class xie{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Rie=(()=>{class n extends xie{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=sn(n)))(r||n)}}(),n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const jg=new V("",{providedIn:"root",factory:()=>({})});let kie=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:function(){return U(Pie)},providedIn:"root"}),n})(),Pie=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var hr=(()=>((hr=hr||{})[hr.COMPLETE=0]="COMPLETE",hr[hr.FAILED=1]="FAILED",hr[hr.REDIRECTING=2]="REDIRECTING",hr))();function eU(n,e){n.events.pipe(Us(t=>t instanceof Qo||t instanceof Pg||t instanceof $I||t instanceof yd),Be(t=>t instanceof Qo||t instanceof yd?hr.COMPLETE:t instanceof Pg&&(0===t.code||1===t.code)?hr.REDIRECTING:hr.FAILED),Us(t=>t!==hr.REDIRECTING),ju(1)).subscribe(()=>{e()})}function Oie(n){throw n}function Fie(n,e,t){return e.parse("/")}const Lie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Nr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=U(ML),this.isNgZoneEnabled=!1,this.options=U(jg,{optional:!0})||{},this.pendingTasks=U(NL),this.errorHandler=this.options.errorHandler||Oie,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Fie,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=U(kie),this.routeReuseStrategy=U(Nie),this.titleStrategy=U(Z2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=U(Yu,{optional:!0})?.flat()??[],this.navigationTransitions=U($g),this.urlSerializer=U(hd),this.location=U(iI),this.componentInputBindingEnabled=!!U(Fg,{optional:!0}),this.isNgZoneEnabled=U(Pe)instanceof Pe&&Pe.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hu,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=x2(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),md,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(QI),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o;let d,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{d=E2(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return I2(d,t,c,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Ko(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,md,null,r)}navigate(t,r={skipLocationChange:!1}){return function Uie(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new I(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Lie}:!1===r?{...Vie}:r,Ko(t))return h2(this.currentUrlTree,t,i);const s=this.parseUrl(t);return h2(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((d,h)=>{a=d,u=h});const c=this.pendingTasks.add();return eU(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(d=>Promise.reject(d))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-(this.browserPageId??this.currentPageId);0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gg=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Bi,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Qo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function BP(n,e,t){return function FK(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?UP:VP}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(D(Nr),D(Wu),function fp(n){return function s7(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(VR(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(rn(),n)}("tabindex"),D(Qi),D(lr),D(Ho))},n.\u0275dir=J({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&on("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&pi("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",$u],skipLocationChange:["skipLocationChange","skipLocationChange",$u],replaceUrl:["replaceUrl","replaceUrl",$u],routerLink:"routerLink"},standalone:!0,features:[Y1,br]}),n})();class tU{}let jie=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Us(t=>t instanceof Qo),ld(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=CE(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return jt(i).pipe(Za())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Z(null);const s=i.pipe(nn(o=>null===o?Z(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?jt([s,this.loader.loadComponent(r)]).pipe(Za()):s})}}return n.\u0275fac=function(t){return new(t||n)($(Nr),$(xL),$(Ki),$(tU),$(ZI))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eC=new V("");let nU=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof BI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Qo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof yd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof A2&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new A2(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){!function T1(){throw new Error("invalid")}()},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();function rs(n,e){return{\u0275kind:n,\u0275providers:e}}function iU(){const n=U(cr);return e=>{const t=n.get(jo);if(e!==t.components[0])return;const r=n.get(Nr),i=n.get(sU);1===n.get(tC)&&r.initialNavigation(),n.get(oU,null,q.Optional)?.setUpPreloading(),n.get(eC,null,q.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const sU=new V("",{factory:()=>new Bi}),tC=new V("",{providedIn:"root",factory:()=>1}),oU=new V("");function Wie(n){return rs(0,[{provide:oU,useExisting:jie},{provide:tU,useExisting:n}])}const aU=new V("ROUTER_FORROOT_GUARD"),Kie=[iI,{provide:hd,useClass:OI},Nr,_d,{provide:Wu,useFactory:function rU(n){return n.routerState.root},deps:[Nr]},ZI,[]];function Qie(){return new jL("Router",Nr)}let uU=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Kie,[],{provide:Yu,multi:!0,useValue:t},{provide:aU,useFactory:Zie,deps:[[Nr,new Ht,new mp]]},{provide:jg,useValue:r||{}},r?.useHash?{provide:Ho,useClass:see}:{provide:Ho,useClass:mV},{provide:eC,useFactory:()=>{const n=U(Dte),e=U(Pe),t=U(jg),r=U($g),i=U(hd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new nU(i,r,n,e,t)}},r?.preloadingStrategy?Wie(r.preloadingStrategy).\u0275providers:[],{provide:jL,multi:!0,useFactory:Qie},r?.initialNavigation?ese(r):[],r?.bindToComponentInputs?rs(8,[O2,{provide:Fg,useExisting:O2}]).\u0275providers:[],[{provide:lU,useFactory:iU},{provide:qE,multi:!0,useExisting:lU}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Yu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)($(aU,8))},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({}),n})();function Zie(n){return"guarded"}function ese(n){return["disabled"===n.initialNavigation?rs(3,[{provide:UE,multi:!0,useFactory:()=>{const e=U(Nr);return()=>{e.setUpLocationChangeListener()}}},{provide:tC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?rs(2,[{provide:tC,useValue:0},{provide:UE,multi:!0,deps:[cr],useFactory:e=>{const t=e.get(ree,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Nr),s=e.get(sU);eU(i,()=>{r(!0)}),e.get($g).afterPreactivation=()=>(r(!0),s.closed?Z(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const lU=new V("");function cU(n,e,t,r,i,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(r,i)}function E(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(u){cU(s,r,i,o,a,"next",u)}function a(u){cU(s,r,i,o,a,"throw",u)}o(void 0)})}}const x=function(n,e){if(!n)throw Xu(e)},Xu=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},dU=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},Hg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0;let h=(15&a)<<2|l>>6,f=63&l;u||(f=64,o||(h=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[h],t[f])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dU(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const l=i<n.length?t[n.charAt(i)]:64;++i;const d=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new rse;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class rse extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hU=function(n){const e=dU(n);return Hg.encodeByteArray(e,!0)},zg=function(n){return hU(n).replace(/\./g,"")},Wg=function(n){try{return Hg.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ise(n){return fU(void 0,n)}function fU(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!sse(t)||(n[t]=fU(n[t],e[t]));return n}function sse(n){return"__proto__"!==n}const qg=()=>{try{return function ose(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Wg(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},pU=n=>{const e=(n=>{var e,t;return null===(t=null===(e=qg())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},gU=()=>{var n;return null===(n=qg())||void 0===n?void 0:n.config};class Yo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function mU(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zg(JSON.stringify({alg:"none",type:"JWT"})),zg(JSON.stringify(o)),""].join(".")}function fr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function rC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}function iC(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function yU(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xo(){try{return"object"==typeof indexedDB}catch{return!1}}function Td(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function sC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class qr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vi.prototype.create)}}class vi{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function pse(n,e){return n.replace(gse,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new qr(i,`${this.serviceName}: ${o} (${i}).`,r)}}const gse=/\{\$([^}]+)}/g;function bd(n){return JSON.parse(n)}function an(n){return JSON.stringify(n)}const Kg=function(n){let e={},t={},r={},i="";try{const s=n.split(".");e=bd(Wg(s[0])||""),t=bd(Wg(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:r,signature:i}};function ss(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function Ju(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function _U(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qg(n,e,t){const r={};for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function oC(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(vU(s)&&vU(o)){if(!oC(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function vU(n){return null!==n&&"object"==typeof n}function aC(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class _se{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)r[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let l,c,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],u=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),c=1518500249):(l=s^o^a,c=1859775393):d<60?(l=s&o|a&(s|o),c=2400959708):(l=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+l+u+c+r[d]&4294967295;u=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const r=t-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<t;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class wse{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function Ese(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=uC),void 0===i.error&&(i.error=uC),void 0===i.complete&&(i.complete=uC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function uC(){}function Zu(n,e){return`${n} failed: ${e} argument `}const Yg=function(n){let e=0;for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e},Cse=1e3,Tse=2,bse=144e5,Dse=.5;function lC(n,e=Cse,t=Tse){const r=e*Math.pow(t,n),i=Math.round(Dse*r*(Math.random()-.5)*2);return Math.min(bse,r+i)}function Kr(n){return n&&n._delegate?n._delegate:n}class un{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Jo="[DEFAULT]";class Ase{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Yo;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Nse(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Jo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return E(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Jo){return this.instances.has(e)}getOptions(e=Jo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Jo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Jo){return this.component?this.component.multipleInstances?e:Jo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xse{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ase(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const cC=[];var te=(()=>((te=te||{})[te.DEBUG=0]="DEBUG",te[te.VERBOSE=1]="VERBOSE",te[te.INFO=2]="INFO",te[te.WARN=3]="WARN",te[te.ERROR=4]="ERROR",te[te.SILENT=5]="SILENT",te))();const wU={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Rse=te.INFO,kse={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Pse=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=kse[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Zo{constructor(e){this.name=e,this._logLevel=Rse,this._logHandler=Pse,this._userLogHandler=null,cC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?wU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const Ose=(n,e)=>e.some(t=>n instanceof t);let EU,IU;const CU=new WeakMap,dC=new WeakMap,TU=new WeakMap,hC=new WeakMap,fC=new WeakMap;let pC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return dC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||TU.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $s(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function jse(n){return"function"==typeof n?function $se(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Lse(){return IU||(IU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(gC(this),e),$s(CU.get(this))}:function(...e){return $s(n.apply(gC(this),e))}:function(e,...t){const r=n.call(gC(this),e,...t);return TU.set(r,e.sort?e.sort():[e]),$s(r)}}(n):(n instanceof IDBTransaction&&function Use(n){if(dC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});dC.set(n,e)}(n),Ose(n,function Fse(){return EU||(EU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,pC):n)}function $s(n){if(n instanceof IDBRequest)return function Vse(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t($s(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&CU.set(t,n)}).catch(()=>{}),fC.set(e,n),e}(n);if(hC.has(n))return hC.get(n);const e=jse(n);return e!==n&&(hC.set(n,e),fC.set(e,n)),e}const gC=n=>fC.get(n),Hse=["get","getKey","getAll","getAllKeys","count"],zse=["put","add","delete","clear"],mC=new Map;function bU(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(mC.get(e))return mC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=zse.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Hse.includes(t))return;const s=function(){var o=E(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return mC.set(e,s),s}!function Bse(n){pC=n(pC)}(n=>({...n,get:(e,t,r)=>bU(e,t)||n.get(e,t,r),has:(e,t)=>!!bU(e,t)||n.has(e,t)}));class Wse{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function qse(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const yC="@firebase/app",ea=new Zo("@firebase/app"),Xg="[DEFAULT]",voe={[yC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ta=new Map,Jg=new Map;function woe(n,e){try{n.container.addComponent(e)}catch(t){ea.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function En(n){const e=n.name;if(Jg.has(e))return ea.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,n);for(const t of ta.values())woe(t,n);return!0}function Dd(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const os=new vi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ioe{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new un("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}const el="9.23.0";function SU(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Xg,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw os.create("bad-app-name",{appName:String(i)});if(t||(t=gU()),!t)throw os.create("no-options");const s=ta.get(i);if(s){if(oC(t,s.options)&&oC(r,s.config))return s;throw os.create("duplicate-app",{appName:i})}const o=new xse(i);for(const u of Jg.values())o.addComponent(u);const a=new Ioe(t,r,o);return ta.set(i,a),a}function _C(n=Xg){const e=ta.get(n);if(!e&&n===Xg&&gU())return SU();if(!e)throw os.create("no-app",{appName:n});return e}function AU(){return Array.from(ta.values())}function et(n,e,t){var r;let i=null!==(r=voe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ea.warn(a.join(" "))}En(new un(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Coe="firebase-heartbeat-database",Toe=1,Sd="firebase-heartbeat-store";let wC=null;function MU(){return wC||(wC=function Gse(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",u=>{r($s(o.result),u.oldVersion,u.newVersion,$s(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}(Coe,Toe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Sd)}}).catch(n=>{throw os.create("idb-open",{originalErrorMessage:n.message})})),wC}function EC(){return(EC=E(function*(n){try{return yield(yield MU()).transaction(Sd).objectStore(Sd).get(xU(n))}catch(e){if(e instanceof qr)ea.warn(e.message);else{const t=os.create("idb-get",{originalErrorMessage:e?.message});ea.warn(t.message)}}})).apply(this,arguments)}function NU(n,e){return IC.apply(this,arguments)}function IC(){return(IC=E(function*(n,e){try{const r=(yield MU()).transaction(Sd,"readwrite");yield r.objectStore(Sd).put(e,xU(n)),yield r.done}catch(t){if(t instanceof qr)ea.warn(t.message);else{const r=os.create("idb-set",{originalErrorMessage:t?.message});ea.warn(r.message)}}})).apply(this,arguments)}function xU(n){return`${n.name}!${n.options.appId}`}class Aoe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Noe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return E(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=RU();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return E(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=RU(),{heartbeatsToSend:r,unsentEntries:i}=function Moe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),kU(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),kU(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=zg(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function RU(){return(new Date).toISOString().substring(0,10)}class Noe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(function*(){return!!Xo()&&Td().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return E(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function boe(n){return EC.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return E(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return NU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return E(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return NU(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function kU(n){return zg(JSON.stringify({version:2,heartbeats:n})).length}!function xoe(n){En(new un("platform-logger",e=>new Wse(e),"PRIVATE")),En(new un("heartbeat",e=>new Aoe(e),"PRIVATE")),et(yC,"0.9.13",n),et(yC,"0.9.13","esm2017"),et("fire-js","")}(""),et("firebase","9.23.0","app");const Poe=(n,e)=>e.some(t=>n instanceof t);let PU,OU;const FU=new WeakMap,CC=new WeakMap,LU=new WeakMap,TC=new WeakMap,bC=new WeakMap;let DC={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return CC.get(n);if("objectStoreNames"===e)return n.objectStoreNames||LU.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return js(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function $oe(n){return"function"==typeof n?function Boe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Foe(){return OU||(OU=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(SC(this),e),js(FU.get(this))}:function(...e){return js(n.apply(SC(this),e))}:function(e,...t){const r=n.call(SC(this),e,...t);return LU.set(r,e.sort?e.sort():[e]),js(r)}}(n):(n instanceof IDBTransaction&&function Voe(n){if(CC.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});CC.set(n,e)}(n),Poe(n,function Ooe(){return PU||(PU=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,DC):n)}function js(n){if(n instanceof IDBRequest)return function Loe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(js(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&FU.set(t,n)}).catch(()=>{}),bC.set(e,n),e}(n);if(TC.has(n))return TC.get(n);const e=$oe(n);return e!==n&&(TC.set(n,e),bC.set(e,n)),e}const SC=n=>bC.get(n),Goe=["get","getKey","getAll","getAllKeys","count"],Hoe=["put","add","delete","clear"],AC=new Map;function VU(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(AC.get(e))return AC.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=Hoe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Goe.includes(t))return;const s=function(){var o=E(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return AC.set(e,s),s}!function Uoe(n){DC=n(DC)}(n=>({...n,get:(e,t,r)=>VU(e,t)||n.get(e,t,r),has:(e,t)=>!!VU(e,t)||n.has(e,t)}));const UU="@firebase/installations",MC="0.6.4",BU=1e4,$U=`w:${MC}`,jU="FIS_v2",zoe="https://firebaseinstallations.googleapis.com/v1",Woe=36e5,as=new vi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function GU(n){return n instanceof qr&&n.code.includes("request-failed")}function NC({projectId:n}){return`${zoe}/projects/${n}/installations`}function HU(n){return{token:n.token,requestStatus:2,expiresIn:Yoe(n.expiresIn),creationTime:Date.now()}}function xC(n,e){return RC.apply(this,arguments)}function RC(){return(RC=E(function*(n,e){const r=(yield e.json()).error;return as.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function zU({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function kC(n){return PC.apply(this,arguments)}function PC(){return(PC=E(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function Yoe(n){return Number(n.replace("s","000"))}function OC(){return(OC=E(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=NC(n),i=zU(n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:jU,appId:n.appId,sdkVersion:$U})},u=yield kC(()=>fetch(r,a));if(u.ok){const l=yield u.json();return{fid:l.fid||t,registrationStatus:2,refreshToken:l.refreshToken,authToken:HU(l.authToken)}}throw yield xC("Create Installation",u)})).apply(this,arguments)}function qU(n){return new Promise(e=>{setTimeout(e,n)})}const eae=/^[cdef][\w-]{21}$/,FC="";function tae(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function nae(n){return function Zoe(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return eae.test(t)?t:FC}catch{return FC}}function tl(n){return`${n.appName}!${n.appId}`}const nl=new Map;function KU(n,e){const t=tl(n);QU(t,e),function sae(n,e){const t=function YU(){return!na&&"BroadcastChannel"in self&&(na=new BroadcastChannel("[Firebase] FID Change"),na.onmessage=n=>{QU(n.data.key,n.data.fid)}),na}();t&&t.postMessage({key:n,fid:e}),function XU(){0===nl.size&&na&&(na.close(),na=null)}()}(t,e)}function QU(n,e){const t=nl.get(n);if(t)for(const r of t)r(e)}let na=null;const oae="firebase-installations-database",aae=1,ra="firebase-installations-store";let LC=null;function VC(){return LC||(LC=function joe(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=js(o);return r&&o.addEventListener("upgradeneeded",u=>{r(js(o.result),u.oldVersion,u.newVersion,js(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(oae,aae,{upgrade:(n,e)=>{0===e&&n.createObjectStore(ra)}})),LC}function Zg(n,e){return UC.apply(this,arguments)}function UC(){return(UC=E(function*(n,e){const t=tl(n),i=(yield VC()).transaction(ra,"readwrite"),s=i.objectStore(ra),o=yield s.get(t);return yield s.put(e,t),yield i.done,(!o||o.fid!==e.fid)&&KU(n,e.fid),e})).apply(this,arguments)}function BC(n){return $C.apply(this,arguments)}function $C(){return($C=E(function*(n){const e=tl(n),r=(yield VC()).transaction(ra,"readwrite");yield r.objectStore(ra).delete(e),yield r.done})).apply(this,arguments)}function Ad(n,e){return jC.apply(this,arguments)}function jC(){return(jC=E(function*(n,e){const t=tl(n),i=(yield VC()).transaction(ra,"readwrite"),s=i.objectStore(ra),o=yield s.get(t),a=e(o);return void 0===a?yield s.delete(t):yield s.put(a,t),yield i.done,a&&(!o||o.fid!==a.fid)&&KU(n,a.fid),a})).apply(this,arguments)}function GC(n){return HC.apply(this,arguments)}function HC(){return HC=E(function*(n){let e;const t=yield Ad(n.appConfig,r=>{const i=function uae(n){return ZU(n||{fid:tae(),registrationStatus:0})}(r),s=function lae(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(as.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function cae(n,e){return zC.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:dae(n)}:{installationEntry:e}}(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===FC?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}}),HC.apply(this,arguments)}function zC(){return zC=E(function*(n,e){try{const t=yield function Joe(n,e){return OC.apply(this,arguments)}(n,e);return Zg(n.appConfig,t)}catch(t){throw GU(t)&&409===t.customData.serverCode?yield BC(n.appConfig):yield Zg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}),zC.apply(this,arguments)}function dae(n){return WC.apply(this,arguments)}function WC(){return(WC=E(function*(n){let e=yield JU(n.appConfig);for(;1===e.registrationStatus;)yield qU(100),e=yield JU(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield GC(n);return r||t}return e})).apply(this,arguments)}function JU(n){return Ad(n,e=>{if(!e)throw as.create("installation-not-found");return ZU(e)})}function ZU(n){return function hae(n){return 1===n.registrationStatus&&n.registrationTime+BU<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function qC(){return(qC=E(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=function pae(n,{fid:e}){return`${NC(n)}/${e}/authTokens:generate`}(n,t),i=function WU(n,{refreshToken:e}){const t=zU(n);return t.append("Authorization",function Xoe(n){return`${jU} ${n}`}(e)),t}(n,t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:$U,appId:n.appId}})},u=yield kC(()=>fetch(r,a));if(u.ok)return HU(yield u.json());throw yield xC("Generate Auth Token",u)})).apply(this,arguments)}function KC(n){return QC.apply(this,arguments)}function QC(){return QC=E(function*(n,e=!1){let t;const r=yield Ad(n.appConfig,s=>{if(!tB(s))throw as.create("not-registered");const o=s.authToken;if(!e&&function yae(n){return 2===n.requestStatus&&!function _ae(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+Woe}(n)}(o))return s;if(1===o.requestStatus)return t=function gae(n,e){return YC.apply(this,arguments)}(n,e),s;{if(!navigator.onLine)throw as.create("app-offline");const a=function vae(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}(s);return t=function mae(n,e){return XC.apply(this,arguments)}(n,a),a}});return t?yield t:r.authToken}),QC.apply(this,arguments)}function YC(){return(YC=E(function*(n,e){let t=yield eB(n.appConfig);for(;1===t.authToken.requestStatus;)yield qU(100),t=yield eB(n.appConfig);const r=t.authToken;return 0===r.requestStatus?KC(n,e):r})).apply(this,arguments)}function eB(n){return Ad(n,e=>{if(!tB(e))throw as.create("not-registered");return function wae(n){return 1===n.requestStatus&&n.requestTime+BU<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function XC(){return XC=E(function*(n,e){try{const t=yield function fae(n,e){return qC.apply(this,arguments)}(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Zg(n.appConfig,r),t}catch(t){if(!GU(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Zg(n.appConfig,r)}else yield BC(n.appConfig);throw t}}),XC.apply(this,arguments)}function tB(n){return void 0!==n&&2===n.registrationStatus}function JC(){return(JC=E(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield GC(e);return r?r.catch(console.error):KC(e).catch(console.error),t.fid})).apply(this,arguments)}function ZC(){return ZC=E(function*(n,e=!1){const t=n;return yield function Cae(n){return eT.apply(this,arguments)}(t),(yield KC(t,e)).token}),ZC.apply(this,arguments)}function eT(){return(eT=E(function*(n){const{registrationPromise:e}=yield GC(n);e&&(yield e)})).apply(this,arguments)}function rT(n){return as.create("missing-app-config-values",{valueName:n})}const nB="installations",Aae=n=>{const e=n.getProvider("app").getImmediate(),t=function Dae(n){if(!n||!n.options)throw rT("App Configuration");if(!n.name)throw rT("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw rT(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Dd(e,"heartbeat"),_delete:()=>Promise.resolve()}},Mae=n=>{const t=Dd(n.getProvider("app").getImmediate(),nB).getImmediate();return{getId:()=>function Eae(n){return JC.apply(this,arguments)}(t),getToken:i=>function Iae(n){return ZC.apply(this,arguments)}(t,i)}};(function Nae(){En(new un(nB,Aae,"PUBLIC")),En(new un("installations-internal",Mae,"PRIVATE"))})(),et(UU,MC),et(UU,MC,"esm2017");const iT="@firebase/remote-config",Jn=new vi("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $ae{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function jae(n=navigator){return n.languages&&n.languages[0]||n.language}class Gae{constructor(e,t,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var t=this;return E(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:jae()},l={method:"POST",headers:a,body:JSON.stringify(u)},c=fetch(o,l),d=new Promise((_,y)=>{e.signal.addEventListener(()=>{const C=new Error("The operation was aborted.");C.name="AbortError",y(C)})});let h;try{yield Promise.race([c,d]),h=yield c}catch(_){let y="fetch-client-network";throw"AbortError"===_?.name&&(y="fetch-timeout"),Jn.create(y,{originalErrorMessage:_?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let g,m;if(200===h.status){let _;try{_=yield h.json()}catch(y){throw Jn.create("fetch-client-parse",{originalErrorMessage:y?.message})}g=_.entries,m=_.state}if("INSTANCE_STATE_UNSPECIFIED"===m?f=500:"NO_CHANGE"===m?f=304:("NO_TEMPLATE"===m||"EMPTY_CONFIG"===m)&&(g={}),304!==f&&200!==f)throw Jn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:g}})()}}class Wae{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return E(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return E(function*(){yield function Hae(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function zae(n){if(!(n instanceof qr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+lC(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Qae{constructor(e,t,r,i,s){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tm(n,e){const t=n.target.error||void 0;return Jn.create(e,{originalErrorMessage:t&&t?.message})}const ia="app_namespace_store";class Zae{constructor(e,t,r,i=function Jae(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(tm(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ia,{keyPath:"compositeKey"})}}catch(t){e(Jn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ia],"readonly").objectStore(ia),u=t.createCompositeKey(e);try{const l=a.get(u);l.onerror=c=>{s(tm(c,"storage-get"))},l.onsuccess=c=>{const d=c.target.result;i(d?d.value:void 0)}}catch(l){s(Jn.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,t){var r=this;return E(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([ia],"readwrite").objectStore(ia),l=r.createCompositeKey(e);try{const c=u.put({compositeKey:l,value:t});c.onerror=d=>{o(tm(d,"storage-set"))},c.onsuccess=()=>{s()}}catch(c){o(Jn.create("storage-set",{originalErrorMessage:c?.message}))}})})()}delete(e){var t=this;return E(function*(){const r=yield t.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([ia],"readwrite").objectStore(ia),u=t.createCompositeKey(e);try{const l=a.delete(u);l.onerror=c=>{s(tm(c,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Jn.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class eue{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return E(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function nue(){return lT.apply(this,arguments)}function lT(){return(lT=E(function*(){if(!Xo())return!1;try{return yield Td()}catch{return!1}})).apply(this,arguments)}!function tue(){En(new un("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Jn.create("registration-window");if(!Xo())throw Jn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Jn.create("registration-project-id");if(!o)throw Jn.create("registration-api-key");if(!a)throw Jn.create("registration-app-id");const u=new Zae(a,r.name,t=t||"firebase"),l=new eue(u),c=new Zo(iT);c.logLevel=te.ERROR;const d=new Gae(i,el,t,s,o,a),h=new Wae(d,u),f=new $ae(h,u,l,c),p=new Qae(r,f,l,u,c);return function Vae(n){const e=Kr(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),et(iT,"0.4.4"),et(iT,"0.4.4","esm2017")}();const rue=(n,e)=>e.some(t=>n instanceof t);let oB,aB;const uB=new WeakMap,cT=new WeakMap,lB=new WeakMap,dT=new WeakMap,hT=new WeakMap;let fT={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return cT.get(n);if("objectStoreNames"===e)return n.objectStoreNames||lB.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return us(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function cue(n){return"function"==typeof n?function lue(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function sue(){return aB||(aB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(pT(this),e),us(uB.get(this))}:function(...e){return us(n.apply(pT(this),e))}:function(e,...t){const r=n.call(pT(this),e,...t);return lB.set(r,e.sort?e.sort():[e]),us(r)}}(n):(n instanceof IDBTransaction&&function aue(n){if(cT.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});cT.set(n,e)}(n),rue(n,function iue(){return oB||(oB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,fT):n)}function us(n){if(n instanceof IDBRequest)return function oue(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(us(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&uB.set(t,n)}).catch(()=>{}),hT.set(e,n),e}(n);if(dT.has(n))return dT.get(n);const e=cue(n);return e!==n&&(dT.set(n,e),hT.set(e,n)),e}const pT=n=>hT.get(n);function cB(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=us(o);return r&&o.addEventListener("upgradeneeded",u=>{r(us(o.result),u.oldVersion,u.newVersion,us(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function gT(n,{blocked:e}={}){const t=indexedDB.deleteDatabase(n);return e&&t.addEventListener("blocked",()=>e()),us(t).then(()=>{})}const due=["get","getKey","getAll","getAllKeys","count"],hue=["put","add","delete","clear"],mT=new Map;function dB(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(mT.get(e))return mT.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=hue.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!due.includes(t))return;const s=function(){var o=E(function*(a,...u){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(u.shift())),(yield Promise.all([c[t](...u),i&&l.done]))[0]});return function(u){return o.apply(this,arguments)}}();return mT.set(e,s),s}!function uue(n){fT=n(fT)}(n=>({...n,get:(e,t,r)=>dB(e,t)||n.get(e,t,r),has:(e,t)=>!!dB(e,t)||n.has(e,t)}));const fue="/firebase-messaging-sw.js",pue="/firebase-cloud-messaging-push-scope",hB="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",gue="https://fcmregistrations.googleapis.com/v1",fB="google.c.a.c_id",mue="google.c.a.c_l",yue="google.c.a.ts";var Gs=(()=>((Gs=Gs||{}).PUSH_RECEIVED="push-received",Gs.NOTIFICATION_CLICKED="notification-clicked",Gs))();function ls(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vue(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const yT="fcm_token_details_db",wue=5,pB="fcm_token_object_Store";function _T(){return _T=E(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(yT))return null;let e=null;return(yield cB(yT,wue,{upgrade:(r=E(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(pB))return;const l=a.objectStore(pB),c=yield l.index("fcmSenderId").get(n);if(yield l.clear(),c)if(2===s){const d=c;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:ls(d.vapidKey)}}}else if(3===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ls(d.auth),p256dh:ls(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ls(d.vapidKey)}}}else if(4===s){const d=c;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:ls(d.auth),p256dh:ls(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:ls(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield gT(yT),yield gT("fcm_vapid_details_db"),yield gT("undefined"),function Iue(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),_T.apply(this,arguments)}const Cue="firebase-messaging-database",Tue=1,sa="firebase-messaging-store";let vT=null;function wT(){return vT||(vT=cB(Cue,Tue,{upgrade:(n,e)=>{0===e&&n.createObjectStore(sa)}})),vT}function gB(n){return ET.apply(this,arguments)}function ET(){return ET=E(function*(n){const e=bT(n),r=yield(yield wT()).transaction(sa).objectStore(sa).get(e);if(r)return r;{const i=yield function Eue(n){return _T.apply(this,arguments)}(n.appConfig.senderId);if(i)return yield IT(n,i),i}}),ET.apply(this,arguments)}function IT(n,e){return CT.apply(this,arguments)}function CT(){return(CT=E(function*(n,e){const t=bT(n),i=(yield wT()).transaction(sa,"readwrite");return yield i.objectStore(sa).put(e,t),yield i.done,e})).apply(this,arguments)}function TT(){return(TT=E(function*(n){const e=bT(n),r=(yield wT()).transaction(sa,"readwrite");yield r.objectStore(sa).delete(e),yield r.done})).apply(this,arguments)}function bT({appConfig:n}){return n.appId}const ln=new vi("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Sue(n,e){return DT.apply(this,arguments)}function DT(){return(DT=E(function*(n,e){const t=yield NT(n),r=yB(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(MT(n.appConfig),i)).json()}catch(o){throw ln.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw ln.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw ln.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function ST(){return(ST=E(function*(n,e){const t=yield NT(n),r=yB(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${MT(n.appConfig)}/${e.token}`,i)).json()}catch(o){throw ln.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw ln.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw ln.create("token-update-no-token");return s.token})).apply(this,arguments)}function mB(n,e){return AT.apply(this,arguments)}function AT(){return(AT=E(function*(n,e){const r={method:"DELETE",headers:yield NT(n)};try{const s=yield(yield fetch(`${MT(n.appConfig)}/${e}`,r)).json();if(s.error)throw ln.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw ln.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function MT({projectId:n}){return`${gue}/projects/${n}/registrations`}function NT(n){return xT.apply(this,arguments)}function xT(){return(xT=E(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function yB({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==hB&&(i.web.applicationPubKey=r),i}const Mue=6048e5;function RT(){return RT=E(function*(n){const e=yield function Rue(n,e){return FT.apply(this,arguments)}(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:ls(e.getKey("auth")),p256dh:ls(e.getKey("p256dh"))},r=yield gB(n.firebaseDependencies);if(r){if(function kue(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}(r.subscriptionOptions,t))return Date.now()>=r.createTime+Mue?function xue(n,e){return PT.apply(this,arguments)}(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield mB(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return vB(n.firebaseDependencies,t)}return vB(n.firebaseDependencies,t)}),RT.apply(this,arguments)}function kT(){return kT=E(function*(n){const e=yield gB(n.firebaseDependencies);e&&(yield mB(n.firebaseDependencies,e.token),yield function bue(n){return TT.apply(this,arguments)}(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()}),kT.apply(this,arguments)}function PT(){return PT=E(function*(n,e){try{const t=yield function Aue(n,e){return ST.apply(this,arguments)}(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield IT(n.firebaseDependencies,r),t}catch(t){throw yield function _B(n){return kT.apply(this,arguments)}(n),t}}),PT.apply(this,arguments)}function vB(n,e){return OT.apply(this,arguments)}function OT(){return(OT=E(function*(n,e){const r={token:yield Sue(n,e),createTime:Date.now(),subscriptionOptions:e};return yield IT(n,r),r.token})).apply(this,arguments)}function FT(){return(FT=E(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vue(e)})})).apply(this,arguments)}function wB(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function Pue(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const s=e.notification.icon;s&&(n.notification.icon=s)}(e,n),function Oue(n,e){e.data&&(n.data=e.data)}(e,n),function Fue(n,e){var t,r,i,s,o;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(n.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(n.fcmOptions.analyticsLabel=u)}(e,n),e}function EB(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function LT(n){return ln.create("missing-app-config-values",{valueName:n})}EB("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),EB("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Uue{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Vue(n){if(!n||!n.options)throw LT("App Configuration Object");if(!n.name)throw LT("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw LT(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function VT(){return(VT=E(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(fue,{scope:pue}),n.swRegistration.update().catch(()=>{})}catch(e){throw ln.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function UT(){return(UT=E(function*(n,e){if(!e&&!n.swRegistration&&(yield function IB(n){return VT.apply(this,arguments)}(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw ln.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function BT(){return(BT=E(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=hB)})).apply(this,arguments)}function $T(){return $T=E(function*(n,e){if(!navigator)throw ln.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ln.create("permission-blocked");return yield function $ue(n,e){return BT.apply(this,arguments)}(n,e?.vapidKey),yield function Bue(n,e){return UT.apply(this,arguments)}(n,e?.serviceWorkerRegistration),function Nue(n){return RT.apply(this,arguments)}(n)}),$T.apply(this,arguments)}function jT(){return(jT=E(function*(n,e,t){const r=function Gue(n){switch(n){case Gs.NOTIFICATION_CLICKED:return"notification_open";case Gs.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[fB],message_name:t[mue],message_time:t[yue],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function GT(){return GT=E(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Gs.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(wB(t)):n.onMessageHandler.next(wB(t)));const r=t.data;(function Lue(n){return"object"==typeof n&&!!n&&fB in n})(r)&&"1"===r["google.c.a.e"]&&(yield function jue(n,e,t){return jT.apply(this,arguments)}(n,t.messageType,r))}),GT.apply(this,arguments)}const TB="@firebase/messaging",zue=n=>{const e=new Uue(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function Hue(n,e){return GT.apply(this,arguments)}(e,t)),e},Wue=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function CB(n,e){return $T.apply(this,arguments)}(e,r)}};function DB(){return HT.apply(this,arguments)}function HT(){return(HT=E(function*(){try{yield Td()}catch{return!1}return typeof window<"u"&&Xo()&&sC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function que(){En(new un("messaging",zue,"PUBLIC")),En(new un("messaging-internal",Wue,"PRIVATE")),et(TB,"0.12.4"),et(TB,"0.12.4","esm2017")}();const nm="analytics",Yue="firebase_id",Xue="origin",Jue=6e4,Zue="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",qT="https://www.googletagmanager.com/gtag/js",zt=new Zo("@firebase/analytics"),Fn=new vi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function tle(n){if(!n.startsWith(qT)){const e=Fn.create("invalid-gtag-resource",{gtagURL:n});return zt.warn(e.message),""}return n}function SB(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function KT(){return(KT=E(function*(n,e,t,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield SB(t)).find(l=>l.measurementId===i);u&&(yield e[u.appId])}}catch(a){zt.error(a)}n("config",i,s)})).apply(this,arguments)}function QT(){return(QT=E(function*(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield SB(t);for(const u of o){const l=a.find(d=>d.measurementId===u),c=l&&e[l.appId];if(!c){s=[];break}s.push(c)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,i||{})}catch(s){zt.error(s)}})).apply(this,arguments)}const cle=30,AB=new class hle{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fle(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function YT(){return(YT=E(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:fle(r)},s=Zue.replace("{app-id}",t),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Fn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function XT(){return(XT=E(function*(n,e=AB,t){const{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw Fn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Fn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new _le;return setTimeout(E(function*(){a.abort()}),void 0!==t?t:Jue),MB({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function MB(n,e,t){return JT.apply(this,arguments)}function JT(){return JT=E(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=AB){var s;const{appId:o,measurementId:a}=n;try{yield function mle(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(u){if(a)return zt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield function ple(n){return YT.apply(this,arguments)}(n);return i.deleteThrottleMetadata(o),u}catch(u){const l=u;if(!function yle(n){if(!(n instanceof qr&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return zt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw u}const c=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?lC(t,i.intervalMillis,cle):lC(t,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:t+1};return i.setThrottleMetadata(o,d),zt.debug(`Calling attemptFetch again in ${c} millis`),MB(n,d,r,i)}}),JT.apply(this,arguments)}class _le{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let ZT,ob;function eb(){return(eb=E(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function ab(){return(ab=E(function*(){if(!Xo())return zt.warn(Fn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Td()}catch(n){return zt.warn(Fn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function ub(){return ub=E(function*(n,e,t,r,i,s,o){var a;const u=function gle(n){return XT.apply(this,arguments)}(n);u.then(f=>{t[f.measurementId]=f.appId,n.options.measurementId&&f.measurementId!==n.options.measurementId&&zt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>zt.error(f)),e.push(u);const l=function ble(){return ab.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[c,d]=yield Promise.all([u,l]);(function lle(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(qT)&&t.src.includes(n))return t;return null})(s)||function rle(n,e){const t=function nle(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}("firebase-js-sdk-policy",{createScriptURL:tle}),r=document.createElement("script"),i=`${qT}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,c.measurementId),ob&&(i("consent","default",ob),function NB(n){ob=n}(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h[Xue]="firebase",h.update=!0,null!=d&&(h[Yue]=d),i("config",c.measurementId,h),ZT&&(i("set",ZT),function xB(n){ZT=n}(void 0)),c.measurementId}),ub.apply(this,arguments)}class Sle{constructor(e){this.app=e}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},RB=[];const kB={};let OB,Ei,rm="dataLayer",lb=!1;function Mle(n,e,t){!function Ale(){const n=[];if(iC()&&n.push("This is a browser extension environment."),sC()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Fn.create("invalid-analytics-context",{errorInfo:e});zt.warn(t.message)}}();const r=n.options.appId;if(!r)throw Fn.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Fn.create("no-api-key");zt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wi[r])throw Fn.create("already-exists",{id:r});if(!lb){!function ile(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(rm);const{wrappedGtag:s,gtagCore:o}=function ule(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ale(n,e,t,r){function s(){return s=E(function*(o,...a){try{if("event"===o){const[u,l]=a;yield function ole(n,e,t,r,i){return QT.apply(this,arguments)}(n,e,t,u,l)}else if("config"===o){const[u,l]=a;yield function sle(n,e,t,r,i,s){return KT.apply(this,arguments)}(n,e,t,r,u,l)}else if("consent"===o){const[u]=a;n("consent","update",u)}else if("get"===o){const[u,l,c]=a;n("get",u,l,c)}else if("set"===o){const[u]=a;n("set",u)}else n(o,...a)}catch(u){zt.error(u)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}(wi,RB,kB,rm,"gtag");Ei=s,OB=o,lb=!0}return wi[r]=function Dle(n,e,t,r,i,s,o){return ub.apply(this,arguments)}(n,RB,kB,e,OB,rm,t),new Sle(n)}function xle(){return cb.apply(this,arguments)}function cb(){return(cb=E(function*(){if(iC()||!sC()||!Xo())return!1;try{return yield Td()}catch{return!1}})).apply(this,arguments)}const FB="@firebase/analytics";!function kle(){En(new un(nm,(e,{options:t})=>Mle(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),En(new un("analytics-internal",function n(e){try{const t=e.getProvider(nm).getImmediate();return{logEvent:(r,i,s)=>function Rle(n,e,t,r){n=Kr(n),function vle(n,e,t,r,i){return eb.apply(this,arguments)}(Ei,wi[n.app.options.appId],e,t,r).catch(i=>zt.error(i))}(t,r,i,s)}}catch(t){throw Fn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),et(FB,"0.10.0"),et(FB,"0.10.0","esm2017")}();class Ple extends rr{constructor(e,t){super()}schedule(e,t=0){return this}}const im={setInterval(n,e,...t){const{delegate:r}=im;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=im;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class VB extends Ple{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return im.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&im.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ja(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const UB={now:()=>(UB.delegate||Date).now(),delegate:void 0};class Md{constructor(e,t=Md.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Md.now=UB.now;class BB extends Md{constructor(e,t=Md.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const Lle=new class Fle extends BB{}(class Ole extends VB{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),Vle=new BB(VB),sm=new Cu("7.6.1"),hb="__angularfire_symbol__analyticsIsSupportedValue",fb="__angularfire_symbol__analyticsIsSupported",pb="__angularfire_symbol__remoteConfigIsSupportedValue",gb="__angularfire_symbol__remoteConfigIsSupported",mb="__angularfire_symbol__messagingIsSupportedValue",yb="__angularfire_symbol__messagingIsSupported";function om(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[fb]||(globalThis[fb]=xle().then(n=>globalThis[hb]=n).catch(()=>globalThis[hb]=!1)),globalThis[yb]||(globalThis[yb]=DB().then(n=>globalThis[mb]=n).catch(()=>globalThis[mb]=!1)),globalThis[gb]||(globalThis[gb]=nue().then(n=>globalThis[pb]=n).catch(()=>globalThis[pb]=!1));const am=(n,e)=>{const t=e?[e]:AU(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function rl(){}class $B{constructor(e,t=Lle){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class Ule{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rl,{},rl,rl)),t.pipe(wn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let vb=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new $B(Zone.current)),this.insideAngular=t.run(()=>new $B(Zone.current,Vle)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)($(Pe))},n.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oa(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function aa(n){return oa().ngZone.run(()=>n())}function $le(n){return oa(),function jle(n){return function(t){return(t=t.lift(new Ule(n.ngZone))).pipe(Bf(n.outsideAngular),Uf(n.insideAngular))}}(oa())(n)}const Gle=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),aa(()=>n.apply(void 0,r))},Nd=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=aa(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",rl,{},rl,rl)))),r[s]=Gle(r[s],t));const i=function Ble(n){return oa().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof ct){const s=oa();return i.pipe(Bf(s.outsideAngular),Uf(s.insideAngular))}return aa(()=>i)}return i instanceof ct?i.pipe($le):i instanceof Promise?aa(()=>new Promise((s,o)=>i.then(a=>aa(()=>s(a)),a=>aa(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:aa(()=>i)};class ua{constructor(e){return e}}class wb{constructor(){return AU()}}const Eb=new V("angularfire2._apps"),zle={provide:ua,useFactory:function Hle(n){return n&&1===n.length?n[0]:new ua(_C())},deps:[[new Ht,Eb]]},Wle={provide:wb,deps:[[new Ht,Eb]]};function qle(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ua(r)}}let Kle=(()=>{class n{constructor(t){et("angularfire",sm.full,"core"),et("angularfire",sm.full,"app"),et("angular",o1.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)($(Ps))},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({providers:[zle,Wle]}),n})();function Qle(n,...e){return{ngModule:Kle,providers:[{provide:Eb,useFactory:qle(n),multi:!0,deps:[Pe,cr,vb,...e]}]}}const Yle=Nd(SU,!0);const Xle=function jB(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},GB=new vi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),um=new Zo("@firebase/auth");function lm(n,...e){um.logLevel<=te.ERROR&&um.error(`Auth (${el}): ${n}`,...e)}function Zn(n,...e){throw Ib(n,...e)}function Ii(n,...e){return Ib(n,...e)}function Ib(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return GB.create(n,...e)}function M(n,e,...t){if(!n)throw Ib(e,...t)}function Ci(n){const e="INTERNAL ASSERTION FAILED: "+n;throw lm(e),new Error(e)}function Hs(n,e){n||Ci(e)}function zB(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class Rd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hs(t>e,"Short delay should be less than long delay!"),this.isMobile=rC()||yU()}get(){return function Zle(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Cb(){return"http:"===zB()||"https:"===zB()}()||iC()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class WB{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},nce=new Rd(3e4,6e4);function ft(n,e,t,r){return bb.apply(this,arguments)}function bb(){return(bb=E(function*(n,e,t,r,i={}){return qB(n,i,E(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=aC(Object.assign({key:n.config.apiKey},o)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),WB.fetch()(KB(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function qB(n,e,t){return Db.apply(this,arguments)}function Db(){return(Db=E(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},tce),e);try{const i=new rce(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw kd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw kd(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw kd(n,"email-already-in-use",o);if("USER_DISABLED"===u)throw kd(n,"user-disabled",o);const c=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function HB(n,e,t){const r=Object.assign(Object.assign({},Xle()),{[e]:t});return new vi("auth","Firebase",r).create(e,{appName:n.name})}(n,c,l);Zn(n,c)}}catch(i){if(i instanceof qr)throw i;Zn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function KB(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function Tb(n,e){Hs(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class rce{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),nce.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function kd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ii(n,e,r);return i.customData._tokenResponse=t,i}function Ab(){return(Ab=E(function*(n,e){return ft(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Nb(){return(Nb=E(function*(n,e){return ft(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Pd(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xb(){return(xb=E(function*(n,e=!1){const t=Kr(n),r=yield t.getIdToken(e),i=cm(r);M(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Pd(Rb(i.auth_time)),issuedAtTime:Pd(Rb(i.iat)),expirationTime:Pd(Rb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Rb(n){return 1e3*Number(n)}function cm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return lm("JWT malformed, contained fewer than 3 sections"),null;try{const i=Wg(t);return i?JSON.parse(i):(lm("Failed to decode base64 JWT payload"),null)}catch(i){return lm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ds(n,e){return kb.apply(this,arguments)}function kb(){return(kb=E(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof qr&&function lce({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class cce{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(E(function*(){yield t.iteration()}),r)}iteration(){var e=this;return E(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class QB{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pd(this.lastLoginAt),this.creationTime=Pd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Od(n){return Pb.apply(this,arguments)}function Pb(){return Pb=E(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ds(n,function oce(n,e){return Nb.apply(this,arguments)}(t,{idToken:r}));M(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function fce(n){return n.map(e=>{var{providerId:t}=e,r=pv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function hce(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),c=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new QB(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(n,d)}),Pb.apply(this,arguments)}function Ob(){return(Ob=E(function*(n){const e=Kr(n);yield Od(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Fb(){return(Fb=E(function*(n,e){const t=yield qB(n,{},E(function*(){const r=aC({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=KB(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",WB.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class Fd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){M(e.idToken,"internal-error"),M(typeof e.idToken<"u","internal-error"),M(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function uce(n){const e=cm(n);return M(e,"internal-error"),M(typeof e.exp<"u","internal-error"),M(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return E(function*(){return M(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return E(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function pce(n,e){return Fb.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Fd;return r&&(M("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(M("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(M("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fd,this.toJSON())}_performRefresh(){return Ci("not implemented")}}function zs(n,e){M("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class la{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=pv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cce(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new QB(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return E(function*(){const r=yield ds(t,t.stsTokenManager.getToken(t.auth,e));return M(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function ace(n){return xb.apply(this,arguments)}(this,e)}reload(){return function dce(n){return Ob.apply(this,arguments)}(this)}_assign(e){this!==e&&(M(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new la(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){M(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return E(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Od(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return E(function*(){const t=yield e.getIdToken();return yield ds(e,function ice(n,e){return Ab.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,c;const d=null!==(r=t.displayName)&&void 0!==r?r:void 0,h=null!==(i=t.email)&&void 0!==i?i:void 0,f=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=t.photoURL)&&void 0!==o?o:void 0,g=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,_=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:C,emailVerified:A,isAnonymous:P,providerData:H,stsTokenManager:ye}=t;M(C&&ye,e,"internal-error");const Ct=Fd.fromJSON(this.name,ye);M("string"==typeof C,e,"internal-error"),zs(d,e.name),zs(h,e.name),M("boolean"==typeof A,e,"internal-error"),M("boolean"==typeof P,e,"internal-error"),zs(f,e.name),zs(p,e.name),zs(g,e.name),zs(m,e.name),zs(_,e.name),zs(y,e.name);const en=new la({uid:C,auth:e,email:h,emailVerified:A,displayName:d,isAnonymous:P,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ct,createdAt:_,lastLoginAt:y});return H&&Array.isArray(H)&&(en.providerData=H.map(ti=>Object.assign({},ti))),m&&(en._redirectEventId=m),en}static _fromIdTokenResponse(e,t,r=!1){return E(function*(){const i=new Fd;i.updateFromServerResponse(t);const s=new la({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Od(s),s})()}}const YB=new Map;function hs(n){Hs(n instanceof Function,"Expected a class definition");let e=YB.get(n);return e?(Hs(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,YB.set(n,e),e)}const XB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(function*(){return!0})()}_set(t,r){var i=this;return E(function*(){i.storage[t]=r})()}_get(t){var r=this;return E(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return E(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function dm(n,e,t){return`firebase:${n}:${e}:${t}`}class sl{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=dm(this.userKey,i.apiKey,s),this.fullPersistenceKey=dm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return E(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?la._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return E(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return E(function*(){if(!t.length)return new sl(hs(XB),e,r);const i=(yield Promise.all(t.map(function(){var l=E(function*(c){if(yield c._isAvailable())return c});return function(c){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||hs(XB);const o=dm(r,e.config.apiKey,e.name);let a=null;for(const l of t)try{const c=yield l._get(o);if(c){const d=la._fromJSON(e,c);l!==s&&(a=d),s=l;break}}catch{}const u=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var l=E(function*(c){if(c!==s)try{yield c._remove(o)}catch{}});return function(c){return l.apply(this,arguments)}}())),new sl(s,e,r)):new sl(s,e,r)})()}}function JB(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function t$(n=fr()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function ZB(n=fr()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function r$(n=fr()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function i$(n=fr()){return/webos/i.test(n)}(e))return"Webos";if(function Lb(n=fr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function e$(n=fr()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function n$(n=fr()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function s$(n,e=[]){let t;switch(n){case"Browser":t=JB(fr());break;case"Worker":t=`${JB(fr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${el}/${r}`}function o$(n,e){return Ub.apply(this,arguments)}function Ub(){return(Ub=E(function*(n,e){return ft(n,"GET","/v2/recaptchaConfig",function ot(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function u$(n){return void 0!==n&&void 0!==n.enterprise}class l${constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class d${constructor(e){this.type="recaptcha-enterprise",this.auth=Wt(e)}verify(e="verify",t=!1){var r=this;return E(function*(){function s(){return s=E(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var u=E(function*(l,c){o$(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new l$(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,l(h.siteKey)}c(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{c(d)})});return function(l,c){return u.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,u,l){const c=window.grecaptcha;u$(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{u(d)}).catch(()=>{u("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,u)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!t&&u$(window.grecaptcha))o(l,a,u);else{if(typeof window>"u")return void u(new Error("RecaptchaVerifier is only supported in browser"));(function Bb(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ii("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function _ce(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,u)}).catch(c=>{u(c)})}}).catch(l=>{u(l)})})})()}}class Ice{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return E(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Cce{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h$(this),this.idTokenSubscription=new h$(this),this.beforeStateQueue=new Ice(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GB,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=hs(t)),this._initializationPromise=this.queue(E(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield sl.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return E(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return E(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,l=yield t.tryRedirectSignIn(e);(!a||a===u)&&l?.user&&(s=l.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return M(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return E(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return E(function*(){try{yield Od(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function ece(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return E(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return E(function*(){const r=e?Kr(e):null;return r&&M(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return E(function*(){if(!r._deleted)return e&&M(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(E(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return E(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(E(function*(){yield t.assertedPersistence.setPersistence(hs(e))}))}initializeRecaptchaConfig(){var e=this;return E(function*(){const t=yield o$(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new l$(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new d$(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return E(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return E(function*(){if(!t.redirectPersistenceManager){const r=e&&hs(e)||t._popupRedirectResolver;M(r,t,"argument-error"),t.redirectPersistenceManager=yield sl.create(t,[hs(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return E(function*(){var r,i;return t._isInitialized&&(yield t.queue(E(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return E(function*(){if(e===t.currentUser)return t.queue(E(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return M(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return E(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return M(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=s$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return E(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return E(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function Jle(n,...e){um.logLevel<=te.WARN&&um.warn(`Auth (${el}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Wt(n){return Kr(n)}class h${constructor(e){this.auth=e,this.observer=null,this.addObserver=function vse(n,e){const t=new wse(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return M(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function c$(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new Rd(3e4,6e4),new Rd(2e3,1e4),new Rd(3e4,6e4),new Rd(5e3,15e3),encodeURIComponent("fac");var $$="@firebase/auth";class ghe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return E(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){M(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}qg(),function yhe(n){En(new un("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;M(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:s$(n)},l=new Cce(r,i,s,u);return function bce(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(hs);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),En(new un("auth-internal",e=>{const t=Wt(e.getProvider("auth").getImmediate());return new ghe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),et($$,"0.23.2",function mhe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),et($$,"0.23.2","esm2017")}("Browser");class SS{constructor(){return am("auth")}}const MS=new Map,z$={activated:!1,tokenObservers:[]},The={initialized:!1,enabled:!1};function pt(n){return MS.get(n)||Object.assign({},z$)}function Tm(){return The}const NS="https://content-firebaseappcheck.googleapis.com/v1",Ahe="exchangeDebugToken",W$={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nhe{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return E(function*(){t.stop();try{t.pending=new Yo,yield function xhe(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Yo,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const cn=new vi("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xS(n){if(!pt(n).activated)throw cn.create("use-before-activation",{appName:n.name})}function Sm(n,e){return kS.apply(this,arguments)}function kS(){return kS=E(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(n,s)}catch(d){throw cn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw cn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw cn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw cn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(u[1]),c=Date.now();return{token:a.token,expireTimeMillis:c+l,issuedAtTimeMillis:c}}),kS.apply(this,arguments)}function q$(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${NS}/projects/${t}/apps/${r}:${Ahe}?key=${i}`,body:{debug_token:e}}}const Ohe="firebase-app-check-database",Fhe=1,$d="firebase-app-check-store";let Am=null;function PS(){return PS=E(function*(n,e){const r=(yield function Q$(){return Am||(Am=new Promise((n,e)=>{try{const t=indexedDB.open(Ohe,Fhe);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(cn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($d,{keyPath:"compositeKey"})}}catch(t){e(cn.create("storage-open",{originalErrorMessage:t?.message}))}}),Am)}()).transaction($d,"readwrite"),s=r.objectStore($d).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var l;a(cn.create("storage-set",{originalErrorMessage:null===(l=u.target.error)||void 0===l?void 0:l.message}))}})}),PS.apply(this,arguments)}const jd=new Zo("@firebase/app-check");function LS(n,e){return Xo()?function Vhe(n,e){return function Y$(n,e){return PS.apply(this,arguments)}(function J$(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{jd.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function US(){return Tm().enabled}function BS(){return $S.apply(this,arguments)}function $S(){return $S=E(function*(){const n=Tm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),$S.apply(this,arguments)}const Hhe={error:"UNKNOWN_ERROR"};function zhe(n){return Hg.encodeString(JSON.stringify(n),!1)}function Mm(n){return jS.apply(this,arguments)}function jS(){return jS=E(function*(n,e=!1){const t=n.app;xS(t);const r=pt(t);let s,i=r.token;if(i&&!al(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(al(u)?i=u:yield LS(t,void 0))}if(!e&&i&&al(i))return{token:i.token};let a,o=!1;if(US()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Sm(q$(t,yield BS()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield LS(t,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield pt(t).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?jd.warn(u.message):jd.error(u),s=u}return i?s?a=al(i)?{token:i.token,internalError:s}:nj(s):(a={token:i.token},r.token=i,yield LS(t,i)):a=nj(s),o&&function tj(n,e){const t=pt(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,a),a}),jS.apply(this,arguments)}function GS(){return GS=E(function*(n){const e=n.app;xS(e);const{provider:t}=pt(e);if(US()){const r=yield BS(),{token:i}=yield Sm(q$(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}}),GS.apply(this,arguments)}function zS(n,e){const t=pt(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ej(n){const{app:e}=n,t=pt(e);let r=t.tokenRefresher;r||(r=function Whe(n){const{app:e}=n;return new Nhe(E(function*(){let r;if(r=pt(e).token?yield Mm(n,!0):yield Mm(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=pt(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},W$.RETRIAL_MIN_WAIT,W$.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function al(n){return n.expireTimeMillis-Date.now()>0}function nj(n){return{token:zhe(Hhe),error:n}}class qhe{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=pt(this.app);for(const t of e)zS(this.app,t.next);return Promise.resolve()}}const cj="app-check-internal";!function afe(){En(new un("app-check",n=>function Khe(n,e){return new qhe(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(cj).initialize()})),En(new un(cj,n=>function Qhe(n){return{getToken:e=>Mm(n,e),getLimitedUseToken:()=>function Z$(n){return GS.apply(this,arguments)}(n),addTokenListener:e=>function HS(n,e,t,r){const{app:i}=n,s=pt(i);if(s.tokenObservers=[...s.tokenObservers,{next:t,error:r,type:e}],s.token&&al(s.token)){const a=s.token;Promise.resolve().then(()=>{t({token:a.token}),ej(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>ej(n))}(n,"INTERNAL",e),removeTokenListener:e=>zS(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),et("@firebase/app-check","0.8.0")}();class QS{constructor(){return am("app-check")}}typeof window<"u"&&window;const hj="@firebase/database";let XS="";class ffe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),an(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:bd(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class pfe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return ss(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const pj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ffe(e)}}catch{}return new pfe},fa=pj("localStorage"),JS=pj("sessionStorage"),ul=new Zo("@firebase/database"),gj=function(){let n=1;return function(){return n++}}(),mj=function(n){const e=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,x(r<n.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(n.charCodeAt(r)-56320)}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e}(n),t=new _se;t.update(e);const r=t.digest();return Hg.encodeByteArray(r)},Gd=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Gd.apply(null,r):e+="object"==typeof r?an(r):r,e+=" "}return e};let pa=null,yj=!0;const qt=function(...n){if(!0===yj&&(yj=!1,null===pa&&!0===JS.get("logging_enabled")&&function(n,e){x(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ul.logLevel=te.VERBOSE,pa=ul.log.bind(ul),e&&JS.set("logging_enabled",!0)):"function"==typeof n?pa=n:(pa=null,JS.remove("logging_enabled"))}(!0)),pa){const e=Gd.apply(null,n);pa(e)}},Hd=function(n){return function(...e){qt(n,...e)}},ZS=function(...n){const e="FIREBASE INTERNAL ERROR: "+Gd(...n);ul.error(e)},Ti=function(...n){const e=`FIREBASE FATAL ERROR: ${Gd(...n)}`;throw ul.error(e),new Error(e)},In=function(...n){const e="FIREBASE WARNING: "+Gd(...n);ul.warn(e)},xm=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},qs="[MIN_NAME]",ps="[MAX_NAME]",ga=function(n,e){if(n===e)return 0;if(n===qs||e===ps)return-1;if(e===qs||n===ps)return 1;{const t=Ej(n),r=Ej(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},yfe=function(n,e){return n===e?0:n<e?-1:1},zd=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+an(e))},e0=function(n){if("object"!=typeof n||null===n)return an(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=an(e[r]),t+=":",t+=e0(n[e[r]]);return t+="}",t},vj=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Kt(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const wj=function(n){x(!xm(n),"Invalid JSON number");const r=1023;let i,s,o,a,u;0===n?(s=0,o=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(n/Math.pow(2,-1074))));const l=[];for(u=52;u;u-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(u=11;u;u-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const c=l.join("");let d="";for(u=0;u<64;u+=8){let h=parseInt(c.substr(u,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},Efe=new RegExp("^-?(0*)\\d{1,10}$"),Ej=function(n){if(Efe.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},ll=function(n){try{n()}catch(e){setTimeout(()=>{throw In("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Wd=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class bfe{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Dfe{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(e)}}let qd=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Dj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Mj="websocket",Nj="long_polling";class n0{constructor(e,t,r,i,s=!1,o="",a=!1,u=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=fa.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&fa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function xj(n,e,t){let r;if(x("string"==typeof e,"typeof type must == string"),x("object"==typeof t,"typeof params must == object"),e===Mj)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Nj)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Sfe(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Kt(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class Afe{constructor(){this.counters_={}}incrementCounter(e,t=1){ss(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ise(this.counters_)}}const r0={},s0={};function o0(n){const e=n.toString();return r0[e]||(r0[e]=new Afe),r0[e]}class Nfe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ll(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ks{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Hd(e),this.stats_=o0(t),this.urlFn=u=>(this.appCheckToken&&(u.ac=this.appCheckToken),xj(t,Nj,u))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Nfe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new a0((...s)=>{const[o,a,u,l,c]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=u;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Dj.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ks.forceAllow_=!0}static forceDisallow(){Ks.forceDisallow_=!0}static isAvailable(){return!(!Ks.forceAllow_&&(Ks.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=an(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=hU(t),i=vj(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=an(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class a0{constructor(e,t,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=a0.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let km=null;typeof MozWebSocket<"u"?km=MozWebSocket:typeof WebSocket<"u"&&(km=WebSocket);let cl=(()=>{class n{constructor(t,r,i,s,o,a,u){this.connId=t,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Hd(this.connId),this.stats_=o0(r),this.connURL=n.connectionURL_(r,a,u,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&Dj.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),xj(t,Mj,a)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,fa.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new km(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==km&&!n.forceDisallow_}static previouslyFailed(){return fa.isInMemoryStorage||!0===fa.get("previous_websocket_failure")}markConnectionHealthy(){fa.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=bd(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(x(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=an(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=vj(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Vj=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Ks,cl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=cl&&cl.isAvailable();let i=r&&!cl.previouslyFailed();if(t.webSocketOnly&&(r||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[cl];else{const s=this.transports_=[];for(const o of n.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class zj{constructor(e,t,r,i,s,o,a,u,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=u,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Hd("c:"+this.id+":"),this.transportManager_=new Vj(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Wd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=zd("t",e),r=zd("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=zd("t",e),r=zd("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=zd("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?ZS("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ZS("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Wd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Wd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(fa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Wj{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class qj{constructor(e){this.allowedEvents_=e,this.listeners_={},x(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){x(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Pm extends qj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!rC()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Pm}getInitialEvent(e){return x("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class xe{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Se(){return new xe("")}function pe(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Qs(n){return n.pieces_.length-n.pieceNum_}function $e(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new xe(n.pieces_,e)}function l0(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Kd(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Yj(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new xe(e,0)}function tt(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new xe(t,0)}function ge(n){return n.pieceNum_>=n.pieces_.length}function Ln(n,e){const t=pe(n),r=pe(e);if(null===t)return e;if(t===r)return Ln($e(n),$e(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function c0(n,e){if(Qs(n)!==Qs(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function Rr(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Qs(n)>Qs(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class Zfe{constructor(e,t){this.errorPrefix_=t,this.parts_=Kd(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Yg(this.parts_[r]);Xj(this)}}function Xj(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ma(n))}function ma(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class d0 extends qj{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new d0}getInitialEvent(e){return x("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Qd=1e3;let Fm,ya=(()=>{class n extends Wj{constructor(t,r,i,s,o,a,u,l){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=u,this.authOverride_=l,this.id=n.nextPersistentConnectionId_++,this.log_=Hd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qd,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");d0.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Pm.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const s=++this.requestNumber_,o={r:s,a:t,b:r};this.log_(an(o)),x(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(t){this.initConnection_();const r=new Yo,s={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const u=a.d;"ok"===a.s?r.resolve(u):r.reject(u)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,s){this.initConnection_();const o=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),x(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),x(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const u={onComplete:s,hashFn:r,query:t,tag:i};this.listens.get(a).set(o,u),this.connected_&&this.sendListen_(u)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};t.tag&&(o.q=r._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,u=>{const l=u.d,c=u.s;n.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===t&&(this.log_("listen response",u),"ok"!==c&&this.removeListen_(i,s),t.onComplete&&t.onComplete(c,l))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&ss(t,"w")){const i=Ju(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Kg(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=function(n){const t=Kg(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===t&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),s=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),x(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,t._queryObject,r)}sendUnlisten_(t,r,i,s){this.log_("Unlisten on "+t+" for "+r);const o={p:t};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+t,o),this.sendRequest(t,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(t,r,i,s){this.putInternal("p",t,r,i,s)}merge(t,r,i,s){this.putInternal("m",t,r,i,s)}putInternal(t,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:t,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,s=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+an(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):ZS("Unrecognized action received from server: "+an(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){x(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qd,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Qd,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Qd),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return E(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),s=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let u=!1,l=null;const c=function(){l?l.close():(u=!0,s())};t.realtime_={close:c,sendRequest:function(f){x(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);u?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,l=new zj(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,s,g=>{In(g+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),u||(t.repoInfo_.nodeAdmin&&In(f),c())}}})()}interrupt(t){qt("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){qt("Resuming connection for reason: "+t),delete this.interruptReasons_[t],_U(this.interruptReasons_)&&(this.reconnectDelay_=Qd,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(o=>e0(o)).join("$"):"default";const s=this.removeListen_(t,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(t,r){const i=new xe(t).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(t,r){qt("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){qt("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+XS.replace(/\./g,"-")]=1,rC()?t["framework.cordova"]=1:yU()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Pm.getInstance().currentlyOnline();return _U(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class me{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new me(e,t)}}class Om{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new me(qs,e),i=new me(qs,t);return 0!==this.compare(r,i)}minPost(){return me.MIN}}class eG extends Om{static get __EMPTY_NODE(){return Fm}static set __EMPTY_NODE(e){Fm=e}compare(e,t){return ga(e.name,t.name)}isDefinedOn(e){throw Xu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return me.MIN}maxPost(){return new me(ps,Fm)}makePost(e,t){return x("string"==typeof e,"KeyIndex indexValue must always be a string."),new me(e,Fm)}toString(){return".key"}}const bi=new eG;class Lm{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let f0,Qr=(()=>{class n{constructor(t,r,i,s,o){this.key=t,this.value=r,this.color=i??n.RED,this.left=s??er.EMPTY_NODE,this.right=o??er.EMPTY_NODE}copy(t,r,i,s,o){return new n(t??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let s=this;const o=i(t,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(t,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(t,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return er.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,s;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return er.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class er{constructor(e,t=er.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new er(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Qr.BLACK,null,null))}remove(e){return new er(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qr.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lm(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Lm(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Lm(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Lm(this.root_,null,this.comparator_,!0,e)}}function ape(n,e){return ga(n.name,e.name)}function h0(n,e){return ga(n,e)}er.EMPTY_NODE=new class ope{copy(e,t,r,i,s){return this}insert(e,t,r){return new Qr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const tG=function(n){return"number"==typeof n?"number:"+wj(n):"string:"+n},nG=function(n){if(n.isLeafNode()){const e=n.val();x("string"==typeof e||"number"==typeof e||"object"==typeof e&&ss(e,".sv"),"Priority must be a string or number.")}else x(n===f0||n.isEmpty(),"priority of unexpected type.");x(n===f0||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let rG,iG,sG,dl=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,x(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),nG(this.priorityNode_)}static set __childrenNodeConstructor(t){rG=t}static get __childrenNodeConstructor(){return rG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return ge(t)?this:".priority"===pe(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=pe(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:(x(".priority"!==i||1===Qs(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild($e(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+tG(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?wj(this.value_):this.value_,this.lazyHash_=mj(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(x(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(r),o=n.VALUE_TYPE_ORDER.indexOf(i);return x(s>=0,"Unknown leaf type: "+r),x(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ze=new class dpe extends Om{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return 0===s?ga(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return me.MIN}maxPost(){return new me(ps,new dl("[PRIORITY-POST]",sG))}makePost(e,t){const r=iG(e);return new me(t,new dl("[PRIORITY-POST]",r))}toString(){return".priority"}},hpe=Math.log(2);class fpe{constructor(e){this.count=parseInt(Math.log(e+1)/hpe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Vm=function(n,e,t,r){n.sort(e);const i=function(u,l){const c=l-u;let d,h;if(0===c)return null;if(1===c)return d=n[u],h=t?t(d):d,new Qr(h,d.node,Qr.BLACK,null,null);{const f=parseInt(c/2,10)+u,p=i(u,f),g=i(f+1,l);return d=n[f],h=t?t(d):d,new Qr(h,d.node,Qr.BLACK,p,g)}},a=function(u){let l=null,c=null,d=n.length;const h=function(p,g){const m=d-p,_=d;d-=p;const y=i(m+1,_),C=n[m],A=t?t(C):C;f(new Qr(A,C.node,g,null,y))},f=function(p){l?(l.left=p,l=p):(c=p,l=p)};for(let p=0;p<u.count;++p){const g=u.nextBitIsOne(),m=Math.pow(2,u.count-(p+1));g?h(m,Qr.BLACK):(h(m,Qr.BLACK),h(m,Qr.RED))}return c}(new fpe(n.length));return new er(r||e,a)};let p0;const hl={};class gs{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return x(hl&&ze,"ChildrenNode.ts has not been loaded"),p0=p0||new gs({".priority":hl},{".priority":ze}),p0}get(e){const t=Ju(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof er?t:null}hasIndex(e){return ss(this.indexSet_,e.toString())}addIndex(e,t){x(e!==bi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=t.getIterator(me.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Vm(r,e.getCompare()):hl;const u=e.toString(),l=Object.assign({},this.indexSet_);l[u]=e;const c=Object.assign({},this.indexes_);return c[u]=a,new gs(c,l)}addToIndexes(e,t){const r=Qg(this.indexes_,(i,s)=>{const o=Ju(this.indexSet_,s);if(x(o,"Missing index implementation for "+s),i===hl){if(o.isDefinedOn(e.node)){const a=[],u=t.getIterator(me.Wrap);let l=u.getNext();for(;l;)l.name!==e.name&&a.push(l),l=u.getNext();return a.push(e),Vm(a,o.getCompare())}return hl}{const a=t.get(e.name);let u=i;return a&&(u=u.remove(new me(e.name,a))),u.insert(e,e.node)}});return new gs(r,this.indexSet_)}removeFromIndexes(e,t){const r=Qg(this.indexes_,i=>{if(i===hl)return i;{const s=t.get(e.name);return s?i.remove(new me(e.name,s)):i}});return new gs(r,this.indexSet_)}}let Yd,ue=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&nG(this.priorityNode_),this.children_.isEmpty()&&x(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Yd||(Yd=new n(new er(h0),null,gs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Yd}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?Yd:r}}getChild(t){const r=pe(t);return null===r?this:this.getImmediateChild(r).getChild($e(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if(x(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new me(t,r);let s,o;r.isEmpty()?(s=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(t,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?Yd:this.priorityNode_;return new n(s,a,o)}}updateChild(t,r){const i=pe(t);if(null===i)return r;{x(".priority"!==pe(t)||1===Qs(t),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild($e(t),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(ze,(a,u)=>{r[a]=u.val(t),i++,o&&n.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!t&&o&&s<2*i){const a=[];for(const u in r)a[u]=r[u];return a}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+tG(this.getPriority().val())+":"),this.forEachChild(ze,(r,i)=>{const s=i.hash();""!==s&&(t+=":"+r+":"+s)}),this.lazyHash_=""===t?"":mj(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new me(t,r));return o?o.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new me(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new me(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,s=>s);{const s=this.children_.getIteratorFrom(t.name,me.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,s=>s);{const s=this.children_.getReverseIteratorFrom(t.name,me.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,t)>0;)s.getNext(),o=s.peek();return s}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Xd?-1:0}withIndex(t){if(t===bi||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===bi||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ze),s=r.getIterator(ze);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(t){return t===bi?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Xd=new class ppe extends ue{constructor(){super(new er(h0),ue.EMPTY_NODE,gs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ue.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(me,{MIN:{value:new me(qs,ue.EMPTY_NODE)},MAX:{value:new me(ps,Xd)}}),eG.__EMPTY_NODE=ue.EMPTY_NODE,dl.__childrenNodeConstructor=ue,function upe(n){f0=n}(Xd),function cpe(n){sG=n}(Xd);const gpe=!0;function at(n,e=null){if(null===n)return ue.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),x(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new dl(n,at(e));if(n instanceof Array||!gpe){let t=ue.EMPTY_NODE;return Kt(n,(r,i)=>{if(ss(n,r)&&"."!==r.substring(0,1)){const s=at(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(at(e))}{const t=[];let r=!1;if(Kt(n,(o,a)=>{if("."!==o.substring(0,1)){const u=at(a);u.isEmpty()||(r=r||!u.getPriority().isEmpty(),t.push(new me(o,u)))}}),0===t.length)return ue.EMPTY_NODE;const s=Vm(t,ape,o=>o.name,h0);if(r){const o=Vm(t,ze.getCompare());return new ue(s,at(e),new gs({".priority":o},{".priority":ze}))}return new ue(s,at(e),gs.Default)}}!function lpe(n){iG=n}(at);class g0 extends Om{constructor(e){super(),this.indexPath_=e,x(!ge(e)&&".priority"!==pe(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return 0===s?ga(e.name,t.name):s}makePost(e,t){const r=at(e),i=ue.EMPTY_NODE.updateChild(this.indexPath_,r);return new me(t,i)}maxPost(){const e=ue.EMPTY_NODE.updateChild(this.indexPath_,Xd);return new me(ps,e)}toString(){return Kd(this.indexPath_,0).join("/")}}const m0=new class mpe extends Om{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?ga(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return me.MIN}maxPost(){return me.MAX}makePost(e,t){const r=at(e);return new me(t,r)}toString(){return".value"}};function Zd(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class _0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ze}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return x(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return x(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:qs}hasEnd(){return this.endSet_}getIndexEndValue(){return x(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return x(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ps}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return x(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ze}copy(){const e=new _0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function aG(n){const e={};if(n.isDefault())return e;let t;if(n.index_===ze?t="$priority":n.index_===m0?t="$value":n.index_===bi?t="$key":(x(n.index_ instanceof g0,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=an(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=an(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+an(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=an(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+an(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function uG(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==ze&&(e.i=n.index_.toString()),e}class Bm extends Wj{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Hd("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(x(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Bm.getListenId_(e,r),a={};this.listens_[o]=a;const u=aG(e._queryParams);this.restRequest_(s+".json",u,(l,c)=>{let d=c;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(s,d,!1,r),Ju(this.listens_,o)===a){let h;h=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(h,null)}})}unlisten(e,t){const r=Bm.getListenId_(e,t);delete this.listens_[r]}get(e){const t=aG(e._queryParams),r=e._path.toString(),i=new Yo;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+aC(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let u=null;if(a.status>=200&&a.status<300){try{u=bd(a.responseText)}catch{In("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,u)}else 401!==a.status&&404!==a.status&&In("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Tpe{constructor(){this.rootNode_=ue.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function $m(){return{value:null,children:new Map}}function pl(n,e,t){if(ge(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=pe(e);n.children.has(r)||n.children.set(r,$m()),pl(n.children.get(r),e=$e(e),t)}}function I0(n,e,t){null!==n.value?t(e,n.value):function bpe(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{I0(i,new xe(e.toString()+"/"+r),t)})}class Dpe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Kt(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class Mpe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Dpe(e);const r=1e4+2e4*Math.random();Wd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Kt(e,(i,s)=>{s>0&&ss(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Wd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Nt=(()=>((Nt=Nt||{})[Nt.OVERWRITE=0]="OVERWRITE",Nt[Nt.MERGE=1]="MERGE",Nt[Nt.ACK_USER_WRITE=2]="ACK_USER_WRITE",Nt[Nt.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Nt))();function b0(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class jm{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Nt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(ge(this.path)){if(null!=this.affectedTree.value)return x(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new xe(e));return new jm(Se(),t,this.revert)}}return x(pe(this.path)===e,"operationForChild called for unrelated child."),new jm($e(this.path),this.affectedTree,this.revert)}}class _a{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Nt.OVERWRITE}operationForChild(e){return ge(this.path)?new _a(this.source,Se(),this.snap.getImmediateChild(e)):new _a(this.source,$e(this.path),this.snap)}}class gl{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Nt.MERGE}operationForChild(e){if(ge(this.path)){const t=this.children.subtree(new xe(e));return t.isEmpty()?null:t.value?new _a(this.source,Se(),t.value):new gl(this.source,Se(),t)}return x(pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gl(this.source,$e(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ys{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ge(e))return this.isFullyInitialized()&&!this.filtered_;const t=pe(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function nh(n,e,t,r,i,s){const o=r.filter(a=>a.type===t);o.sort((a,u)=>function kpe(n,e,t){if(null==e.childName||null==t.childName)throw Xu("Should only compare child_ events.");const r=new me(e.childName,e.snapshotNode),i=new me(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,a,u)),o.forEach(a=>{const u=function Rpe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(u,n.query_))})})}function Gm(n,e){return{eventCache:n,serverCache:e}}function rh(n,e,t,r){return Gm(new Ys(e,t,r),n.serverCache)}function cG(n,e,t,r){return Gm(n.eventCache,new Ys(e,t,r))}function Hm(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function va(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let D0;class We{constructor(e,t=(()=>(D0||(D0=new er(yfe)),D0))()){this.value=e,this.children=t}static fromObject(e){let t=new We(null);return Kt(e,(r,i)=>{t=t.set(new xe(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Se(),value:this.value};if(ge(e))return null;{const r=pe(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue($e(e),t);return null!=s?{path:tt(new xe(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ge(e))return this;{const t=pe(e),r=this.children.get(t);return null!==r?r.subtree($e(e)):new We(null)}}set(e,t){if(ge(e))return new We(t,this.children);{const r=pe(e),s=(this.children.get(r)||new We(null)).set($e(e),t),o=this.children.insert(r,s);return new We(this.value,o)}}remove(e){if(ge(e))return this.children.isEmpty()?new We(null):new We(null,this.children);{const t=pe(e),r=this.children.get(t);if(r){const i=r.remove($e(e));let s;return s=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&s.isEmpty()?new We(null):new We(this.value,s)}return this}}get(e){if(ge(e))return this.value;{const t=pe(e),r=this.children.get(t);return r?r.get($e(e)):null}}setTree(e,t){if(ge(e))return t;{const r=pe(e),s=(this.children.get(r)||new We(null)).setTree($e(e),t);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new We(this.value,o)}}fold(e){return this.fold_(Se(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(tt(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Se(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(ge(e))return null;{const s=pe(e),o=this.children.get(s);return o?o.findOnPath_($e(e),tt(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Se(),t)}foreachOnPath_(e,t,r){if(ge(e))return this;{this.value&&r(t,this.value);const i=pe(e),s=this.children.get(i);return s?s.foreachOnPath_($e(e),tt(t,i),r):new We(null)}}foreach(e){this.foreach_(Se(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(tt(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Yr{constructor(e){this.writeTree_=e}static empty(){return new Yr(new We(null))}}function ih(n,e,t){if(ge(e))return new Yr(new We(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=Ln(i,e);return s=s.updateChild(o,t),new Yr(n.writeTree_.set(i,s))}{const i=new We(t),s=n.writeTree_.setTree(e,i);return new Yr(s)}}}function S0(n,e,t){let r=n;return Kt(t,(i,s)=>{r=ih(r,tt(e,i),s)}),r}function dG(n,e){if(ge(e))return Yr.empty();{const t=n.writeTree_.setTree(e,new We(null));return new Yr(t)}}function A0(n,e){return null!=wa(n,e)}function wa(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(Ln(t.path,e)):null}function hG(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(ze,(r,i)=>{e.push(new me(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new me(r,i.value))}),e}function Xs(n,e){if(ge(e))return n;{const t=wa(n,e);return new Yr(null!=t?new We(t):n.writeTree_.subtree(e))}}function M0(n){return n.writeTree_.isEmpty()}function ml(n,e){return fG(Se(),n.writeTree_,e)}function fG(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(x(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):t=fG(tt(n,i),s,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(tt(n,".priority"),r)),t}}function zm(n,e){return _G(e,n)}function Upe(n,e){if(n.snap)return Rr(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&Rr(tt(n.path,t),e))return!0;return!1}function $pe(n){return n.visible}function pG(n,e,t){let r=Yr.empty();for(let i=0;i<n.length;++i){const s=n[i];if(e(s)){const o=s.path;let a;if(s.snap)Rr(t,o)?(a=Ln(t,o),r=ih(r,a,s.snap)):Rr(o,t)&&(a=Ln(o,t),r=ih(r,Se(),s.snap.getChild(a)));else{if(!s.children)throw Xu("WriteRecord should have .snap or .children");if(Rr(t,o))a=Ln(t,o),r=S0(r,a,s.children);else if(Rr(o,t))if(a=Ln(o,t),ge(a))r=S0(r,Se(),s.children);else{const u=Ju(s.children,pe(a));if(u){const l=u.getChild($e(a));r=ih(r,Se(),l)}}}}}return r}function gG(n,e,t,r,i){if(r||i){const s=Xs(n.visibleWrites,e);return!i&&M0(s)?t:i||null!=t||A0(s,Se())?ml(pG(n.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Rr(l.path,e)||Rr(e,l.path))},e),t||ue.EMPTY_NODE):null}{const s=wa(n.visibleWrites,e);if(null!=s)return s;{const o=Xs(n.visibleWrites,e);return M0(o)?t:null!=t||A0(o,Se())?ml(o,t||ue.EMPTY_NODE):null}}}function Wm(n,e,t,r){return gG(n.writeTree,n.treePath,e,t,r)}function N0(n,e){return function jpe(n,e,t){let r=ue.EMPTY_NODE;const i=wa(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ze,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){const s=Xs(n.visibleWrites,e);return t.forEachChild(ze,(o,a)=>{const u=ml(Xs(s,new xe(o)),a);r=r.updateImmediateChild(o,u)}),hG(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return hG(Xs(n.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(n.writeTree,n.treePath,e)}function mG(n,e,t,r){return function Gpe(n,e,t,r,i){x(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=tt(e,t);if(A0(n.visibleWrites,s))return null;{const o=Xs(n.visibleWrites,s);return M0(o)?i.getChild(t):ml(o,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function qm(n,e){return function zpe(n,e){return wa(n.visibleWrites,e)}(n.writeTree,tt(n.treePath,e))}function x0(n,e,t){return function Hpe(n,e,t,r){const i=tt(e,t),s=wa(n.visibleWrites,i);return null!=s?s:r.isCompleteForChild(t)?ml(Xs(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function yG(n,e){return _G(tt(n.treePath,e),n.writeTree)}function _G(n,e){return{treePath:n,writeTree:e}}class Qpe{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;x("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),x(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===t&&"child_removed"===s)this.changeMap.set(r,Zd(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===s)this.changeMap.set(r,function Jd(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===s)this.changeMap.set(r,function fl(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==s)throw Xu("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Zd(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const vG=new class Ype{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class R0{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new Ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return x0(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:va(this.viewCache_),s=function Kpe(n,e,t,r,i,s){return function Wpe(n,e,t,r,i,s,o){let a;const u=Xs(n.visibleWrites,e),l=wa(u,Se());if(null!=l)a=l;else{if(null==t)return[];a=ml(u,t)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const c=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&c.length<i;)0!==d(f,r)&&c.push(f),f=h.getNext();return c}}(n.writeTree,n.treePath,e,t,r,i,s)}(this.writes_,i,t,1,r,e);return 0===s.length?null:s[0]}}function wG(n,e,t,r,i,s){const o=e.eventCache;if(null!=qm(r,t))return e;{let a,u;if(ge(t))if(x(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=va(e),d=N0(r,l instanceof ue?l:ue.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const l=Wm(r,va(e));a=n.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=pe(t);if(".priority"===l){x(1===Qs(t),"Can't have a priority with additional path components");const c=o.getNode();u=e.serverCache.getNode();const d=mG(r,t,c,u);a=null!=d?n.filter.updatePriority(c,d):o.getNode()}else{const c=$e(t);let d;if(o.isCompleteForChild(l)){u=e.serverCache.getNode();const h=mG(r,t,o.getNode(),u);d=null!=h?o.getNode().getImmediateChild(l).updateChild(c,h):o.getNode().getImmediateChild(l)}else d=x0(r,l,e.serverCache);a=null!=d?n.filter.updateChild(o.getNode(),l,d,c,i,s):o.getNode()}}return rh(e,a,o.isFullyInitialized()||ge(t),n.filter.filtersNodes())}}function Km(n,e,t,r,i,s,o,a){const u=e.serverCache;let l;const c=o?n.filter:n.filter.getIndexedFilter();if(ge(t))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){const f=u.getNode().updateChild(t,r);l=c.updateFullNode(u.getNode(),f,null)}else{const f=pe(t);if(!u.isCompleteForPath(t)&&Qs(t)>1)return e;const p=$e(t),m=u.getNode().getImmediateChild(f).updateChild(p,r);l=".priority"===f?c.updatePriority(u.getNode(),m):c.updateChild(u.getNode(),f,m,p,vG,null)}const d=cG(e,l,u.isFullyInitialized()||ge(t),c.filtersNodes());return wG(n,d,t,i,new R0(i,d,s),a)}function k0(n,e,t,r,i,s,o){const a=e.eventCache;let u,l;const c=new R0(i,e,s);if(ge(t))l=n.filter.updateFullNode(e.eventCache.getNode(),r,o),u=rh(e,l,!0,n.filter.filtersNodes());else{const d=pe(t);if(".priority"===d)l=n.filter.updatePriority(e.eventCache.getNode(),r),u=rh(e,l,a.isFullyInitialized(),a.isFiltered());else{const h=$e(t),f=a.getNode().getImmediateChild(d);let p;if(ge(h))p=r;else{const g=c.getCompleteChild(d);p=null!=g?".priority"===l0(h)&&g.getChild(Yj(h)).isEmpty()?g:g.updateChild(h,r):ue.EMPTY_NODE}u=f.equals(p)?e:rh(e,n.filter.updateChild(a.getNode(),d,p,h,c,o),a.isFullyInitialized(),n.filter.filtersNodes())}}return u}function EG(n,e){return n.eventCache.isCompleteForChild(e)}function IG(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function P0(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,u=e;l=ge(t)?r:new We(null).setTree(t,r);const c=e.serverCache.getNode();return l.children.inorderTraversal((d,h)=>{if(c.hasChild(d)){const p=IG(0,e.serverCache.getNode().getImmediateChild(d),h);u=Km(n,u,new xe(d),p,i,s,o,a)}}),l.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!c.hasChild(d)&&!f){const g=IG(0,e.serverCache.getNode().getImmediateChild(d),h);u=Km(n,u,new xe(d),g,i,s,o,a)}}),u}function uge(n,e){const t=va(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!ge(e)&&!t.getImmediateChild(pe(e)).isEmpty())?t.getChild(e):null}function bG(n,e,t,r){e.type===Nt.MERGE&&null!==e.source.queryId&&(x(va(n.viewCache_),"We should always have a full cache before handling merges"),x(Hm(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,s=function Zpe(n,e,t,r,i){const s=new Qpe;let o,a;if(t.type===Nt.OVERWRITE){const l=t;l.source.fromUser?o=k0(n,e,l.path,l.snap,r,i,s):(x(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!ge(l.path),o=Km(n,e,l.path,l.snap,r,i,a,s))}else if(t.type===Nt.MERGE){const l=t;l.source.fromUser?o=function tge(n,e,t,r,i,s,o){let a=e;return r.foreach((u,l)=>{const c=tt(t,u);EG(e,pe(c))&&(a=k0(n,a,c,l,i,s,o))}),r.foreach((u,l)=>{const c=tt(t,u);EG(e,pe(c))||(a=k0(n,a,c,l,i,s,o))}),a}(n,e,l.path,l.children,r,i,s):(x(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=P0(n,e,l.path,l.children,r,i,a,s))}else if(t.type===Nt.ACK_USER_WRITE){const l=t;o=l.revert?function ige(n,e,t,r,i,s){let o;if(null!=qm(r,t))return e;{const a=new R0(r,e,i),u=e.eventCache.getNode();let l;if(ge(t)||".priority"===pe(t)){let c;if(e.serverCache.isFullyInitialized())c=Wm(r,va(e));else{const d=e.serverCache.getNode();x(d instanceof ue,"serverChildren would be complete if leaf node"),c=N0(r,d)}l=n.filter.updateFullNode(u,c,s)}else{const c=pe(t);let d=x0(r,c,e.serverCache);null==d&&e.serverCache.isCompleteForChild(c)&&(d=u.getImmediateChild(c)),l=null!=d?n.filter.updateChild(u,c,d,$e(t),a,s):e.eventCache.getNode().hasChild(c)?n.filter.updateChild(u,c,ue.EMPTY_NODE,$e(t),a,s):u,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Wm(r,va(e)),o.isLeafNode()&&(l=n.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=qm(r,Se()),rh(e,l,o,n.filter.filtersNodes())}}(n,e,l.path,r,i,s):function nge(n,e,t,r,i,s,o){if(null!=qm(i,t))return e;const a=e.serverCache.isFiltered(),u=e.serverCache;if(null!=r.value){if(ge(t)&&u.isFullyInitialized()||u.isCompleteForPath(t))return Km(n,e,t,u.getNode().getChild(t),i,s,a,o);if(ge(t)){let l=new We(null);return u.getNode().forEachChild(bi,(c,d)=>{l=l.set(new xe(c),d)}),P0(n,e,t,l,i,s,a,o)}return e}{let l=new We(null);return r.foreach((c,d)=>{const h=tt(t,c);u.isCompleteForPath(h)&&(l=l.set(c,u.getNode().getChild(h)))}),P0(n,e,t,l,i,s,a,o)}}(n,e,l.path,l.affectedTree,r,i,s)}else{if(t.type!==Nt.LISTEN_COMPLETE)throw Xu("Unknown operation type: "+t.type);o=function rge(n,e,t,r,i){const s=e.serverCache;return wG(n,cG(e,s.getNode(),s.isFullyInitialized()||ge(t),s.isFiltered()),t,r,vG,i)}(n,e,t.path,r,s)}const u=s.getChanges();return function ege(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Hm(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(function oG(n){return{type:"value",snapshotNode:n}}(Hm(e)))}}(e,o,u),{viewCache:o,changes:u}}(n.processor_,i,e,t,r);return function Jpe(n,e){x(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),x(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),x(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,function DG(n,e,t,r){return function xpe(n,e,t,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function ype(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(o.childName,o.snapshotNode))}),nh(n,i,"child_removed",e,r,t),nh(n,i,"child_added",e,r,t),nh(n,i,"child_moved",s,r,t),nh(n,i,"child_changed",e,r,t),nh(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,s.changes,s.viewCache.eventCache.getNode(),null)}let Qm,Xm;function O0(n,e,t,r){const i=e.source.queryId;if(null!==i){const s=n.views.get(i);return x(null!=s,"SyncTree gave us an op for an invalid query."),bG(s,e,t,r)}{let s=[];for(const o of n.views.values())s=s.concat(bG(o,e,t,r));return s}}function Js(n,e){let t=null;for(const r of n.views.values())t=t||uge(r,e);return t}class RG{constructor(e){this.listenProvider_=e,this.syncPointTree_=new We(null),this.pendingWriteTree_=function qpe(){return{visibleWrites:Yr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function F0(n,e,t,r,i){return function Ope(n,e,t,r,i){x(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=ih(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?yl(n,new _a({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function eo(n,e,t=!1){const r=function Lpe(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function Vpe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);x(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){const a=n.allWrites[o];a.visible&&(o>=t&&Upe(a,r.path)?i=!1:Rr(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function Bpe(n){n.visibleWrites=pG(n.allWrites,$pe,Se()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=dG(n.visibleWrites,r.path):Kt(r.children,u=>{n.visibleWrites=dG(n.visibleWrites,tt(r.path,u))}),!0))}(n.pendingWriteTree_,e)){let s=new We(null);return null!=r.snap?s=s.set(Se(),!0):Kt(r.children,o=>{s=s.set(new xe(o),!0)}),yl(n,new jm(r.path,s,t))}return[]}function sh(n,e,t){return yl(n,new _a({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Zm(n,e,t){const i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{const l=Js(a,Ln(o,e));if(l)return l});return gG(i,e,s,t,!0)}function yl(n,e){return PG(e,n.syncPointTree_,null,zm(n.pendingWriteTree_,Se()))}function PG(n,e,t,r){if(ge(n.path))return OG(n,e,t,r);{const i=e.get(Se());null==t&&null!=i&&(t=Js(i,Se()));let s=[];const o=pe(n.path),a=n.operationForChild(o),u=e.children.get(o);if(u&&a){const l=t?t.getImmediateChild(o):null,c=yG(r,o);s=s.concat(PG(a,u,l,c))}return i&&(s=s.concat(O0(i,n,r,t))),s}}function OG(n,e,t,r){const i=e.get(Se());null==t&&null!=i&&(t=Js(i,Se()));let s=[];return e.children.inorderTraversal((o,a)=>{const u=t?t.getImmediateChild(o):null,l=yG(r,o),c=n.operationForChild(o);c&&(s=s.concat(OG(c,a,u,l)))}),i&&(s=s.concat(O0(i,n,r,t))),s}function V0(n,e){return n.tagToQueryMap.get(e)}function U0(n){const e=n.indexOf("$");return x(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new xe(n.substr(0,e))}}function B0(n,e,t){const r=n.syncPointTree_.get(e);return x(r,"Missing sync point for query tag that we're tracking"),O0(r,t,zm(n.pendingWriteTree_,e),null)}class $0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new $0(t)}node(){return this.node_}}class j0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=tt(this.path_,e);return new j0(this.syncTree_,t)}node(){return Zm(this.syncTree_,this.path_)}}const Mge=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},LG=function(n,e,t){return n&&"object"==typeof n?(x(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Nge(n[".sv"],e,t):"object"==typeof n[".sv"]?xge(n[".sv"],e):void x(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Nge=function(n,e,t){if("timestamp"===n)return t.timestamp;x(!1,"Unexpected server value: "+n)},xge=function(n,e,t){n.hasOwnProperty("increment")||x(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&x(!1,"Unexpected increment value: "+r);const i=e.node();if(x(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},VG=function(n,e,t,r){return H0(e,new j0(t,n),r)},G0=function(n,e,t){return H0(n,new $0(e),t)};function H0(n,e,t){const r=n.getPriority().val(),i=LG(r,e.getImmediateChild(".priority"),t);let s;if(n.isLeafNode()){const o=n,a=LG(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new dl(a,at(i)):n}{const o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new dl(i))),o.forEachChild(ze,(a,u)=>{const l=H0(u,e.getImmediateChild(a),t);l!==u&&(s=s.updateImmediateChild(a,l))}),s}}class z0{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function ty(n,e){let t=e instanceof xe?e:new xe(e),r=n,i=pe(t);for(;null!==i;){const s=Ju(r.node.children,i)||{children:{},childCount:0};r=new z0(i,r,s),t=$e(t),i=pe(t)}return r}function Ea(n){return n.node.value}function W0(n,e){n.node.value=e,q0(n)}function UG(n){return n.node.childCount>0}function ny(n,e){Kt(n.node.children,(t,r)=>{e(new z0(t,n,r))})}function BG(n,e,t,r){t&&!r&&e(n),ny(n,i=>{BG(i,e,!0,r)}),t&&r&&e(n)}function uh(n){return new xe(null===n.parent?n.name:uh(n.parent)+"/"+n.name)}function q0(n){null!==n.parent&&function Pge(n,e,t){const r=function Rge(n){return void 0===Ea(n)&&!UG(n)}(t),i=ss(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,q0(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,q0(n))}(n.parent,n.name,n)}const Oge=/[\[\].#$\/\u0000-\u001F\u007F]/,Fge=/[\[\].#$\u0000-\u001F\u007F]/,K0=10485760,ry=function(n){return"string"==typeof n&&0!==n.length&&!Oge.test(n)},$G=function(n){return"string"==typeof n&&0!==n.length&&!Fge.test(n)},ch=function(n,e,t){const r=t instanceof xe?new Zfe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ma(r));if("function"==typeof e)throw new Error(n+"contains a function "+ma(r)+" with contents = "+e.toString());if(xm(e))throw new Error(n+"contains "+e.toString()+" "+ma(r));if("string"==typeof e&&e.length>K0/3&&Yg(e)>K0)throw new Error(n+"contains a string greater than "+K0+" utf8 bytes "+ma(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Kt(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!ry(o)))throw new Error(n+" contains an invalid key ("+o+") "+ma(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function epe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Yg(e),Xj(n)})(r,o),ch(n,a,r),function tpe(n){const e=n.parts_.pop();n.byteLength_-=Yg(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&s)throw new Error(n+' contains ".value" child '+ma(r)+" in addition to actual children.")}},Y0=function(n,e,t,r){if(!(r&&void 0===t||$G(t)))throw new Error(Zu(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Uge=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Y0(n,e,t,r)};class Bge{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function iy(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==t&&!c0(s,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function pr(n,e,t){iy(n,t),function zG(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?($ge(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>Rr(r,e)||Rr(e,r))}function $ge(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();pa&&qt("event: "+t.toString()),ll(r)}}}const jge=25;class Gge{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Bge,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=$m(),this.transactionQueueTree_=new z0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qG(n){const t=n.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function hh(n){return Mge({timestamp:qG(n)})}function KG(n,e,t,r,i){n.dataUpdateCount++;const s=new xe(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){const u=Qg(t,l=>at(l));o=function Cge(n,e,t,r){const i=V0(n,r);if(i){const s=U0(i),o=s.path,a=s.queryId,u=Ln(o,e),l=We.fromObject(t);return B0(n,o,new gl(b0(a),u,l))}return[]}(n.serverSyncTree_,s,u,i)}else{const u=at(t);o=function kG(n,e,t,r){const i=V0(n,r);if(null!=i){const s=U0(i),o=s.path,a=s.queryId,u=Ln(o,e);return B0(n,o,new _a(b0(a),u,t))}return[]}(n.serverSyncTree_,s,u,i)}else if(r){const u=Qg(t,l=>at(l));o=function wge(n,e,t){const r=We.fromObject(t);return yl(n,new gl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,s,u)}else{const u=at(t);o=sh(n.serverSyncTree_,s,u)}let a=s;o.length>0&&(a=vl(n,s)),pr(n.eventQueue_,a,o)}function QG(n,e){X0(n,"connected",e),!1===e&&function Kge(n){_l(n,"onDisconnectEvents");const e=hh(n),t=$m();I0(n.onDisconnect_,Se(),(i,s)=>{const o=VG(i,s,n.serverSyncTree_,e);pl(t,i,o)});let r=[];I0(t,Se(),(i,s)=>{r=r.concat(sh(n.serverSyncTree_,i,s));const o=tA(n,i);vl(n,o)}),n.onDisconnect_=$m(),pr(n.eventQueue_,Se(),r)}(n)}function X0(n,e,t){const r=new xe("/.info/"+e),i=at(t);n.infoData_.updateSnapshot(r,i);const s=sh(n.infoSyncTree_,r,i);pr(n.eventQueue_,r,s)}function sy(n){return n.nextWriteId_++}function J0(n,e,t,r,i){_l(n,"set",{path:e.toString(),value:t,priority:r});const s=hh(n),o=at(t,r),a=Zm(n.serverSyncTree_,e),u=G0(o,a,s),l=sy(n),c=F0(n.serverSyncTree_,e,u,l,!0);iy(n.eventQueue_,c),n.server_.put(e.toString(),o.val(!0),(h,f)=>{const p="ok"===h;p||In("set at "+e+" failed: "+h);const g=eo(n.serverSyncTree_,l,!p);pr(n.eventQueue_,e,g),function to(n,e,t,r){e&&ll(()=>{if("ok"===t)e(null);else{const i=(t||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}(0,i,h,f)});const d=tA(n,e);vl(n,d),pr(n.eventQueue_,d,[])}function _l(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),qt(t,...e)}function eA(n,e,t){return Zm(n.serverSyncTree_,e,t)||ue.EMPTY_NODE}function oy(n,e=n.transactionQueueTree_){if(e||ay(n,e),Ea(e)){const t=ZG(n,e);x(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function tme(n,e,t){const r=t.map(l=>l.currentWriteId),i=eA(n,e,r);let s=i;const o=i.hash();for(let l=0;l<t.length;l++){const c=t[l];x(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Ln(e,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),u=e;n.server_.put(u.toString(),a,l=>{_l(n,"transaction put response",{path:u.toString(),status:l});let c=[];if("ok"===l){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,c=c.concat(eo(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();ay(n,ty(n.transactionQueueTree_,e)),oy(n,n.transactionQueueTree_),pr(n.eventQueue_,e,c);for(let h=0;h<d.length;h++)ll(d[h])}else{if("datastale"===l)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{In("transaction at "+u.toString()+" failed: "+l);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=l}vl(n,e)}},o)}(n,uh(e),t)}else UG(e)&&ny(e,t=>{oy(n,t)})}function vl(n,e){const t=JG(n,e),r=uh(t);return function nme(n,e,t){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const u=e[a],l=Ln(t,u.path);let d,c=!1;if(x(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)c=!0,d=u.abortReason,i=i.concat(eo(n.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=jge)c=!0,d="maxretry",i=i.concat(eo(n.serverSyncTree_,u.currentWriteId,!0));else{const h=eA(n,u.path,o);u.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){ch("transaction failed: Data returned ",f,u.path);let p=at(f);"object"==typeof f&&null!=f&&ss(f,".priority")||(p=p.updatePriority(h.getPriority()));const m=u.currentWriteId,_=hh(n),y=G0(p,h,_);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=y,u.currentWriteId=sy(n),o.splice(o.indexOf(m),1),i=i.concat(F0(n.serverSyncTree_,u.path,y,u.currentWriteId,u.applyLocally)),i=i.concat(eo(n.serverSyncTree_,m,!0))}else c=!0,d="nodata",i=i.concat(eo(n.serverSyncTree_,u.currentWriteId,!0))}pr(n.eventQueue_,t,i),i=[],c&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}ay(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)ll(r[a]);oy(n,n.transactionQueueTree_)}(n,ZG(n,t),r),r}function JG(n,e){let t,r=n.transactionQueueTree_;for(t=pe(e);null!==t&&void 0===Ea(r);)r=ty(r,t),t=pe(e=$e(e));return r}function ZG(n,e){const t=[];return eH(n,e,t),t.sort((r,i)=>r.order-i.order),t}function eH(n,e,t){const r=Ea(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);ny(e,i=>{eH(n,i,t)})}function ay(n,e){const t=Ea(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,W0(e,t.length>0?t:void 0)}ny(e,r=>{ay(n,r)})}function tA(n,e){const t=uh(JG(n,e)),r=ty(n.transactionQueueTree_,e);return function kge(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{nA(n,i)}),nA(n,r),BG(r,i=>{nA(n,i)}),t}function nA(n,e){const t=Ea(e);if(t){const r=[];let i=[],s=-1;for(let o=0;o<t.length;o++)3===t[o].status||(1===t[o].status?(x(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(x(0===t[o].status,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(eo(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?W0(e,void 0):t.length=s+1,pr(n.eventQueue_,uh(e),i);for(let o=0;o<r.length;o++)ll(r[o])}}const rA=function(n,e){const t=sme(n),r=t.namespace;return"firebase.com"===t.domain&&Ti(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ti("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new n0(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new xe(t.pathString)}},sme=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",u=443;if("string"==typeof n){let l=n.indexOf("//");l>=0&&(a=n.substring(0,l-1),n=n.substring(l+2));let c=n.indexOf("/");-1===c&&(c=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(c,d)),c<d&&(i=function rme(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(c,d)));const h=function ime(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):In(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,u=parseInt(e.substring(l+1),10)):l=e.length;const f=e.slice(0,l);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),t=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:u,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class gr{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return ge(this._path)?null:l0(this._path)}get ref(){return new Xr(this._repo,this._path)}get _queryIdentifier(){const e=uG(this._queryParams),t=e0(e);return"{}"===t?"default":t}get _queryObject(){return uG(this._queryParams)}isEqual(e){if(!((e=Kr(e))instanceof gr))return!1;const t=this._repo===e._repo,r=c0(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Xfe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Xr extends gr{constructor(e,t){super(e,t,new _0,!1)}get parent(){const e=Yj(this._path);return null===e?null:new Xr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function iH(n,e){return(n=Kr(n))._checkNotDeleted("ref"),void 0!==e?function wl(n,e){return null===pe((n=Kr(n))._path)?Uge("child","path",e,!1):Y0("child","path",e,!1),new Xr(n._repo,tt(n._path,e))}(n._root,e):n._root}function sA(n,e){(function(n,e){if(".info"===pe(e))throw new Error(n+" failed = Can't modify data under /.info/")})("set",(n=Kr(n))._path),function(n,e,t,r){r&&void 0===e||ch(Zu(n,"value"),e,t)}("set",e,n._path,!1);const t=new Yo;return J0(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}(function dge(n){x(!Qm,"__referenceConstructor has already been defined"),Qm=n})(Xr),function mge(n){x(!Xm,"__referenceConstructor has already been defined"),Xm=n}(Xr);const oA={};function wme(n,e,t,r,i){let s=r||n.options.databaseURL;void 0===s&&(n.options.projectId||Ti("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u,l,o=rA(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(u=!0,s=`http://${l}?ns=${a.namespace}`,o=rA(s,i),a=o.repoInfo):u=!o.repoInfo.secure;const c=i&&u?new qd(qd.OWNER):new Dfe(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ry(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),$G(n)}(t))throw new Error(Zu(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",o),ge(o.path)||Ti("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function Ime(n,e,t,r){let i=oA[e.name];i||(i={},oA[e.name]=i);let s=i[n.toURLString()];return s&&Ti("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Gge(n,false,t,r),i[n.toURLString()]=s,s}(a,n,c,new bfe(n.name,t));return new Tme(d,n)}class Tme{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Hge(n,e,t){if(n.stats_=o0(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Bm(n.repoInfo_,(r,i,s,o)=>{KG(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>QG(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{an(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new ya(n.repoInfo_,e,(r,i,s,o)=>{KG(n,r,i,s,o)},r=>{QG(n,r)},r=>{!function zge(n,e){Kt(e,(t,r)=>{X0(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Mfe(n,e){const t=n.toString();return s0[t]||(s0[t]=e()),s0[t]}(n.repoInfo_,()=>new Mpe(n.stats_,n.server_)),n.infoData_=new Tpe,n.infoSyncTree_=new RG({startListening:(r,i,s,o)=>{let a=[];const u=n.infoData_.getNode(r._path);return u.isEmpty()||(a=sh(n.infoSyncTree_,r._path,u),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),X0(n,"connected",!1),n.serverSyncTree_=new RG({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,u)=>{const l=o(a,u);pr(n.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xr(this._repo,Se())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Eme(n,e){const t=oA[e];(!t||t[n.key]!==n)&&Ti(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function XG(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ti("Cannot call "+e+" on a deleted database.")}}function bme(n=_C(),e){const t=Dd(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=pU("database");r&&function Dme(n,e,t,r={}){(n=Kr(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ti("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ti('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new qd(qd.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:mU(r.mockUserToken,n.app.options.projectId);s=new qd(o)}!function vme(n,e,t,r){n.repoInfo_=new n0(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,s)}(t,...r)}return t}ya.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},ya.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Sme(n){(function hfe(n){XS=n})(el),En(new un("database",(e,{instanceIdentifier:t})=>wme(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),et(hj,"0.14.4",n),et(hj,"0.14.4","esm2017")}();class dy{constructor(e){return e}}const lH="database",aA=new V("angularfire2.database-instances");function Rme(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new dy(r)}}const kme={provide:class Nme{constructor(){return am(lH)}},deps:[[new Ht,aA]]},Pme={provide:dy,useFactory:function xme(n,e){const t=om(lH,n,e);return t&&new dy(t)},deps:[[new Ht,aA],ua]};let Ome=(()=>{class n{constructor(){et("angularfire",sm.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({providers:[Pme,kme]}),n})();function Fme(n,...e){return{ngModule:Ome,providers:[{provide:aA,useFactory:Rme(n),multi:!0,deps:[Pe,cr,vb,wb,[new Ht,SS],[new Ht,QS],...e]}]}}const Lme=Nd(bme,!0),Vme=Nd(iH,!0),Ume=Nd(sA,!0);let cH=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(D(Qi),D(lr))},n.\u0275dir=J({type:n}),n})(),Ca=(()=>{class n extends cH{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=sn(n)))(r||n)}}(),n.\u0275dir=J({type:n,features:[ke]}),n})();const Ai=new V("NgValueAccessor"),jme={provide:Ai,useExisting:je(()=>hy),multi:!0},Hme=new V("CompositionEventMode");let hy=(()=>{class n extends cH{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gme(){const n=Ls()?Ls().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(D(Qi),D(lr),D(Hme,8))},n.\u0275dir=J({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&on("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ze([jme]),ke]}),n})();function ro(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}const Cn=new V("NgValidators"),io=new V("NgAsyncValidators");function fy(n){return null}function EH(n){return null!=n}function IH(n){return qc(n)?jt(n):n}function CH(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function TH(n,e){return e.map(t=>t(n))}function bH(n){return n.map(e=>function Wme(n){return!n.validate}(e)?e:t=>e.validate(t))}function uA(n){return null!=n?function DH(n){if(!n)return null;const e=n.filter(EH);return 0==e.length?null:function(t){return CH(TH(t,e))}}(bH(n)):null}function lA(n){return null!=n?function SH(n){if(!n)return null;const e=n.filter(EH);return 0==e.length?null:function(t){return function Bme(...n){const e=TR(n),{args:t,keys:r}=n2(n),i=new ct(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let u=o,l=o;for(let c=0;c<o;c++){let d=!1;Cr(t[c]).subscribe(kt(s,h=>{d||(d=!0,l--),a[c]=h},()=>u--,void 0,()=>{(!u||!d)&&(l||s.next(r?i2(r,a):a),s.complete())}))}});return e?i.pipe(r2(e)):i}(TH(t,e).map(IH)).pipe(Be(CH))}}(bH(n)):null}function AH(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function cA(n){return n?Array.isArray(n)?n:[n]:[]}function py(n,e){return Array.isArray(n)?n.includes(e):n===e}function xH(n,e){const t=cA(e);return cA(n).forEach(i=>{py(t,i)||t.push(i)}),t}function RH(n,e){return cA(e).filter(t=>!py(n,t))}class kH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=uA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Vn extends kH{get formDirective(){return null}get path(){return null}}class so extends kH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let OH=(()=>{class n extends PH{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(D(so,2))},n.\u0275dir=J({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&Zp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[ke]}),n})();const gh="VALID",my="INVALID",El="PENDING",mh="DISABLED";function yy(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class UH{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===gh}get invalid(){return this.status===my}get pending(){return this.status==El}get disabled(){return this.status===mh}get enabled(){return this.status!==mh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(xH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(xH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RH(e,this._rawAsyncValidators))}hasValidator(e){return py(this._rawValidators,e)}hasAsyncValidator(e){return py(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=El,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=mh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=gh,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gh||this.status===El)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?mh:gh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=El,this._hasOwnPendingAsyncValidator=!0;const t=IH(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ht,this.statusChanges=new ht}_calculateStatus(){return this._allControlsDisabled()?mh:this.errors?my:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(El)?El:this._anyControlsHaveStatus(my)?my:gh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Xme(n){return Array.isArray(n)?uA(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Jme(n){return Array.isArray(n)?lA(n):n||null}(this._rawAsyncValidators)}}const Il=new V("CallSetDisabledState",{providedIn:"root",factory:()=>_y}),_y="always";function yh(n,e,t=_y){(function mA(n,e){const t=function MH(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(AH(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function NH(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(AH(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ey(e._rawValidators,i),Ey(e._rawAsyncValidators,i)})(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function tye(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&BH(n,e)})}(n,e),function rye(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function nye(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&BH(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function eye(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ey(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function BH(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function GH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function HH(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const zH=class extends UH{constructor(e=null,t,r){super(function fA(n){return(yy(n)?n.validators:n)||null}(t),function pA(n,e){return(yy(e)?e.asyncValidators:n)||null}(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yy(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=HH(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){HH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},dye={provide:so,useExisting:je(()=>EA)},KH=(()=>Promise.resolve())();let EA=(()=>{class n extends so{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new zH,this._registered=!1,this.name="",this.update=new ht,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function vA(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===hy?t=s:function oye(n){return Object.getPrototypeOf(n.constructor)===Ca}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function _A(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){yh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){KH.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&$u(r);KH.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function vy(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(D(Vn,9),D(Cn,10),D(io,10),D(Ai,10),D(lg,8),D(Il,8))},n.\u0275dir=J({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ze([dye]),ke,br]}),n})();const fye={provide:Ai,useExisting:je(()=>IA),multi:!0};let IA=(()=>{class n extends Ca{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=sn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&on("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ze([fye]),ke]}),n})(),QH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({}),n})();function sz(n){return"number"==typeof n?n:parseFloat(n)}let Ta=(()=>{class n{constructor(){this._validator=fy}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):fy,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=J({type:n,features:[br]}),n})();const Aye={provide:Cn,useExisting:je(()=>AA),multi:!0};let AA=(()=>{class n extends Ta{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>sz(t),this.createValidator=t=>function pH(n){return e=>{if(ro(e.value)||ro(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=sn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&pi("max",r._enabled?r.max:null)},inputs:{max:"max"},features:[Ze([Aye]),ke]}),n})();const Mye={provide:Cn,useExisting:je(()=>MA),multi:!0};let MA=(()=>{class n extends Ta{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>sz(t),this.createValidator=t=>function fH(n){return e=>{if(ro(e.value)||ro(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=sn(n)))(r||n)}}(),n.\u0275dir=J({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&pi("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Ze([Mye]),ke]}),n})(),Fye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({imports:[QH]}),n})(),Vye=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Il,useValue:t.callSetDisabledState??_y}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({imports:[Fye]}),n})();const Uye=[{component:(()=>{class n{constructor(t){this.database=t,this.textBoxValue="",this.numericValue1=0,this.numericValue2=0}onSumbit(){Ume(Vme(this.database,"users/"+this.textBoxValue),{name:this.textBoxValue,age:this.numericValue1,score:this.numericValue2}),alert("user created")}}return n.\u0275fac=function(t){return new(t||n)(D(dy))},n.\u0275cmp=No({type:n,selectors:[["app-users"]],decls:15,vars:3,consts:[[1,"container"],[1,"mb-3"],["for","formGroupExampleInput",1,"form-label"],["type","text","placeholder","Enter Your Name",1,"container",3,"ngModel","ngModelChange"],["for","formGroupExampleInput2",1,"form-label"],["type","number","placeholder","Enter Your Age","min","0","max","75",1,"container",3,"ngModel","ngModelChange"],["type","number","placeholder","Enter Your Score","min","0","max","500",1,"container",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(le(0,"div",0)(1,"div",1)(2,"label",2),we(3,"Name"),ce(),le(4,"input",3),on("ngModelChange",function(s){return r.textBoxValue=s}),ce()(),le(5,"div",1)(6,"label",4),we(7,"Age"),ce(),le(8,"input",5),on("ngModelChange",function(s){return r.numericValue1=s}),ce()(),le(9,"div",1)(10,"label",4),we(11,"Score"),ce(),le(12,"input",6),on("ngModelChange",function(s){return r.numericValue2=s}),ce()(),le(13,"button",7),on("click",function(){return r.onSumbit()}),we(14,"Submit"),ce()()),2&t&&(Bp(4),Wc("ngModel",r.textBoxValue),Bp(4),Wc("ngModel",r.numericValue1),Bp(4),Wc("ngModel",r.numericValue2))},dependencies:[hy,IA,OH,MA,AA,EA],styles:[".container[_ngcontent-%COMP%]{background-color:#d3d3d3;margin-top:10px}"]}),n})(),path:""},{component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=No({type:n,selectors:[["app-winners"]],decls:37,vars:0,consts:[[1,"table","table-success","container"],["scope","col"],["scope","row"],["colspan","2"]],template:function(t,r){1&t&&(le(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),we(4,"#"),ce(),le(5,"th",1),we(6,"First"),ce(),le(7,"th",1),we(8,"Last"),ce(),le(9,"th",1),we(10,"Handle"),ce()()(),le(11,"tbody")(12,"tr")(13,"th",2),we(14,"1"),ce(),le(15,"td"),we(16,"Mark"),ce(),le(17,"td"),we(18,"Otto"),ce(),le(19,"td"),we(20,"@mdo"),ce()(),le(21,"tr")(22,"th",2),we(23,"2"),ce(),le(24,"td"),we(25,"Jacob"),ce(),le(26,"td"),we(27,"Thornton"),ce(),le(28,"td"),we(29,"@fat"),ce()(),le(30,"tr")(31,"th",2),we(32,"3"),ce(),le(33,"td",3),we(34,"Larry the Bird"),ce(),le(35,"td"),we(36,"@twitter"),ce()()()())}}),n})(),path:"winners"},{component:(()=>{class n{addwinner(){alert("User added to winner")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=No({type:n,selectors:[["app-toppers"]],decls:34,vars:0,consts:[[1,"container"],[1,"table","container"],["scope","col"],["type","button",1,"btn","btn-success",3,"click"]],template:function(t,r){1&t&&(le(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),we(5,"S.no."),ce(),le(6,"th",2),we(7,"Name"),ce(),le(8,"th",2),we(9,"Age"),ce()()(),le(10,"tbody")(11,"tr")(12,"td"),we(13,"1"),ce(),le(14,"td"),we(15,"Ankul"),ce(),le(16,"td"),we(17,"22"),ce()(),le(18,"tr")(19,"td"),we(20,"2"),ce(),le(21,"td"),we(22,"Satyam"),ce(),le(23,"td"),we(24,"22"),ce()(),le(25,"tr")(26,"td"),we(27,"3"),ce(),le(28,"td"),we(29,"Ramesh"),ce(),le(30,"td"),we(31,"25"),ce()()()(),le(32,"button",3),on("click",function(){return r.addwinner()}),we(33,"Add to winner"),ce()())},styles:["table[_ngcontent-%COMP%], th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{margin-top:10px;border:1px solid black;border-collapse:collapse;background-color:#d3d3d3}"]}),n})(),path:"toppers"}];let Bye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({imports:[uU.forRoot(Uye),uU]}),n})(),$ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=No({type:n,selectors:[["app-nav"]],decls:8,vars:0,consts:[[1,"nav","justify-content-center"],["routerLink","","type","button",1,"btn","btn-outline-success","me-2"],["routerLink","winners","type","button",1,"btn","btn-outline-success","me-2"],["routerLink","toppers","type","button",1,"btn","btn-outline-success","me-2"]],template:function(t,r){1&t&&(le(0,"div")(1,"nav",0)(2,"a",1),we(3,"Users"),ce(),le(4,"a",2),we(5,"Winners"),ce(),le(6,"a",3),we(7,"Toppers"),ce()()())},dependencies:[Gg],styles:[".nav[_ngcontent-%COMP%]{background-color:#00f;color:#fff;border:2px dark black}.btn[_ngcontent-%COMP%]{color:#000;background-color:#fff;border-color:#000}"]}),n})(),jye=(()=>{class n{constructor(){this.title="assignment"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=No({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&(le(0,"div"),Xp(1,"app-nav")(2,"router-outlet"),ce())},dependencies:[qI,$ye]}),n})();class dz{}class Gye{}const ms="*";function hz(n,e=null){return{type:2,steps:n,options:e}}function fz(n){return{type:6,styles:n,offset:null}}class vh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class pz{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function gz(n){return new I(3e3,!1)}function oo(n){switch(n.length){case 0:return new vh;case 1:return n[0];default:return new pz(n)}}function mz(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(u=>{const l=u.get("offset"),c=l==o,d=c&&a||new Map;u.forEach((h,f)=>{let p=f,g=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,i),g){case"!":g=t.get(f);break;case ms:g=r.get(f);break;default:g=n.normalizeStyleValue(f,p,g,i)}d.set(p,g)}),c||s.push(d),a=d,o=l}),i.length)throw function h_e(n){return new I(3502,!1)}();return s}function RA(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&kA(t,"start",n)));break;case"done":n.onDone(()=>r(t&&kA(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&kA(t,"destroy",n)))}}function kA(n,e,t){const s=PA(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function PA(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function mr(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function yz(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const T_e=(()=>typeof document>"u"?null:document.documentElement)();function OA(n){const e=n.parentNode||n.host||null;return e===T_e?null:e}let ba=null,_z=!1;function vz(n,e){for(;e;){if(e===n)return!0;e=OA(e)}return!1}function wz(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let Ez=(()=>{class n{validateStyleProperty(t){return function D_e(n){ba||(ba=function S_e(){return typeof document<"u"?document.body:null}()||{},_z=!!ba.style&&"WebkitAppearance"in ba.style);let e=!0;return ba.style&&!function b_e(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ba.style,!e&&_z&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ba.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return vz(t,r)}getParentElement(t){return OA(t)}query(t,r,i){return wz(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],u){return new vh(i,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})(),FA=(()=>{class n{}return n.NOOP=new Ez,n})();const A_e=1e3,LA="ng-enter",Cy="ng-leave",Ty="ng-trigger",by=".ng-trigger",Cz="ng-animating",VA=".ng-animating";function ys(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:UA(parseFloat(e[1]),e[2])}function UA(n,e){return"s"===e?n*A_e:n}function Dy(n,e,t){return n.hasOwnProperty("duration")?n:function N_e(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(gz()),{duration:0,delay:0,easing:""};i=UA(parseFloat(a[1]),a[2]);const u=a[3];null!=u&&(s=UA(parseFloat(u),a[4]));const l=a[5];l&&(o=l)}else i=n;if(!t){let a=!1,u=e.length;i<0&&(e.push(function Hye(){return new I(3100,!1)}()),a=!0),s<0&&(e.push(function zye(){return new I(3101,!1)}()),a=!0),a&&e.splice(u,0,gz())}return{duration:i,delay:s,easing:o}}(n,e,t)}function wh(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Tz(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ao(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Mi(n,e,t){e.forEach((r,i)=>{const s=$A(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function Da(n,e){e.forEach((t,r)=>{const i=$A(r);n.style[i]=""})}function Eh(n){return Array.isArray(n)?1==n.length?n[0]:hz(n):n}const BA=new RegExp("{{\\s*(.+?)\\s*}}","g");function Dz(n){let e=[];if("string"==typeof n){let t;for(;t=BA.exec(n);)e.push(t[1]);BA.lastIndex=0}return e}function Ih(n,e,t){const r=n.toString(),i=r.replace(BA,(s,o)=>{let a=e[o];return null==a&&(t.push(function qye(n){return new I(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function Sy(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const k_e=/-+([a-z0-9])/g;function $A(n){return n.replace(k_e,(...e)=>e[1].toUpperCase())}function yr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Kye(n){return new I(3004,!1)}()}}function Sz(n,e){return window.getComputedStyle(n)[e]}const Ay="*";function F_e(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function L_e(n,e,t){if(":"==n[0]){const u=function V_e(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function u_e(n){return new I(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof u)return void e.push(u);n=u}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function a_e(n){return new I(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(Az(i,o));"<"==s[0]&&!(i==Ay&&o==Ay)&&e.push(Az(o,i))}(r,t,e)):t.push(n),t}const My=new Set(["true","1"]),Ny=new Set(["false","0"]);function Az(n,e){const t=My.has(n)||Ny.has(n),r=My.has(e)||Ny.has(e);return(i,s)=>{let o=n==Ay||n==i,a=e==Ay||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?My.has(n):Ny.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?My.has(e):Ny.has(e)),o&&a}}const U_e=new RegExp("s*:selfs*,?","g");function jA(n,e,t,r){return new B_e(n).build(e,t,r)}class B_e{constructor(e){this._driver=e}build(e,t,r){const i=new G_e(t);return this._resetContextStyleTimingState(i),yr(this,Eh(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function Yye(){return new I(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const u=a,l=u.name;l.toString().split(/\s*,\s*/).forEach(c=>{u.name=c,s.push(this.visitState(u,t))}),u.name=l}else if(1==a.type){const u=this.visitTransition(a,t);r+=u.queryCount,i+=u.depCount,o.push(u)}else t.errors.push(function Xye(){return new I(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(u=>{Dz(u).forEach(l=>{o.hasOwnProperty(l)||s.add(l)})})}),s.size&&(Sy(s.values()),t.errors.push(function Jye(n,e){return new I(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=yr(this,Eh(e.animation),t);return{type:1,matchers:F_e(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Sa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>yr(this,r,t)),options:Sa(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=yr(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:Sa(e.options)}}visitAnimate(e,t){const r=function z_e(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return GA(Dy(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=GA(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Dy(t,e);return GA(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:fz({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const l={};r.easing&&(l.easing=r.easing),o=fz(l)}t.currentTime+=r.duration+r.delay;const u=this.visitStyle(o,t);u.isEmptyStep=a,i=u}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ms?r.push(a):t.errors.push(new I(3002,!1)):r.push(Tz(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let u of a.values())if(u.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,u)=>{const l=t.collectedStyles.get(t.currentQuerySelector),c=l.get(u);let d=!0;c&&(s!=i&&s>=c.startTime&&i<=c.endTime&&(t.errors.push(function e_e(n,e,t,r,i){return new I(3010,!1)}()),d=!1),s=c.startTime),d&&l.set(u,{startTime:s,endTime:i}),t.options&&function R_e(n,e,t){const r=e.params||{},i=Dz(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function Wye(n){return new I(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function t_e(){return new I(3011,!1)}()),r;let s=0;const o=[];let a=!1,u=!1,l=0;const c=e.steps.map(_=>{const y=this._makeStyleAst(_,t);let C=null!=y.offset?y.offset:function H_e(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(y.styles),A=0;return null!=C&&(s++,A=y.offset=C),u=u||A<0||A>1,a=a||A<l,l=A,o.push(A),y});u&&t.errors.push(function n_e(){return new I(3012,!1)}()),a&&t.errors.push(function r_e(){return new I(3200,!1)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function i_e(){return new I(3202,!1)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,g=t.currentAnimateTimings,m=g.duration;return c.forEach((_,y)=>{const C=h>0?y==f?1:h*y:o[y],A=C*m;t.currentTime=p+g.delay+A,g.duration=A,this._validateStyleAst(_,t),_.offset=C,r.styles.push(_)}),r}visitReference(e,t){return{type:8,animation:yr(this,Eh(e.animation),t),options:Sa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Sa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Sa(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function $_e(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(U_e,"")),n=n.replace(/@\*/g,by).replace(/@\w+/g,t=>by+"-"+t.slice(1)).replace(/:animating/g,VA),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,mr(t.collectedStyles,t.currentQuerySelector,new Map);const a=yr(this,Eh(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Sa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function s_e(){return new I(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Dy(e.timings,t.errors,!0);return{type:12,animation:yr(this,Eh(e.animation),t),timings:r,options:null}}}class G_e{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Sa(n){return n?(n=wh(n)).params&&(n.params=function j_e(n){return n?wh(n):null}(n.params)):n={},n}function GA(n,e,t){return{duration:n,delay:e,easing:t}}function HA(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class xy{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const K_e=new RegExp(":enter","g"),Y_e=new RegExp(":leave","g");function zA(n,e,t,r,i,s=new Map,o=new Map,a,u,l=[]){return(new X_e).buildKeyframes(n,e,t,r,i,s,o,a,u,l)}class X_e{buildKeyframes(e,t,r,i,s,o,a,u,l,c=[]){l=l||new xy;const d=new WA(e,t,l,i,s,c,[]);d.options=u;const h=u.delay?ys(u.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,u),yr(this,r,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let g=f.length-1;g>=0;g--){const m=f[g];if(m.element===t){p=m;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,u)}return f.length?f.map(p=>p.buildKeyframes()):[HA(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:ys(Ih(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?ys(r.duration):null,a=null!=r.delay?ys(r.delay):null;return 0!==o&&e.forEach(u=>{const l=t.appendInstructionToTimeline(u,o,a);s=Math.max(s,l.duration+l.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),yr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ry);const o=ys(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>yr(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?ys(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),yr(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Dy(t.params?Ih(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(u=>{a.forwardTime((u.offset||0)*s),a.setStyles(u.styles,u.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?ys(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ry);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let u=null;a.forEach((l,c)=>{t.currentQueryIndex=c;const d=t.createSubContext(e.options,l);s&&d.delayNextStep(s),l===t.element&&(u=d.currentTimeline),yr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),u&&(t.currentTimeline.mergeTimelineCollectedStyles(u),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let u=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":u=a-u;break;case"full":u=r.currentStaggerTime}const c=t.currentTimeline;u&&c.delayNextStep(u);const d=c.currentTime;yr(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}}const Ry={};class WA{constructor(e,t,r,i,s,o,a,u){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ry,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new ky(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ys(r.duration)),null!=r.delay&&(i.delay=ys(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ih(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new WA(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ry,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new J_e(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(K_e,"."+this._enterClassName)).replace(Y_e,"."+this._leaveClassName);let l=this._driver.query(this.element,e,1!=r);0!==r&&(l=r<0?l.slice(l.length+r,l.length):l.slice(0,r)),a.push(...l)}return!s&&0==a.length&&o.push(function o_e(n){return new I(3014,!1)}()),a}}class ky{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ky(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ms),this._currentKeyframe.set(t,ms);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function Z_e(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ms)}else ao(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,u]of o){const l=Ih(u,s,r);this._pendingStyles.set(a,l),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ms),this._updateStyle(a,l)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,u)=>{const l=ao(a,new Map,this._backFill);l.forEach((c,d)=>{"!"===c?e.add(d):c===ms&&t.add(d)}),r||l.set("offset",u/this.duration),i.push(l)});const s=e.size?Sy(e.values()):[],o=t.size?Sy(t.values()):[];if(r){const a=i[0],u=new Map(a);a.set("offset",0),u.set("offset",1),i=[a,u]}return HA(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class J_e extends ky{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,u=ao(e[0]);u.set("offset",0),s.push(u);const l=ao(e[0]);l.set("offset",xz(a)),s.push(l);const c=e.length-1;for(let d=1;d<=c;d++){let h=ao(e[d]);const f=h.get("offset");h.set("offset",xz((t+f*r)/o)),s.push(h)}r=o,t=0,i="",e=s}return HA(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function xz(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class qA{}const eve=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class tve extends qA{normalizePropertyName(e,t){return $A(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(eve.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function Qye(n,e){return new I(3005,!1)}())}return o+s}}function Rz(n,e,t,r,i,s,o,a,u,l,c,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:l,postStyleProps:c,totalTime:d,errors:h}}const KA={};class kz{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function nve(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,u,l,c){const d=[],h=this.ast.options&&this.ast.options.params||KA,p=this.buildStyles(r,a&&a.params||KA,d),g=u&&u.params||KA,m=this.buildStyles(i,g,d),_=new Set,y=new Map,C=new Map,A="void"===i,P={params:rve(g,h),delay:this.ast.options?.delay},H=c?[]:zA(e,t,this.ast.animation,s,o,p,m,P,l,d);let ye=0;if(H.forEach(en=>{ye=Math.max(en.duration+en.delay,ye)}),d.length)return Rz(t,this._triggerName,r,i,A,p,m,[],[],y,C,ye,d);H.forEach(en=>{const ti=en.element,C6=mr(y,ti,new Set);en.preStyleProps.forEach(Ya=>C6.add(Ya));const Pf=mr(C,ti,new Set);en.postStyleProps.forEach(Ya=>Pf.add(Ya)),ti!==t&&_.add(ti)});const Ct=Sy(_.values());return Rz(t,this._triggerName,r,i,A,p,m,H,Ct,y,C,ye)}}function rve(n,e){const t=wh(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class ive{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=wh(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ih(o,i,t));const u=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,u,o,t),r.set(a,o)})}),r}}class ove{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new ive(i.style,i.options&&i.options.params||{},r))}),Pz(this.states,"true","1"),Pz(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new kz(e,i,this.states))}),this.fallbackTransition=function ave(n,e,t){return new kz(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Pz(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const uve=new xy;class lve{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=jA(this._driver,t,r,[]);if(r.length)throw function f_e(n){return new I(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=mz(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=zA(this._driver,t,s,LA,Cy,new Map,new Map,r,uve,i),o.forEach(c=>{const d=mr(a,c.element,new Map);c.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(function p_e(){return new I(3300,!1)}()),o=[]),i.length)throw function g_e(n){return new I(3504,!1)}();a.forEach((c,d)=>{c.forEach((h,f)=>{c.set(f,this._driver.computeStyle(d,f,ms))})});const l=oo(o.map(c=>{const d=a.get(c.element);return this._buildPlayer(c,new Map,d)}));return this._playersById.set(e,l),l.onDestroy(()=>this.destroy(e)),this.players.push(l),l}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function m_e(n){return new I(3301,!1)}();return t}listen(e,t,r,i){const s=PA(t,"","","");return RA(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Oz="ng-animate-queued",QA="ng-animate-disabled",pve=[],Fz={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},gve={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},kr="__ng_removed";class YA{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function vve(n){return n??null}(r?e.value:e),r){const s=wh(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Ch="void",XA=new YA(Ch);class mve{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Pr(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function y_e(n,e){return new I(3302,!1)}();if(null==r||0==r.length)throw function __e(n){return new I(3303,!1)}();if(!function wve(n){return"start"==n||"done"==n}(r))throw function v_e(n,e){return new I(3400,!1)}();const s=mr(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=mr(this._engine.statesByElement,e,new Map);return a.has(t)||(Pr(e,Ty),Pr(e,Ty+"-"+t),a.set(t,XA)),()=>{this._engine.afterFlush(()=>{const u=s.indexOf(o);u>=0&&s.splice(u,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function w_e(n){return new I(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new JA(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(Pr(e,Ty),Pr(e,Ty+"-"+t),this._engine.statesByElement.set(e,a=new Map));let u=a.get(t);const l=new YA(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&u&&l.absorbOptions(u.options),a.set(t,l),u||(u=XA),l.value!==Ch&&u.value===l.value){if(!function Cve(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(u.params,l.params)){const g=[],m=s.matchStyles(u.value,u.params,g),_=s.matchStyles(l.value,l.params,g);g.length?this._engine.reportError(g):this._engine.afterFlush(()=>{Da(e,m),Mi(e,_)})}return}const h=mr(this._engine.playersByElement,e,[]);h.forEach(g=>{g.namespaceId==this.id&&g.triggerName==t&&g.queued&&g.destroy()});let f=s.matchTransition(u.value,l.value,e,l.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:u,toState:l,player:o,isFallbackTransition:p}),p||(Pr(e,Oz),o.onStart(()=>{Cl(e,Oz)})),o.onDone(()=>{let g=this.players.indexOf(o);g>=0&&this.players.splice(g,1);const m=this._engine.playersByElement.get(e);if(m){let _=m.indexOf(o);_>=0&&m.splice(_,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,by,!0);r.forEach(i=>{if(i[kr])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((u,l)=>{if(o.set(l,u.value),this._triggers.has(l)){const c=this.trigger(e,l,Ch,i);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&oo(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const u=this._triggers.get(o).fallbackTransition,l=r.get(o)||XA,c=new YA(Ch),d=new JA(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:u,fromState:l,toState:c,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[kr];(!s||s===Fz)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Pr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const u=PA(s,r.triggerName,r.fromState.value,r.toState.value);u._data=e,RA(r.player,a.phase,u,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class yve{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new mve(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const u=i.get(a);if(u){const l=r.indexOf(u);r.splice(l+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(Py(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Py(t))return;const s=t[kr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Pr(e,QA)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Cl(e,QA))}removeNode(e,t,r){if(Py(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[kr]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return Py(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,by,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,VA,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return oo(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[kr];if(t&&t.setForRemoval){if(e[kr]=Fz,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(QA)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Pr(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?oo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function E_e(n){return new I(3402,!1)}()}_flushAnimations(e,t){const r=new xy,i=[],s=new Map,o=[],a=new Map,u=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(B=>{c.add(B);const W=this.driver.query(B,".ng-animate-queued",!0);for(let Y=0;Y<W.length;Y++)c.add(W[Y])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=Uz(h,this.collectedEnterElements),p=new Map;let g=0;f.forEach((B,W)=>{const Y=LA+g++;p.set(W,Y),B.forEach(be=>Pr(be,Y))});const m=[],_=new Set,y=new Set;for(let B=0;B<this.collectedLeaveElements.length;B++){const W=this.collectedLeaveElements[B],Y=W[kr];Y&&Y.setForRemoval&&(m.push(W),_.add(W),Y.hasAnimation?this.driver.query(W,".ng-star-inserted",!0).forEach(be=>_.add(be)):y.add(W))}const C=new Map,A=Uz(h,Array.from(_));A.forEach((B,W)=>{const Y=Cy+g++;C.set(W,Y),B.forEach(be=>Pr(be,Y))}),e.push(()=>{f.forEach((B,W)=>{const Y=p.get(W);B.forEach(be=>Cl(be,Y))}),A.forEach((B,W)=>{const Y=C.get(W);B.forEach(be=>Cl(be,Y))}),m.forEach(B=>{this.processLeaveNode(B)})});const P=[],H=[];for(let B=this._namespaceList.length-1;B>=0;B--)this._namespaceList[B].drainQueuedTransitions(t).forEach(Y=>{const be=Y.player,tn=Y.element;if(P.push(be),this.collectedEnterElements.length){const Nn=tn[kr];if(Nn&&Nn.setForMove){if(Nn.previousTriggersValues&&Nn.previousTriggersValues.has(Y.triggerName)){const Xa=Nn.previousTriggersValues.get(Y.triggerName),Fr=this.statesByElement.get(Y.element);if(Fr&&Fr.has(Y.triggerName)){const ov=Fr.get(Y.triggerName);ov.value=Xa,Fr.set(Y.triggerName,ov)}}return void be.destroy()}}const Ui=!d||!this.driver.containsElement(d,tn),Er=C.get(tn),So=p.get(tn),lt=this._buildInstruction(Y,r,So,Er,Ui);if(lt.errors&&lt.errors.length)return void H.push(lt);if(Ui)return be.onStart(()=>Da(tn,lt.fromStyles)),be.onDestroy(()=>Mi(tn,lt.toStyles)),void i.push(be);if(Y.isFallbackTransition)return be.onStart(()=>Da(tn,lt.fromStyles)),be.onDestroy(()=>Mi(tn,lt.toStyles)),void i.push(be);const D6=[];lt.timelines.forEach(Nn=>{Nn.stretchStartingKeyframe=!0,this.disabledNodes.has(Nn.element)||D6.push(Nn)}),lt.timelines=D6,r.append(tn,lt.timelines),o.push({instruction:lt,player:be,element:tn}),lt.queriedElements.forEach(Nn=>mr(a,Nn,[]).push(be)),lt.preStyleProps.forEach((Nn,Xa)=>{if(Nn.size){let Fr=u.get(Xa);Fr||u.set(Xa,Fr=new Set),Nn.forEach((ov,eR)=>Fr.add(eR))}}),lt.postStyleProps.forEach((Nn,Xa)=>{let Fr=l.get(Xa);Fr||l.set(Xa,Fr=new Set),Nn.forEach((ov,eR)=>Fr.add(eR))})});if(H.length){const B=[];H.forEach(W=>{B.push(function I_e(n,e){return new I(3505,!1)}())}),P.forEach(W=>W.destroy()),this.reportError(B)}const ye=new Map,Ct=new Map;o.forEach(B=>{const W=B.element;r.has(W)&&(Ct.set(W,W),this._beforeAnimationBuild(B.player.namespaceId,B.instruction,ye))}),i.forEach(B=>{const W=B.element;this._getPreviousPlayers(W,!1,B.namespaceId,B.triggerName,null).forEach(be=>{mr(ye,W,[]).push(be),be.destroy()})});const en=m.filter(B=>$z(B,u,l)),ti=new Map;Vz(ti,this.driver,y,l,ms).forEach(B=>{$z(B,u,l)&&en.push(B)});const Pf=new Map;f.forEach((B,W)=>{Vz(Pf,this.driver,new Set(B),u,"!")}),en.forEach(B=>{const W=ti.get(B),Y=Pf.get(B);ti.set(B,new Map([...W?.entries()??[],...Y?.entries()??[]]))});const Ya=[],T6=[],b6={};o.forEach(B=>{const{element:W,player:Y,instruction:be}=B;if(r.has(W)){if(c.has(W))return Y.onDestroy(()=>Mi(W,be.toStyles)),Y.disabled=!0,Y.overrideTotalTime(be.totalTime),void i.push(Y);let tn=b6;if(Ct.size>1){let Er=W;const So=[];for(;Er=Er.parentNode;){const lt=Ct.get(Er);if(lt){tn=lt;break}So.push(Er)}So.forEach(lt=>Ct.set(lt,tn))}const Ui=this._buildAnimation(Y.namespaceId,be,ye,s,Pf,ti);if(Y.setRealPlayer(Ui),tn===b6)Ya.push(Y);else{const Er=this.playersByElement.get(tn);Er&&Er.length&&(Y.parentPlayer=oo(Er)),i.push(Y)}}else Da(W,be.fromStyles),Y.onDestroy(()=>Mi(W,be.toStyles)),T6.push(Y),c.has(W)&&i.push(Y)}),T6.forEach(B=>{const W=s.get(B.element);if(W&&W.length){const Y=oo(W);B.setRealPlayer(Y)}}),i.forEach(B=>{B.parentPlayer?B.syncPlayerEvents(B.parentPlayer):B.destroy()});for(let B=0;B<m.length;B++){const W=m[B],Y=W[kr];if(Cl(W,Cy),Y&&Y.hasAnimation)continue;let be=[];if(a.size){let Ui=a.get(W);Ui&&Ui.length&&be.push(...Ui);let Er=this.driver.query(W,VA,!0);for(let So=0;So<Er.length;So++){let lt=a.get(Er[So]);lt&&lt.length&&be.push(...lt)}}const tn=be.filter(Ui=>!Ui.destroyed);tn.length?Eve(this,W,tn):this.processLeaveNode(W)}return m.length=0,Ya.forEach(B=>{this.players.push(B),B.onDone(()=>{B.destroy();const W=this.players.indexOf(B);this.players.splice(W,1)}),B.play()}),Ya}elementContainsData(e,t){let r=!1;const i=t[kr];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const u=!s||s==Ch;a.forEach(l=>{l.queued||!u&&l.triggerName!=i||o.push(l)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const u of t.timelines){const l=u.element,c=l!==s,d=mr(r,l,[]);this._getPreviousPlayers(l,c,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Da(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,u=t.element,l=[],c=new Set,d=new Set,h=t.timelines.map(p=>{const g=p.element;c.add(g);const m=g[kr];if(m&&m.removedBeforeQueried)return new vh(p.duration,p.delay);const _=g!==u,y=function Ive(n){const e=[];return Bz(n,e),e}((r.get(g)||pve).map(ye=>ye.getRealPlayer())).filter(ye=>!!ye.element&&ye.element===g),C=s.get(g),A=o.get(g),P=mz(this._normalizer,p.keyframes,C,A),H=this._buildPlayer(p,P,y);if(p.subTimeline&&i&&d.add(g),_){const ye=new JA(e,a,g);ye.setRealPlayer(H),l.push(ye)}return H});l.forEach(p=>{mr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function _ve(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,p.element,p))}),c.forEach(p=>Pr(p,Cz));const f=oo(h);return f.onDestroy(()=>{c.forEach(p=>Cl(p,Cz)),Mi(u,t.toStyles)}),d.forEach(p=>{mr(i,p,[]).push(f)}),f}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new vh(e.duration,e.delay)}}class JA{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new vh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>RA(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){mr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Py(n){return n&&1===n.nodeType}function Lz(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Vz(n,e,t,r,i){const s=[];t.forEach(u=>s.push(Lz(u)));const o=[];r.forEach((u,l)=>{const c=new Map;u.forEach(d=>{const h=e.computeStyle(l,d,i);c.set(d,h),(!h||0==h.length)&&(l[kr]=gve,o.push(l))}),n.set(l,c)});let a=0;return t.forEach(u=>Lz(u,s[a++])),o}function Uz(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let u=s.get(a);if(u)return u;const l=a.parentNode;return u=t.has(l)?l:i.has(l)?1:o(l),s.set(a,u),u}return e.forEach(a=>{const u=o(a);1!==u&&t.get(u).push(a)}),t}function Pr(n,e){n.classList?.add(e)}function Cl(n,e){n.classList?.remove(e)}function Eve(n,e,t){oo(t).onDone(()=>n.processLeaveNode(e))}function Bz(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof pz?Bz(r.players,e):e.push(r)}}function $z(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class Oy{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new yve(e,t,r),this._timelineEngine=new lve(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const u=[],c=jA(this._driver,s,u,[]);if(u.length)throw function d_e(n,e){return new I(3404,!1)}();a=function sve(n,e,t){return new ove(n,e,t)}(i,c,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=yz(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=yz(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let bve=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Mi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Mi(this._element,this._initialStyles),this._endStyles&&(Mi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Da(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Da(this._element,this._endStyles),this._endStyles=null),Mi(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ZA(n){let e=null;return n.forEach((t,r)=>{(function Dve(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class jz{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Sz(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Sve{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return vz(e,t)}getParentElement(e){return OA(e)}query(e,t,r){return wz(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const u={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(u.easing=s);const l=new Map,c=o.filter(f=>f instanceof jz);(function P_e(n,e){return 0===n||0===e})(r,i)&&c.forEach(f=>{f.currentSnapshot.forEach((p,g)=>l.set(g,p))});let d=function x_e(n){return n.length?n[0]instanceof Map?n:n.map(e=>Tz(e)):[]}(t).map(f=>ao(f));d=function O_e(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Sz(n,a)))}}return e}(e,d,l);const h=function Tve(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=ZA(e[0]),e.length>1&&(r=ZA(e[e.length-1]))):e instanceof Map&&(t=ZA(e)),t||r?new bve(n,t,r):null}(e,d);return new jz(e,d,u,h)}}let Ave=(()=>{class n extends dz{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:jn.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?hz(t):t;return Gz(this._renderer,null,r,"register",[i]),new Mve(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)($(Fc),$(Yn))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class Mve extends Gye{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Nve(this._id,e,t||{},this._renderer)}}class Nve{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Gz(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Gz(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Hz="@.disabled";let xve=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let c=this._rendererCache.get(s);return c||(c=new zz("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,c)),c}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const u=c=>{Array.isArray(c)?c.forEach(u):this.engine.registerTrigger(o,a,t,c.name,c)};return r.data.animation.forEach(u),new Rve(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)($(Fc),$(Oy),$(Pe))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();class zz{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Hz?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Rve extends zz{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Hz?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function kve(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Pve(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Ove=(()=>{class n extends Oy{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)($(Yn),$(FA),$(qA),$(jo))},n.\u0275prov=z({token:n,factory:n.\u0275fac}),n})();const Wz=[{provide:dz,useClass:Ave},{provide:qA,useFactory:function Fve(){return new tve}},{provide:Oy,useClass:Ove},{provide:Fc,useFactory:function Lve(n,e,t){return new xve(n,e,t)},deps:[DI,Oy,Pe]}],eM=[{provide:FA,useFactory:()=>new Sve},{provide:XP,useValue:"BrowserAnimations"},...Wz],qz=[{provide:FA,useClass:Ez},{provide:XP,useValue:"NoopAnimations"},...Wz];let Vve=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qz:eM}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({providers:eM,imports:[XV]}),n})();const Uve_firebase={projectId:"assignment-project-14cdb",appId:"1:677391493294:web:48ad3ca66db6109acc653f",databaseURL:"https://assignment-project-14cdb-default-rtdb.firebaseio.com",storageBucket:"assignment-project-14cdb.appspot.com",apiKey:"AIzaSyBW7lyshLfj4r4wemk_KsT5jzWlBIZ4CyM",authDomain:"assignment-project-14cdb.firebaseapp.com",messagingSenderId:"677391493294"};var k,Bve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jr={},tM=tM||{},ie=Bve||self;function Ly(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Th(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var nM="closure_uid_"+(1e9*Math.random()>>>0),jve=0;function Gve(n,e,t){return n.call.apply(n.bind,arguments)}function Hve(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Tn(n,e,t){return(Tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Gve:Hve).apply(null,arguments)}function Vy(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qt(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function uo(){this.s=this.s,this.o=this.o}uo.prototype.s=!1,uo.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function $ve(n){Object.prototype.hasOwnProperty.call(n,nM)&&n[nM]||(n[nM]=++jve)}(this)},uo.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Kz=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function rM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Qz(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Ly(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function bn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}bn.prototype.h=function(){this.defaultPrevented=!0};var Wve=function(){if(!ie.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ie.addEventListener("test",()=>{},e),ie.removeEventListener("test",()=>{},e)}catch{}return n}();function bh(n){return/^[\s\xa0]*$/.test(n)}function Uy(){var n=ie.navigator;return n&&(n=n.userAgent)?n:""}function Ni(n){return-1!=Uy().indexOf(n)}function iM(n){return iM[" "](n),n}iM[" "]=function(){};var oM,Kve=Ni("Opera"),Tl=Ni("Trident")||Ni("MSIE"),Yz=Ni("Edge"),sM=Yz||Tl,Xz=Ni("Gecko")&&!(-1!=Uy().toLowerCase().indexOf("webkit")&&!Ni("Edge"))&&!(Ni("Trident")||Ni("MSIE"))&&!Ni("Edge"),Qve=-1!=Uy().toLowerCase().indexOf("webkit")&&!Ni("Edge");function Jz(){var n=ie.document;return n?n.documentMode:void 0}e:{var aM="",uM=function(){var n=Uy();return Xz?/rv:([^\);]+)(\)|;)/.exec(n):Yz?/Edge\/([\d\.]+)/.exec(n):Tl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Qve?/WebKit\/(\S+)/.exec(n):Kve?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(uM&&(aM=uM?uM[1]:""),Tl){var lM=Jz();if(null!=lM&&lM>parseFloat(aM)){oM=String(lM);break e}}oM=aM}var Yve=ie.document&&Tl&&(Jz()||parseInt(oM,10))||void 0;function Dh(n,e){if(bn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Xz){e:{try{iM(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Xve[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dh.$.h.call(this)}}Qt(Dh,bn);var Xve={2:"touch",3:"pen",4:"mouse"};Dh.prototype.h=function(){Dh.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sh="closure_listenable_"+(1e6*Math.random()|0),Jve=0;function Zve(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++Jve,this.fa=this.ia=!1}function By(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function dM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function eW(n){const e={};for(const t in n)e[t]=n[t];return e}const tW="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nW(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<tW.length;s++)t=tW[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function $y(n){this.src=n,this.g={},this.h=0}function hM(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=Kz(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(By(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function fM(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}$y.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=fM(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new Zve(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var pM="closure_lm_"+(1e6*Math.random()|0),gM={};function rW(n,e,t,r,i){if(r&&r.once)return sW(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)rW(n,e[s],t,r,i);return null}return t=vM(t),n&&n[Sh]?n.O(e,t,Th(r)?!!r.capture:!!r,i):iW(n,e,t,!1,r,i)}function iW(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Th(i)?!!i.capture:!!i,a=yM(n);if(a||(n[pM]=a=new $y(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function twe(){const e=nwe;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Wve||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(aW(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function sW(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)sW(n,e[s],t,r,i);return null}return t=vM(t),n&&n[Sh]?n.P(e,t,Th(r)?!!r.capture:!!r,i):iW(n,e,t,!0,r,i)}function oW(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)oW(n,e[s],t,r,i);else r=Th(r)?!!r.capture:!!r,t=vM(t),n&&n[Sh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=fM(s=n.g[e],t,r,i))&&(By(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=yM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=fM(e,t,r,i)),(t=-1<n?e[n]:null)&&mM(t))}function mM(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Sh])hM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(aW(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=yM(e))?(hM(t,n),0==t.h&&(t.src=null,e[pM]=null)):By(n)}}}function aW(n){return n in gM?gM[n]:gM[n]="on"+n}function nwe(n,e){if(n.fa)n=!0;else{e=new Dh(e,this);var t=n.listener,r=n.la||n.src;n.ia&&mM(n),n=t.call(r,e)}return n}function yM(n){return(n=n[pM])instanceof $y?n:null}var _M="__closure_events_fn_"+(1e9*Math.random()>>>0);function vM(n){return"function"==typeof n?n:(n[_M]||(n[_M]=function(e){return n.handleEvent(e)}),n[_M])}function Yt(){uo.call(this),this.i=new $y(this),this.S=this,this.J=null}function dn(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new bn(e,n);else if(e instanceof bn)e.target=e.target||n;else{var i=e;nW(e=new bn(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=jy(o,r,!0,e)&&i}if(i=jy(o=e.g=n,r,!0,e)&&i,i=jy(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=jy(o=e.g=t[s],r,!1,e)&&i}function jy(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,u=o.la||o.src;o.ia&&hM(n.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Qt(Yt,uo),Yt.prototype[Sh]=!0,Yt.prototype.removeEventListener=function(n,e,t,r){oW(this,n,e,t,r)},Yt.prototype.N=function(){if(Yt.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)By(t[r]);delete n.g[e],n.h--}}this.J=null},Yt.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Yt.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wM=ie.JSON.stringify;function iwe(){var n=EM;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var uW=new class rwe{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new owe,n=>n.reset());class owe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function awe(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function uwe(n){ie.setTimeout(()=>{throw n},0)}let Ah,Mh=!1,EM=new class swe{constructor(){this.h=this.g=null}add(e,t){const r=uW.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},lW=()=>{const n=ie.Promise.resolve(void 0);Ah=()=>{n.then(lwe)}};var lwe=()=>{for(var n;n=iwe();){try{n.h.call(n.g)}catch(t){uwe(t)}var e=uW;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Mh=!1};function Gy(n,e){Yt.call(this),this.h=n||1,this.g=e||ie,this.j=Tn(this.qb,this),this.l=Date.now()}function IM(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function CM(n,e,t){if("function"==typeof n)t&&(n=Tn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Tn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ie.setTimeout(n,e||0)}function cW(n){n.g=CM(()=>{n.g=null,n.i&&(n.i=!1,cW(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qt(Gy,Yt),(k=Gy.prototype).ga=!1,k.T=null,k.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),dn(this,"tick"),this.ga&&(IM(this),this.start()))}},k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},k.N=function(){Gy.$.N.call(this),IM(this),delete this.g};class cwe extends uo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:cW(this)}N(){super.N(),this.g&&(ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nh(n){uo.call(this),this.h=n,this.g={}}Qt(Nh,uo);var dW=[];function hW(n,e,t,r){Array.isArray(t)||(t&&(dW[0]=t.toString()),t=dW);for(var i=0;i<t.length;i++){var s=rW(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function fW(n){dM(n.g,function(e,t){this.g.hasOwnProperty(t)&&mM(e)},n),n.g={}}function Hy(){this.g=!0}function bl(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function pwe(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return wM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Nh.prototype.N=function(){Nh.$.N.call(this),fW(this)},Nh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hy.prototype.Ea=function(){this.g=!1},Hy.prototype.info=function(){};var Aa={},pW=null;function zy(){return pW=pW||new Yt}function gW(n){bn.call(this,Aa.Ta,n)}function xh(n){const e=zy();dn(e,new gW(e))}function mW(n,e){bn.call(this,Aa.STAT_EVENT,n),this.stat=e}function Un(n){const e=zy();dn(e,new mW(e,n))}function yW(n,e){bn.call(this,Aa.Ua,n),this.size=e}function Rh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ie.setTimeout(function(){n()},e)}Aa.Ta="serverreachability",Qt(gW,bn),Aa.STAT_EVENT="statevent",Qt(mW,bn),Aa.Ua="timingevent",Qt(yW,bn);var Wy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},_W={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function TM(){}function wW(){}TM.prototype.h=null;var SM,kh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function bM(){bn.call(this,"d")}function DM(){bn.call(this,"c")}function qy(){}function Ph(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Nh(this),this.P=gwe,this.V=new Gy(n=sM?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new EW}function EW(){this.i=null,this.g="",this.h=!1}Qt(bM,bn),Qt(DM,bn),Qt(qy,TM),qy.prototype.g=function(){return new XMLHttpRequest},qy.prototype.i=function(){return{}},SM=new qy;var gwe=45e3,AM={},Ky={};function MM(n,e,t){n.L=1,n.v=Jy(_s(e)),n.s=t,n.S=!0,IW(n,null)}function IW(n,e){n.G=Date.now(),Oh(n),n.A=_s(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),RW(t.i,"t",r),n.C=0,t=n.l.J,n.h=new EW,n.g=n4(n.l,t?e:null,!n.s),0<n.O&&(n.M=new cwe(Tn(n.Pa,n,n.g),n.O)),hW(n.U,n.g,"readystatechange",n.nb),e=n.I?eW(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),xh(),function dwe(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var l=a[u].split("=");if(1<l.length){var c=l[0];l=l[1];var d=c.split("_");o=2<=d.length&&"type"==d[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function CW(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function TW(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=mwe(n,t),i==Ky){4==e&&(n.o=4,Un(14),r=!1),bl(n.j,n.m,null,"[Incomplete Response]");break}if(i==AM){n.o=4,Un(15),bl(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}bl(n.j,n.m,i,null),NM(n,i)}CW(n)&&i!=Ky&&i!=AM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Un(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),LM(e),e.M=!0,Un(11))):(bl(n.j,n.m,t,"[Invalid Chunked Response]"),Ma(n),Fh(n))}function mwe(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Ky:(t=Number(e.substring(t,r)),isNaN(t)?AM:(r+=1)+t>e.length?Ky:(e=e.slice(r,r+t),n.C=r+t,e))}function Oh(n){n.Y=Date.now()+n.P,bW(n,n.P)}function bW(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Rh(Tn(n.lb,n),e)}function Qy(n){n.B&&(ie.clearTimeout(n.B),n.B=null)}function Fh(n){0==n.l.H||n.J||JW(n.l,n)}function Ma(n){Qy(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,IM(n.V),fW(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function NM(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||xM(t.i,n)))if(!n.K&&xM(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;i_(t),n_(t)}FM(t),Un(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=Rh(Tn(t.ib,t),6e3));if(1>=OW(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else xa(t,11)}else if((n.K||t.g==n)&&i_(t),!bh(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(t.V=l[0],l=l[1],2==t.H)if("c"==l[0]){t.K=l[1],t.pa=l[2];const c=l[3];null!=c&&(t.ra=c,t.l.info("VER="+t.ra));const d=l[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=l[5];null!=h&&"number"==typeof h&&0<h&&(t.L=r=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.i;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(RM(s,s.h),s.h=null))}if(r.F){const g=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Qe(r.I,r.F,g))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=t4(r,r.J?r.pa:null,r.Y),o.K){FW(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(Qy(a),Oh(a)),r.g=o}else YW(r);0<t.j.length&&r_(t)}else"stop"!=l[0]&&"close"!=l[0]||xa(t,7);else 3==t.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?xa(t,7):OM(t):"noop"!=l[0]&&t.h&&t.h.Aa(l),t.A=0)}xh()}catch{}}function DW(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Ly(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function _we(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Ly(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function ywe(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Ly(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(k=Ph.prototype).setTimeout=function(n){this.P=n},k.nb=function(n){n=n.target;const e=this.M;e&&3==xi(n)?e.l():this.Pa(n)},k.Pa=function(n){try{if(n==this.g)e:{const c=xi(this.g);var e=this.g.Ia();if(this.g.da(),!(3>c)&&(3!=c||sM||this.g&&(this.h.h||this.g.ja()||HW(this.g)))){this.J||4!=c||7==e||xh(),Qy(this);var t=this.g.da();this.ca=t;t:if(CW(this)){var r=HW(this.g);n="";var i=r.length,s=4==xi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ma(this),Fh(this);var o="";break t}this.h.i=new ie.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function hwe(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!bh(a)){var l=a;break t}}l=null}if(!(t=l)){this.i=!1,this.o=3,Un(12),Ma(this),Fh(this);break e}bl(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,NM(this,t)}this.S?(TW(this,c,o),sM&&this.i&&3==c&&(hW(this.U,this.V,"tick",this.mb),this.V.start())):(bl(this.j,this.m,o,null),NM(this,o)),4==c&&Ma(this),this.i&&!this.J&&(4==c?JW(this.l,this):(this.i=!1,Oh(this)))}else(function Fwe(n){const e={};n=(n.g&&2<=xi(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(bh(n[r]))continue;var t=awe(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function ewe(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,Un(12)):(this.o=0,Un(13)),Ma(this),Fh(this)}}}catch{}},k.mb=function(){if(this.g){var n=xi(this.g),e=this.g.ja();this.C<e.length&&(Qy(this),TW(this,n,e),this.i&&4!=n&&Oh(this))}},k.cancel=function(){this.J=!0,Ma(this)},k.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function fwe(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(xh(),Un(17)),Ma(this),this.o=2,Fh(this)):bW(this,this.Y-n)};var SW=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Na){this.h=n.h,Yy(this,n.j),this.s=n.s,this.g=n.g,Xy(this,n.m),this.l=n.l;var e=n.i,t=new Uh;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),AW(this,t),this.o=n.o}else n&&(e=String(n).match(SW))?(this.h=!1,Yy(this,e[1]||"",!0),this.s=Lh(e[2]||""),this.g=Lh(e[3]||"",!0),Xy(this,e[4]),this.l=Lh(e[5]||"",!0),AW(this,e[6]||"",!0),this.o=Lh(e[7]||"")):(this.h=!1,this.i=new Uh(null,this.h))}function _s(n){return new Na(n)}function Yy(n,e,t){n.j=t?Lh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Xy(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function AW(n,e,t){e instanceof Uh?(n.i=e,function bwe(n,e){e&&!n.j&&(lo(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(NW(this,r),RW(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Vh(e,Cwe)),n.i=new Uh(e,n.h))}function Qe(n,e,t){n.i.set(e,t)}function Jy(n){return Qe(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Lh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Vh(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,wwe),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wwe(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Na.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Vh(e,MW,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Vh(e,MW,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Vh(t,"/"==t.charAt(0)?Iwe:Ewe,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Vh(t,Twe)),n.join("")};var MW=/[#\/\?@]/g,Ewe=/[#\?:]/g,Iwe=/[#\?]/g,Cwe=/[#\?@]/g,Twe=/#/g;function Uh(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function lo(n){n.g||(n.g=new Map,n.h=0,n.i&&function vwe(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function NW(n,e){lo(n),e=Dl(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function xW(n,e){return lo(n),e=Dl(n,e),n.g.has(e)}function RW(n,e,t){NW(n,e),0<t.length&&(n.i=null,n.g.set(Dl(n,e),rM(t)),n.h+=t.length)}function Dl(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function kW(n){this.l=n||Swe,n=ie.PerformanceNavigationTiming?0<(n=ie.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ie.g&&ie.g.Ka&&ie.g.Ka()&&ie.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(k=Uh.prototype).add=function(n,e){lo(this),this.i=null,n=Dl(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},k.forEach=function(n,e){lo(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},k.ta=function(){lo(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},k.Z=function(n){lo(this);let e=[];if("string"==typeof n)xW(this,n)&&(e=e.concat(this.g.get(Dl(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},k.set=function(n,e){return lo(this),this.i=null,xW(this,n=Dl(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},k.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var Swe=10;function PW(n){return!!n.h||!!n.g&&n.g.size>=n.j}function OW(n){return n.h?1:n.g?n.g.size:0}function xM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RM(n,e){n.g?n.g.add(e):n.h=e}function FW(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function LW(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return rM(n.i)}kW.prototype.cancel=function(){if(this.i=LW(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var Awe=class{stringify(n){return ie.JSON.stringify(n,void 0)}parse(n){return ie.JSON.parse(n,void 0)}};function Mwe(){this.g=new Awe}function Nwe(n,e,t){const r=t||"";try{DW(n,function(i,s){let o=i;Th(i)&&(o=wM(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zy(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Bh(n){this.l=n.fc||null,this.j=n.ob||!1}function e_(n,e){Yt.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=kM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Qt(Bh,TM),Bh.prototype.g=function(){return new e_(this.l,this.j)},Bh.prototype.i=function(n){return function(){return n}}({}),Qt(e_,Yt);var kM=0;function VW(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function $h(n){n.readyState=4,n.l=null,n.j=null,n.A=null,jh(n)}function jh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(k=e_.prototype).open=function(n,e){if(this.readyState!=kM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,jh(this)},k.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||ie).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$h(this)),this.readyState=kM},k.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,jh(this)),this.g&&(this.readyState=3,jh(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ie.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VW(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},k.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?$h(this):jh(this),3==this.readyState&&VW(this)}},k.Za=function(n){this.g&&(this.response=this.responseText=n,$h(this))},k.Ya=function(n){this.g&&(this.response=n,$h(this))},k.ka=function(){this.g&&$h(this)},k.setRequestHeader=function(n,e){this.v.append(n,e)},k.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},k.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(e_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Rwe=ie.JSON.parse;function gt(n){Yt.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UW,this.L=this.M=!1}Qt(gt,Yt);var UW="",kwe=/^https?$/i,Pwe=["POST","PUT"];function BW(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,$W(n),t_(n)}function $W(n){n.F||(n.F=!0,dn(n,"complete"),dn(n,"error"))}function jW(n){if(n.h&&typeof tM<"u"&&(!n.C[1]||4!=xi(n)||2!=n.da()))if(n.v&&4==xi(n))CM(n.La,0,n);else if(dn(n,"readystatechange"),4==xi(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(SW)[1]||null;!i&&ie.self&&ie.self.location&&(i=ie.self.location.protocol.slice(0,-1)),r=!kwe.test(i?i.toLowerCase():"")}t=r}if(t)dn(n,"complete"),dn(n,"success");else{n.m=6;try{var s=2<xi(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",$W(n)}}finally{t_(n)}}}function t_(n,e){if(n.g){GW(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||dn(n,"ready");try{t.onreadystatechange=r}catch{}}}function GW(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(ie.clearTimeout(n.A),n.A=null)}function xi(n){return n.g?n.g.readyState:0}function HW(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case UW:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function zW(n){let e="";return dM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function PM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=zW(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Qe(n,e,t))}function Gh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function WW(n){this.Ga=0,this.j=[],this.l=new Hy,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gh("baseRetryDelayMs",5e3,n),this.hb=Gh("retryDelaySeedMs",1e4,n),this.eb=Gh("forwardChannelMaxRetries",2,n),this.xa=Gh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new kW(n&&n.concurrentRequestLimit),this.Ja=new Mwe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function OM(n){if(qW(n),3==n.H){var e=n.W++,t=_s(n.I);if(Qe(t,"SID",n.K),Qe(t,"RID",e),Qe(t,"TYPE","terminate"),Hh(n,t),(e=new Ph(n,n.l,e)).L=2,e.v=Jy(_s(t)),t=!1,ie.navigator&&ie.navigator.sendBeacon)try{t=ie.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&ie.Image&&((new Image).src=e.v,t=!0),t||(e.g=n4(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Oh(e)}e4(n)}function n_(n){n.g&&(LM(n),n.g.cancel(),n.g=null)}function qW(n){n_(n),n.u&&(ie.clearTimeout(n.u),n.u=null),i_(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ie.clearTimeout(n.m),n.m=null)}function r_(n){if(!PW(n.i)&&!n.m){n.m=!0;var e=n.Na;Ah||lW(),Mh||(Ah(),Mh=!0),EM.add(e,n),n.C=0}}function KW(n,e){var t;t=e?e.m:n.W++;const r=_s(n.I);Qe(r,"SID",n.K),Qe(r,"RID",t),Qe(r,"AID",n.V),Hh(n,r),n.o&&n.s&&PM(r,n.o,n.s),t=new Ph(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=QW(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),RM(n.i,t),MM(t,r,e)}function Hh(n,e){n.na&&dM(n.na,function(t,r){Qe(e,r,t)}),n.h&&DW({},function(t,r){Qe(e,r,t)})}function QW(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Tn(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<t;u++){let l=i[u].g;const c=i[u].map;if(l-=s,0>l)s=Math.max(0,i[u].g-100),a=!1;else try{Nwe(c,o,"req"+l+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function YW(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Ah||lW(),Mh||(Ah(),Mh=!0),EM.add(e,n),n.A=0}}function FM(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Rh(Tn(n.Ma,n),ZW(n,n.A)),n.A++,0))}function LM(n){null!=n.B&&(ie.clearTimeout(n.B),n.B=null)}function XW(n){n.g=new Ph(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=_s(n.wa);Qe(e,"RID","rpc"),Qe(e,"SID",n.K),Qe(e,"AID",n.V),Qe(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Qe(e,"TO",n.qa),Qe(e,"TYPE","xmlhttp"),Hh(n,e),n.o&&n.s&&PM(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Jy(_s(e)),t.s=null,t.S=!0,IW(t,n)}function i_(n){null!=n.v&&(ie.clearTimeout(n.v),n.v=null)}function JW(n,e){var t=null;if(n.g==e){i_(n),LM(n),n.g=null;var r=2}else{if(!xM(n.i,e))return;t=e.F,FW(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;dn(r=zy(),new yW(r,t)),r_(n)}else YW(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Lwe(n,e){return!(OW(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Rh(Tn(n.Na,n,e),ZW(n,n.C)),n.C++,0)))}(n,e)||2==r&&FM(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:xa(n,5);break;case 4:xa(n,10);break;case 3:xa(n,6);break;default:xa(n,2)}}function ZW(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function xa(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Tn(n.pb,n);t||(t=new Na("//www.google.com/images/cleardot.gif"),ie.location&&"http"==ie.location.protocol||Yy(t,"https"),Jy(t)),function xwe(n,e){const t=new Hy;if(ie.Image){const r=new Image;r.onload=Vy(Zy,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Vy(Zy,t,r,"TestLoadImage: error",!1,e),r.onabort=Vy(Zy,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vy(Zy,t,r,"TestLoadImage: timeout",!1,e),ie.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Un(2);n.H=0,n.h&&n.h.za(e),e4(n),qW(n)}function e4(n){if(n.H=0,n.ma=[],n.h){const e=LW(n.i);(0!=e.length||0!=n.j.length)&&(Qz(n.ma,e),Qz(n.ma,n.j),n.i.i.length=0,rM(n.j),n.j.length=0),n.h.ya()}}function t4(n,e,t){var r=t instanceof Na?_s(t):new Na(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Xy(r,r.m);else{var i=ie.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Na(null);r&&Yy(s,r),e&&(s.g=e),i&&Xy(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&Qe(r,t,e),Qe(r,"VER",n.ra),Hh(n,r),r}function n4(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gt(t&&n.Ha&&!n.va?new Bh({ob:!0}):n.va)).Oa(n.J),e}function r4(){}function s_(){if(Tl&&!(10<=Number(Yve)))throw Error("Environmental error: no available transport.")}function _r(n,e){Yt.call(this),this.g=new WW(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!bh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!bh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Sl(this)}function i4(n){bM.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function s4(){DM.call(this),this.status=1}function Sl(n){this.g=n}function Zr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function VM(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Fe(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(k=gt.prototype).Oa=function(n){this.M=n},k.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():SM.g(),this.C=function vW(n){return n.h||(n.h=n.i())}(this.u?this.u:SM),this.g.onreadystatechange=Tn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void BW(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=ie.FormData&&n instanceof ie.FormData,!(0<=Kz(Pwe,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GW(this),0<this.B&&((this.L=function Owe(n){return Tl&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tn(this.ua,this)):this.A=CM(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){BW(this,s)}},k.ua=function(){typeof tM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))},k.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,dn(this,"complete"),dn(this,"abort"),t_(this))},k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),t_(this,!0)),gt.$.N.call(this)},k.La=function(){this.s||(this.G||this.v||this.l?jW(this):this.kb())},k.kb=function(){jW(this)},k.isActive=function(){return!!this.g},k.da=function(){try{return 2<xi(this)?this.g.status:-1}catch{return-1}},k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},k.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Rwe(e)}},k.Ia=function(){return this.m},k.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(k=WW.prototype).ra=8,k.H=1,k.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Ph(this,this.l,n);let s=this.s;if(this.U&&(s?(s=eW(s),nW(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=QW(this,i,e),Qe(t=_s(this.I),"RID",n),Qe(t,"CVER",22),this.F&&Qe(t,"X-HTTP-Session-Id",this.F),Hh(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(zW(s)))+"&"+e:this.o&&PM(t,this.o,s)),RM(this.i,i),this.bb&&Qe(t,"TYPE","init"),this.P?(Qe(t,"$req",e),Qe(t,"SID","null"),i.aa=!0,MM(i,t,null)):MM(i,t,e),this.H=2}}else 3==this.H&&(n?KW(this,n):0==this.j.length||PW(this.i)||KW(this))},k.Ma=function(){if(this.u=null,XW(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Rh(Tn(this.jb,this),n)}},k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Un(10),n_(this),XW(this))},k.ib=function(){null!=this.v&&(this.v=null,n_(this),FM(this),Un(19))},k.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Un(2)):(this.l.info("Failed to ping google.com"),Un(1))},k.isActive=function(){return!!this.h&&this.h.isActive(this)},(k=r4.prototype).Ba=function(){},k.Aa=function(){},k.za=function(){},k.ya=function(){},k.isActive=function(){return!0},k.Va=function(){},s_.prototype.g=function(n,e){return new _r(n,e)},Qt(_r,Yt),_r.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Un(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=t4(n,null,n.Y),r_(n)},_r.prototype.close=function(){OM(this.g)},_r.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wM(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&r_(e)},_r.prototype.N=function(){this.g.h=null,delete this.j,OM(this.g),delete this.g,_r.$.N.call(this)},Qt(i4,bM),Qt(s4,DM),Qt(Sl,r4),Sl.prototype.Ba=function(){dn(this.g,"a")},Sl.prototype.Aa=function(n){dn(this.g,new i4(n))},Sl.prototype.za=function(n){dn(this.g,new s4)},Sl.prototype.ya=function(){dn(this.g,"b")},Qt(Zr,function Vwe(){this.blockSize=-1}),Zr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Zr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)VM(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){VM(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){VM(this,r),i=0;break}}this.h=i,this.i+=e},Zr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Uwe={};function UM(n){return-128<=n&&128>n?function qve(n,e){var t=Uwe;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Fe([0|e],0>e?-1:0)}):new Fe([0|n],0>n?-1:0)}function Ri(n){if(isNaN(n)||!isFinite(n))return Al;if(0>n)return hn(Ri(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=BM;return new Fe(e,0)}var BM=4294967296,Al=UM(0),$M=UM(1),a4=UM(16777216);function vs(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Or(n){return-1==n.h}function hn(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Fe(t,~n.h).add($M)}function o_(n,e){return n.add(hn(e))}function a_(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function zh(n,e){this.g=n,this.h=e}function u_(n,e){if(vs(e))throw Error("division by zero");if(vs(n))return new zh(Al,Al);if(Or(n))return e=u_(hn(n),e),new zh(hn(e.g),hn(e.h));if(Or(e))return e=u_(n,hn(e)),new zh(hn(e.g),e.h);if(30<n.g.length){if(Or(n)||Or(e))throw Error("slowDivide_ only works with positive integers.");for(var t=$M,r=e;0>=r.X(n);)t=u4(t),r=u4(r);var i=Ml(t,1),s=Ml(r,1);for(r=Ml(r,2),t=Ml(t,2);!vs(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=Ml(r,1),t=Ml(t,1)}return e=o_(n,i.R(e)),new zh(i,e)}for(i=Al;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ri(t)).R(e);Or(o)||0<o.X(n);)o=(s=Ri(t-=r)).R(e);vs(s)&&(s=$M),i=i.add(s),n=o_(n,o)}return new zh(i,n)}function u4(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Fe(t,n.h)}function Ml(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Fe(i,n.h)}(k=Fe.prototype).ea=function(){if(Or(this))return-hn(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:BM+r)*e,e*=BM}return n},k.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(vs(this))return"0";if(Or(this))return"-"+hn(this).toString(n);for(var e=Ri(Math.pow(n,6)),t=this,r="";;){var i=u_(t,e).g,s=((0<(t=o_(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(vs(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},k.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},k.X=function(n){return Or(n=o_(this,n))?-1:vs(n)?0:1},k.abs=function(){return Or(this)?hn(this):this},k.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Fe(t,-2147483648&t[t.length-1]?-1:0)},k.R=function(n){if(vs(this)||vs(n))return Al;if(Or(this))return Or(n)?hn(this).R(hn(n)):hn(hn(this).R(n));if(Or(n))return hn(this.R(hn(n)));if(0>this.X(a4)&&0>n.X(a4))return Ri(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,u=65535&n.D(i);t[2*r+2*i]+=o*u,a_(t,2*r+2*i),t[2*r+2*i+1]+=s*u,a_(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,a_(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,a_(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Fe(t,0)},k.gb=function(n){return u_(this,n).h},k.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Fe(t,this.h&n.h)},k.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Fe(t,this.h|n.h)},k.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Fe(t,this.h^n.h)},s_.prototype.createWebChannel=s_.prototype.g,_r.prototype.send=_r.prototype.u,_r.prototype.open=_r.prototype.m,_r.prototype.close=_r.prototype.close,Wy.NO_ERROR=0,Wy.TIMEOUT=8,Wy.HTTP_ERROR=6,_W.COMPLETE="complete",wW.EventType=kh,kh.OPEN="a",kh.CLOSE="b",kh.ERROR="c",kh.MESSAGE="d",Yt.prototype.listen=Yt.prototype.O,gt.prototype.listenOnce=gt.prototype.P,gt.prototype.getLastError=gt.prototype.Sa,gt.prototype.getLastErrorCode=gt.prototype.Ia,gt.prototype.getStatus=gt.prototype.da,gt.prototype.getResponseJson=gt.prototype.Wa,gt.prototype.getResponseText=gt.prototype.ja,gt.prototype.send=gt.prototype.ha,gt.prototype.setWithCredentials=gt.prototype.Oa,Zr.prototype.digest=Zr.prototype.l,Zr.prototype.reset=Zr.prototype.reset,Zr.prototype.update=Zr.prototype.j,Fe.prototype.add=Fe.prototype.add,Fe.prototype.multiply=Fe.prototype.R,Fe.prototype.modulo=Fe.prototype.gb,Fe.prototype.compare=Fe.prototype.X,Fe.prototype.toNumber=Fe.prototype.ea,Fe.prototype.toString=Fe.prototype.toString,Fe.prototype.getBits=Fe.prototype.D,Fe.fromNumber=Ri,Fe.fromString=function o4(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return hn(o4(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ri(Math.pow(e,8)),r=Al,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=Ri(Math.pow(e,s)),r=r.R(s).add(Ri(o))):r=(r=r.R(t)).add(Ri(o))}return r},Jr.createWebChannelTransport=function(){return new s_},Jr.getStatEventTarget=function(){return zy()},Jr.ErrorCode=Wy,Jr.EventType=_W,Jr.Event=Aa,Jr.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Jr.FetchXmlHttpFactory=Bh,Jr.WebChannel=wW,Jr.XhrIo=gt,Jr.Md5=Zr;var Bwe=Jr.Integer=Fe;const l4="@firebase/firestore";class Xt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let Wh="9.23.0";const co=new Zo("@firebase/firestore");function S(n,...e){if(co.logLevel<=te.DEBUG){const t=e.map(GM);co.debug(`Firestore (${Wh}): ${n}`,...t)}}function vt(n,...e){if(co.logLevel<=te.ERROR){const t=e.map(GM);co.error(`Firestore (${Wh}): ${n}`,...t)}}function GM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function L(n="Unexpected state"){const e=`FIRESTORE (${Wh}) INTERNAL ASSERTION FAILED: `+n;throw vt(e),new Error(e)}function j(n,e){n||L()}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class b extends qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ut{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class c4{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $we{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xt.UNAUTHENTICATED))}shutdown(){}}class jwe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Gwe{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,t(l)):Promise.resolve();let o=new Ut;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ut,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(E(function*(){yield l.promise,yield s(r.currentUser)}))},u=l=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>u(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?u(l):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ut)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(j("string"==typeof r.accessToken),new c4(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new Xt(e)}}class Hwe{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class zwe{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Hwe(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class d4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wwe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(j("string"==typeof t.token),this.T=t.token,new d4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function qwe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class h4{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=qwe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function ne(n,e){return n<e?-1:n>e?1:0}class l_{constructor(e,t,r){void 0===t?t=0:t>e.length&&L(),void 0===r?r=e.length-t:r>e.length-t&&L(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===l_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof l_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ce extends l_{construct(e,t,r){return new Ce(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new b(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ce(t)}static emptyPath(){return new Ce([])}}class N{constructor(e){this.path=e}static fromPath(e){return new N(Ce.fromString(e))}static fromName(e){return new N(Ce.fromString(e).popFirst(5))}static empty(){return new N(Ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ce.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ce.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new N(new Ce(e.slice()))}}function fo(n){return"IndexedDbTransactionError"===n.name}class qe{constructor(e,t){this.comparator=e,this.root=t||fn.EMPTY}insert(e,t){return new qe(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fn.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new p_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new p_(this.root,e,this.comparator,!1)}getReverseIterator(){return new p_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new p_(this.root,e,this.comparator,!0)}}class p_{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fn{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??fn.RED,this.left=i??fn.EMPTY,this.right=s??fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new fn(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return fn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}fn.EMPTY=null,fn.RED=!0,fn.BLACK=!1,fn.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(n,e,t,r,i){return this}insert(n,e,t){return new fn(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ye{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new S4(this.data.getIterator())}getIteratorFrom(e){return new S4(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ye)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ye(this.comparator);return t.data=e,t}}class S4{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class A4 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new A4("Invalid base64 string: "+i):i}}(e);return new Bt(t)}static fromUint8Array(e){const t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function mt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Bt.EMPTY_BYTE_STRING=new Bt("");class wEe{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}}class Pa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pa&&e.projectId===this.projectId&&e.database===this.database}}var xt,Te;new qe(N.comparator),new qe(N.comparator),new qe(N.comparator),new Ye(N.comparator),new Ye(ne),(Te=xt||(xt={}))[Te.OK=0]="OK",Te[Te.CANCELLED=1]="CANCELLED",Te[Te.UNKNOWN=2]="UNKNOWN",Te[Te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Te[Te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Te[Te.NOT_FOUND=5]="NOT_FOUND",Te[Te.ALREADY_EXISTS=6]="ALREADY_EXISTS",Te[Te.PERMISSION_DENIED=7]="PERMISSION_DENIED",Te[Te.UNAUTHENTICATED=16]="UNAUTHENTICATED",Te[Te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Te[Te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Te[Te.ABORTED=10]="ABORTED",Te[Te.OUT_OF_RANGE=11]="OUT_OF_RANGE",Te[Te.UNIMPLEMENTED=12]="UNIMPLEMENTED",Te[Te.INTERNAL=13]="INTERNAL",Te[Te.UNAVAILABLE=14]="UNAVAILABLE",Te[Te.DATA_LOSS=15]="DATA_LOSS",new Bwe([4294967295,4294967295],0);class Ga{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(mt(e.integerValue));else if("doubleValue"in e){const r=mt(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function Yh(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function ws(n){return"string"==typeof n?Bt.fromBase64String(n):Bt.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function R4(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):L()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),N.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Ga.Ve=new Ga,new Uint8Array(0);class Sn{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Sn(e,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function j_(){return typeof document<"u"?document:null}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(41943040,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class VN{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class rx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ut,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new rx(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new b(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class xCe{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=h4.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=E(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return E(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ut;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(E(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Ql(n,e){if(vt("AsyncQueue",`${e}: ${n}`),fo(n))return new b(w.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function K3(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Q3=new Map;function Ee(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new b(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function Y_(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":L()}(n);throw new b(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class Z3{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new b(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new b(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function BCe(n,e,t,r){if(!0===e&&!0===r)throw new b(w.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=K3(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new b(w.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sf{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new b(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z3(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new $we;switch(t.type){case"firstParty":return new zwe(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new b(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Q3.get(e);t&&(S("ComponentProvider","Removing Datastore"),Q3.delete(e),t.terminate())}(this),Promise.resolve()}}class GCe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new VN(this,"async_queue_retry"),this.Xc=()=>{const t=j_();t&&S("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=j_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=j_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ut;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return E(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!fo(t))throw t;S("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,vt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=rx.createAndSchedule(this,e,t,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&L()}verifyOperationInProgress(){}sa(){var e=this;return E(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Je extends Sf{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new GCe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function t6(n){var e,t,r;const i=n._freezeSettings(),s=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new wEe(n._databaseId,a,n._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,K3(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;n._firestoreClient=new xCe(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function zCe(n,e){const r="string"==typeof n?n:e||"(default)",i=Dd("object"==typeof n?n:_C(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=pU("firestore");s&&function $Ce(n,e,t,r={}){var i;const s=(n=Ee(n,Sf))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function ki(n,...e){if(co.logLevel<=te.WARN){const t=e.map(GM);co.warn(`Firestore (${Wh}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Xt.MOCK_USER;else{a=mU(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new b(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Xt(l)}n._authCredentials=new jwe(new c4(a,u))}}(i,...s)}return i}!function(n,e=!0){Wh=el,En(new un("firestore",(t,{instanceIdentifier:r,options:i})=>{const s=t.getProvider("app").getImmediate(),o=new Je(new Gwe(t.getProvider("auth-internal")),new Wwe(t.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pa(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),et(l4,"3.13.0",n),et(l4,"3.13.0","esm2017")}();class Jx{constructor(e){return e}}const I6="firestore",Zx=new V("angularfire2.firestore-instances");function _Te(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Jx(r)}}const vTe={provide:class mTe{constructor(){return am(I6)}},deps:[[new Ht,Zx]]},wTe={provide:Jx,useFactory:function yTe(n,e){const t=om(I6,n,e);return t&&new Jx(t)},deps:[[new Ht,Zx],ua]};let ETe=(()=>{class n{constructor(){et("angularfire",sm.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n}),n.\u0275inj=xn({providers:[wTe,vTe]}),n})();function ITe(n,...e){return{ngModule:ETe,providers:[{provide:Zx,useFactory:_Te(n),multi:!0,deps:[Pe,cr,vb,wb,[new Ht,SS],[new Ht,QS],...e]}]}}const CTe=Nd(zCe,!0);let TTe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=Gn({type:n,bootstrap:[jye]}),n.\u0275inj=xn({imports:[XV,Bye,Vve,Qle(()=>Yle(Uve_firebase)),Fme(()=>Lme()),ITe(()=>CTe()),Vye]}),n})();_ne().bootstrapModule(TTe).catch(n=>console.error(n))}},Ue=>{Ue(Ue.s=887)}]);